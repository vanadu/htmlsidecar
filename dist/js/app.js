/*!
 * clipboard.js v1.5.16
 * https://zenorocha.github.io/clipboard.js
 *
 * Licensed MIT Â© Zeno Rocha
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}((function(){return function e(t,i,n){function r(o,l){if(!i[o]){if(!t[o]){var c="function"==typeof require&&require;if(!l&&c)return c(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var p=i[o]={exports:{}};t[o][0].call(p.exports,(function(e){var i=t[o][1][e];return r(i||e)}),p,p.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){if(Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(e,t){for(;e&&9!==e.nodeType;){if(e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,i){var n=e("./closest");function r(e,t,i,r){return function(i){i.delegateTarget=n(i.target,t),i.delegateTarget&&r.call(e,i)}}t.exports=function(e,t,i,n,a){var o=r.apply(this,arguments);return e.addEventListener(i,o,a),{destroy:function(){e.removeEventListener(i,o,a)}}}},{"./closest":1}],3:[function(e,t,i){i.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},i.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||i.node(e[0]))},i.string=function(e){return"string"==typeof e||e instanceof String},i.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,i){var n=e("./is"),r=e("delegate");t.exports=function(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,i){return e.addEventListener(t,i),{destroy:function(){e.removeEventListener(t,i)}}}(e,t,i);if(n.nodeList(e))return function(e,t,i){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,i)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,i)}))}}}(e,t,i);if(n.string(e))return function(e,t,i){return r(document.body,e,t,i)}(e,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,i){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),n=document.createRange();n.selectNodeContents(e),i.removeAllRanges(),i.addRange(n),t=i.toString()}return t}},{}],6:[function(e,t,i){function n(){}n.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){var n=this;function r(){n.off(e,r),t.apply(i,arguments)}return r._=t,this.on(e,r,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],r=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&r.push(n[a]);return r.length?i[e]=r:delete i[e],this}},t.exports=n},{}],7:[function(e,t,i){!function(n,r){if(void 0!==i)r(t,e("select"));else{var a={exports:{}};r(a,n.select),n.clipboardAction=a.exports}}(this,(function(e,t){"use strict";var i,n=(i=t)&&i.__esModule?i:{default:i};var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,i)),this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":r(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=o}))},{select:5}],8:[function(e,t,i){!function(n,r){if(void 0!==i)r(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=a.exports}}(this,(function(e,t,i,n){"use strict";var r=l(t),a=l(i),o=l(n);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var s=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(i),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,o.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new r.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return p("action",e)}},{key:"defaultTarget",value:function(e){var t=p("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return p("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(a.default);function p(e,t){var i="data-clipboard-"+e;if(t.hasAttribute(i))return t.getAttribute(i)}e.exports=s}))},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}((function(){return function e(t,i,n){function r(o,l){if(!i[o]){if(!t[o]){var c="function"==typeof require&&require;if(!l&&c)return c(o,!0);if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var p=i[o]={exports:{}};t[o][0].call(p.exports,(function(e){var i=t[o][1][e];return r(i||e)}),p,p.exports,e,t,i,n)}return i[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,i){var n=9;if(Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=function(e,t){for(;e&&e.nodeType!==n;){if(e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,i){function n(e,t,i,n){return function(i){i.delegateTarget=r(i.target,t),i.delegateTarget&&n.call(e,i)}}var r=e("./closest");t.exports=function(e,t,i,r,a){var o=n.apply(this,arguments);return e.addEventListener(i,o,a),{destroy:function(){e.removeEventListener(i,o,a)}}}},{"./closest":1}],3:[function(e,t,i){i.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},i.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||i.node(e[0]))},i.string=function(e){return"string"==typeof e||e instanceof String},i.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,i){var n=e("./is"),r=e("delegate");t.exports=function(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(i))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,i){return e.addEventListener(t,i),{destroy:function(){e.removeEventListener(t,i)}}}(e,t,i);if(n.nodeList(e))return function(e,t,i){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,i)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,i)}))}}}(e,t,i);if(n.string(e))return function(e,t,i){return r(document.body,e,t,i)}(e,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,i){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),n=document.createRange();n.selectNodeContents(e),i.removeAllRanges(),i.addRange(n),t=i.toString()}return t}},{}],6:[function(e,t,i){function n(){}n.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){function n(){r.off(e,n),t.apply(i,arguments)}var r=this;return n._=t,this.on(e,n,i)},emit:function(e){for(var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=i.length;n<r;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],r=[];if(n&&t)for(var a=0,o=n.length;a<o;a++)n[a].fn!==t&&n[a].fn._!==t&&r.push(n[a]);return r.length?i[e]=r:delete i[e],this}},t.exports=n},{}],7:[function(e,t,i){!function(n,r){if(void 0!==i)r(t,e("select"));else{var a={exports:{}};r(a,n.select),n.clipboardAction=a.exports}}(this,(function(e,t){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(t),n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.addEventListener("focus",window.scrollTo(0,n)),this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":n(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a}))},{select:5}],8:[function(e,t,i){!function(n,r){if(void 0!==i)r(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var a={exports:{}};r(a,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=a.exports}}(this,(function(e,t,i,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var i="data-clipboard-"+e;if(t.hasAttribute(i))return t.getAttribute(i)}var o=r(t),l=r(i),c=r(n),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(i),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,c.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return a("action",e)}},{key:"defaultTarget",value:function(e){var t=a("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return a("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}]),t}(l.default);e.exports=p}))},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}));var Witty=function(){var e,t=document.querySelector("#testme"),i=document.querySelector("#testme2"),n=function(){};e=!0,t.onclick=function(){(e=!e)?i.addEventListener("click",n,!1):i.removeEventListener("click",n,!1)};let r={};var a=function(){const e={insFilename:"#ins-filename",insDisplay:"#ins-display-size",insDisksize:"#ins-disk-size",insAspect:"#ins-aspect",insSmallPhones:"#ins-small-phones",insLargePhones:"#ins-large-phones",insRetina:"#ins-retina",btnToggleCcp:"#btn-toggle-ccp",spnDisplaySizeHeight:"#spn-display-size-height",spnDisplaySizeWidth:"#spn-display-size-width",spnSmallPhonesHeight:"#spn-small-phones-height",spnSmallPhonesWidth:"#spn-small-phones-width",spnLargePhonesHeight:"#spn-large-phones-height",spnLargePhonesWidth:"#spn-large-phones-width"},t={insDisplaySizeLabel:"#ins-display-size-label",insDiskSizeLabel:"#ins-disk-size-label",insAspectLabel:"#ins-aspect-label",insSmallPhonesLabel:"#ins-small-phones-label",insLargePhonesLabel:"#ins-large-phones-label",insRetinaLabel:"#ins-retina-label"},i={insDisplaySizeWidthValue:"#ins-display-size-width-value",insDisplaySizeHeightValue:"#ins-display-size-height-value",insDiskSizeWidthValue:"#ins-disk-size-width-value",insDiskSizeHeightValue:"#ins-disk-size-height-value",insAspectValue:"#ins-aspect-value",insSmallPhonesWidthValue:"#ins-small-phones-width-value",insSmallPhonesHeightValue:"#ins-small-phones-height-value",insLargePhonesWidthValue:"#ins-large-phones-width-value",insLargePhonesHeightValue:"#ins-large-phones-height-value",insRetinaWidthValue:"#ins-retina-width-value",insRetinaHeightValue:"#ins-retina-height-value"},n={iptTbrViewerW:"#ipt-tbr-viewerw",btnTbrIncr50:"#btn-tbr-incr50",btnTbrIncr10:"#btn-tbr-incr10",btnTbrIncr01:"#btn-tbr-incr01",iptTbrImgWidth:"#ipt-tbr-imgwidth",iptTbrImgHeight:"#ipt-tbr-imgheight",btnTbrDecr01:"#btn-tbr-decr01",btnTbrDecr10:"#btn-tbr-decr10",btnTbrDecr50:"#btn-tbr-decr50",iptTbrSPhonesWidth:"#ipt-tbr-sphones-width",iptTbrLPhonesWidth:"#ipt-tbr-lphones-width"},o={curImg:"#cur-img",imgViewer:"#main-image-viewer",imgViewport:"#image-viewport",appContainer:"#app-container"},c={dropArea:"#drop-area",tbrContainer:"#toolbar-container",ccpContainer:"#ccp",msgContainer:"#msg-container",appBlocker:"#app-blocker",hdrIsolateApp:".header-isolate-app"},s={iptCcpImgClass:"#ipt-ccp-img-class",iptCcpImgAlt:"#ipt-ccp-img-alt",spnCcpImgIncludeWidthHeightCheckmrk:"#spn-ccp-img-include-width-height-checkmrk",selCcpImgAlign:"#sel-ccp-img-align",iptCcpImgRelPath:"#ipt-ccp-img-relpath",spnCcpImgIncludeAnchorCheckmrk:"#spn-ccp-img-include-anchor-checkmrk",iptCcpTdClass:"#ipt-ccp-td-class",selCcpTdAlign:"#sel-ccp-td-align",selCcpTdValign:"#sel-ccp-td-valign",iptCcpTdHeight:"#ipt-ccp-td-height",iptCcpTdWidth:"#ipt-ccp-td-width",iptCcpTdBgColor:"#ipt-ccp-td-bgcolor",iptCcpTdFontColor:"#ipt-ccp-td-fontcolor",iptCcpTdBorderColor:"#ipt-ccp-td-bordercolor",iptCcpTdBorderRadius:"#ipt-ccp-td-borderradius",rdoCcpTdBasic:"#rdo-ccp-td-basic",rdoCcpTdExcludeimg:"#rdo-ccp-td-excludeimg",rdoCcpTdImgswap:"#rdo-ccp-td-imgswap",rdoCcpTdPosswitch:"#rdo-ccp-td-posswitch",rdoCcpTdBgimage:"#rdo-ccp-td-bgimage",rdoCcpTdVmlbutton:"#rdo-ccp-td-vmlbutton",iptCcpTableClass:"#ipt-ccp-table-class",selCcpTableAlign:"#sel-ccp-table-align",iptCcpTableWidth:"#ipt-ccp-table-width",iptCcpTableBgColor:"#ipt-ccp-table-bgcolor",spnCcpTableIncludeWrapperCheckmrk:"#spn-ccp-table-include-wrapper-checkmrk",iptCcpTableWrapperClass:"#ipt-ccp-table-wrapper-class",iptCcpTableWrapperWidth:"#ipt-ccp-table-wrapper-width",selCcpTableWrapperAlign:"#sel-ccp-table-wrapper-align",iptCcpTableWrapperBgColor:"#ipt-ccp-table-wrapper-bgcolor"},p={selCcpImgAlignLabel:"#sel-ccp-img-align-label",iptCcpImgClassLabel:"#ipt-ccp-img-class-label",iptCcpImgRelpathLabel:"#ipt-ccp-img-relpath-label",iptCcpImgAltLabel:"#ipt-ccp-img-alt-label",iptCcpImgIncludeWidthHeightLabel:"#ccp-img-include-width-height-label"},d={btnCcpMakeImgTag:"#btn-ccp-make-img-tag",btnCcpMakeTdTag:"#btn-ccp-make-td-tag",btnCcpMakeTableTag:"#btn-ccp-make-table-tag",btnCcpMakeImgDsktpCssRule:"#btn-ccp-make-img-dsktp-css-rule",btnCcpMakeImgSmphnCssRule:"#btn-ccp-make-img-smphn-css-rule",btnCcpMakeImgLgphnCssRule:"#btn-ccp-make-img-lgphn-css-rule",btnCcpMakeTdDsktpCssRule:"#btn-ccp-make-td-dsktp-css-rule",btnCcpMakeTdSmphnCssRule:"#btn-ccp-make-td-smphn-css-rule",btnCcpMakeTdLgphnCssRule:"#btn-ccp-make-td-lgphn-css-rule",btnCcpMakeTableDsktpCssRule:"#btn-ccp-make-table-dsktp-css-rule",btnCcpMakeTableSmphnCssRule:"#btn-ccp-make-table-smphn-css-rule",btnCcpMakeTableLgphnCssRule:"#btn-ccp-make-table-lgphn-css-rule"},u={tipContent:"#tip-content",msgContent:"#msg-content",errContent:"#err-content"};return{displayAppMessages:function(e,t,i){e?function(e,t){document.querySelector(e).classList.add("active"),e.includes("tip")||document.querySelector(c.appBlocker).classList.add("active")}(t):function(e,t){document.querySelector(c.appBlocker).classList.remove("active"),document.querySelector(e).classList.remove("active")}(t)},getInspectorElementIDs:function(){return e},getInspectorValuesIDs:function(){return i},getInspectorLabelsIDs:function(){return t},getToolButtonIDs:function(){return n},getDynamicRegionIDs:function(){return o},getStaticRegionIDs:function(){return c},getCcpUserInputIDs:function(){return s},getCcpUserInputLabelIds:function(){return p},getBtnCcpMakeClips:function(){return d},getAppMessageElements:function(){return u},initToolbarInputs:function(){},queryDOMElements:function(){var t={fname:void 0,viewerW:void 0,viewerH:void 0,imgW:void 0,imgH:void 0,imgNW:void 0,imgNH:void 0,sPhonesW:void 0,lPhonesW:void 0};t.fname=document.querySelector(e.insFilename).textContent;var i=document.querySelector(o.curImg),a=document.querySelector(o.imgViewer),l=window.getComputedStyle(a);return t.viewerW=parseInt(l.getPropertyValue("width"),10),t.viewerH=parseInt(l.getPropertyValue("height"),10),t.imgW=i.width,t.imgH=i.height,t.imgNW=i.naturalWidth,t.imgNH=i.naturalHeight,t.sPhonesW=parseInt(document.querySelector(n.iptTbrSPhonesWidth).getAttribute("data-sphonesw"),10),t.lPhonesW=parseInt(document.querySelector(n.iptTbrLPhonesWidth).getAttribute("data-lphonesw"),10),t.iptTbrSPhonesWidth?t.iptTbrSPhonesWidth:r.iptTbrSPhonesWidth=parseInt(document.querySelector(n.iptTbrSPhonesWidth).placeholder,10),t.iptTbrLPhonesWidth?t.iptTbrLPhonesWidth:r.iptTbrLPhonesWidth=parseInt(document.querySelector(n.iptTbrLPhonesWidth).placeholder,10),t},initUI:function(t){"devmode"===t&&setTimeout((function(){document.querySelector(c.tbrContainer).style.display="block",document.querySelector(o.curImg).style.display="block";var t=document.querySelector(o.curImg).src;t=(t=t.split("/"))[t.length-1],document.querySelector(e.insFilename).textContent=t,l.initCalcViewerSize(),document.querySelector(c.ccpContainer).classList.add("active"),l.initInitCCP()}),10);let i=[],r=[];i=["viewerW","sPhonesW","lPhonesW"];for(let e=0;e<i.length;e++)localStorage.getItem(i[e])?r.push(localStorage.getItem(i[e])):r.push(!1);r[0]?document.querySelector(n.iptTbrViewerW).value=r[0]:document.querySelector(n.iptTbrViewerW).value=document.querySelector(n.iptTbrViewerW).placeholder,r[1]?r[1]:r[1]=document.querySelector(n.iptTbrSPhonesWidth).placeholder,document.querySelector(n.iptTbrSPhonesWidth).value=r[1],document.querySelector(n.iptTbrSPhonesWidth).setAttribute("data-sphonesw",r[1]),r[2]?r[2]:r[2]=document.querySelector(n.iptTbrLPhonesWidth).placeholder,document.querySelector(n.iptTbrLPhonesWidth).value=r[2],document.querySelector(n.iptTbrLPhonesWidth).setAttribute("data-lphonesw",r[2]),document.querySelector(c.dropArea).style.display="flex",document.querySelector(c.tbrContainer).style.display="none",document.querySelector(e.btnToggleCcp).style.display="none"},writeInspectors:function(){var t;t=l.initGetAppdata(),document.querySelector(c.dropArea).style.display="none",document.querySelector(e.insFilename).innerHTML=`<span class='pop-font'>${t.fname}</span>`;for(let e=0;e<document.getElementsByClassName("no-image").length;e++)document.getElementsByClassName("no-image")[e].style.display="none";for(let e=0;e<document.getElementsByClassName("inspector-label").length;e++)document.getElementsByClassName("inspector-label")[e].style.display="inline";document.querySelector(i.insDisplaySizeWidthValue).innerHTML=t.imgW,document.querySelector(i.insDisplaySizeHeightValue).innerHTML=t.imgH,document.querySelector(i.insDiskSizeWidthValue).innerHTML=t.imgNW,document.querySelector(i.insDiskSizeHeightValue).innerHTML=t.imgNH,document.querySelector(i.insSmallPhonesWidthValue).innerHTML=t.sPhonesW,document.querySelector(i.insSmallPhonesHeightValue).innerHTML=t.sPhonesH,document.querySelector(i.insLargePhonesWidthValue).innerHTML=t.lPhonesW,document.querySelector(i.insLargePhonesHeightValue).innerHTML=t.lPhonesH,document.querySelector(i.insAspectValue).innerHTML=t.aspect[1],document.querySelector(i.insRetinaWidthValue).innerHTML=2*t.imgW,document.querySelector(i.insRetinaHeightValue).innerHTML=2*t.imgH,document.querySelector(e.btnToggleCcp).style.display="block",function(e){let t=[],i=[];t=a.getInspectorLabelsIDs(),e.imgNW<2*e.imgW&&i.push(t.insDiskSizeLabel),e.imgNW<2*e.sPhonesW&&i.push(t.insSmallPhonesLabel),e.imgNW<2*e.lPhonesW&&i.push(t.insLargePhonesLabel),a.writeInspectorAlerts(i)}(t)},writeInspectorAlerts:function(e){for(let e=0;e<document.getElementsByClassName("inspector-label").length;e++)document.getElementsByClassName("inspector-label")[e].style.color="inherit";!1===Array.isArray(e)&&(e=Object.values(e));for(let t=0;t<e.length;t++)document.querySelector(e[t]).style.color="red"},displayTdOptions:function(e){let t,i,n,r=[],a=[];function o(e){return e="#"+e.substring(5)}function c(e){for(let t=0;t<e.length;t++)i=o(e[t]),document.querySelector(i).classList.add("active")}n=l.initGetAppdata(),t="#"+e.target.id,r=[s.iptCcpTdClass,s.selCcpTdAlign,s.selCcpTdValign,s.iptCcpTdHeight,s.iptCcpTdWidth,s.iptCcpTdBgColor,s.iptCcpTdFontColor,s.iptCcpTdBorderColor,s.iptCcpTdBorderRadius];for(let e=0;e<r.length;e++)i=o(r[e]),document.querySelector(i).classList.remove("active");switch(document.querySelector(s.iptCcpTdHeight).value="",document.querySelector(s.iptCcpTdWidth).value="",document.querySelector(s.iptCcpTdBgColor).value="",!0){case t===s.rdoCcpTdBasic||t===s.rdoCcpTdExcludeimg:a=[s.iptCcpTdClass,s.selCcpTdAlign,s.selCcpTdValign,s.iptCcpTdHeight,s.iptCcpTdWidth,s.iptCcpTdBgColor],c(a);break;case t===s.rdoCcpTdPosswitch:a=[s.iptCcpTdClass,s.selCcpTdAlign,s.selCcpTdValign,s.iptCcpTdBgColor],c(a);break;case t===s.rdoCcpTdImgswap:a=[s.iptCcpTdClass,s.selCcpTdAlign,s.selCcpTdValign],c(a);break;case t===s.rdoCcpTdBgimage:a=[s.iptCcpTdClass,s.iptCcpTdHeight,s.iptCcpTdWidth,s.iptCcpTdBgColor],c(a),document.querySelector(s.iptCcpTdHeight).value=n.imgH,document.querySelector(s.iptCcpTdWidth).value=n.imgW,document.querySelector(s.iptCcpTdBgColor).value="#7bceeb";break;case t===s.rdoCcpTdVmlbutton:a=[s.iptCcpTdClass,s.iptCcpTdHeight,s.iptCcpTdWidth,s.iptCcpTdBgColor,s.iptCcpTdFontColor,s.iptCcpTdBorderColor,s.iptCcpTdBorderRadius],c(a),document.querySelector(s.iptCcpTdHeight).value="40",document.querySelector(s.iptCcpTdWidth).value="200",document.querySelector(s.iptCcpTdBgColor).value="#556270",document.querySelector(s.iptCcpTdFontColor).value="#FFFFFF",document.querySelector(s.iptCcpTdBorderColor).value="#1e3650",document.querySelector(s.iptCcpTdBorderRadius).value="4"}}}}(),o=function(){var e=a.getInspectorElementIDs(),t=(a.getInspectorValuesIDs(),a.getInspectorLabelsIDs(),a.getCcpUserInputIDs()),i=a.getBtnCcpMakeClips();function n(){var i=l.initGetAppdata();let n,a,d,u,h;return{imgClass:r("class",document.querySelector(t.iptCcpImgClass).value),imgWidth:i.imgW,imgHeight:i.imgH,imgAlt:r("alt",document.querySelector(t.iptCcpImgAlt).value),imgSrc:function(){if(document.querySelector(t.iptCcpImgRelPath).value)return document.querySelector(t.iptCcpImgRelPath).value+"/"+document.querySelector(e.insFilename).textContent}(),imgStyle:function(){let e,n,r;return e=t.spnCcpImgIncludeWidthHeightCheckmrk,n=c(e),r=!0===n?`display: block; width: ${i.imgW}px; height: ${i.imgH}px; font-family: Arial, sans-serif; font-size: 16px; line-height: 15px; text-decoration: none; border: none; outline: none;`:"display: block; font-family: Arial, sans-serif; font-size: 16px; line-height: 15px; text-decoration: none; border: none; outline: none;",r}(),imgAlign:(d="",u=[],h="",h=t.selCcpImgAlign,u=["","left","center","right"],d=o(h,u),d),imgIncludeAnchor:function(){let e,i;return e=t.spnCcpImgIncludeAnchorCheckmrk,i=c(e),i}(),tdAppdataWidth:i.imgW,tdAppdataHeight:i.imgH,tdHeight:p("height",document.querySelector(t.iptCcpTdHeight).value),tdWidth:p("width",document.querySelector(t.iptCcpTdWidth).value),tdBasic:(n=t.rdoCcpTdBasic,a=s(n),a),tdImgswap:(n=t.rdoCcpTdBasic,a=s(n),a),tdBgimage:(n=t.rdoCcpTdBgimage,a),tdPosswitch:(n=t.rdoCcpTdPosswitch,a=s(n),a),tdAlign:function(){let e="",i=[],n="";return n=t.selCcpTdAlign,i=["","left","center","right"],e=o(n,i),e}(),tdValign:function(){let e="",i=[],n="";return n=t.selCcpTdValign,i=["","top","middle","bottom"],e=o(n,i),e}(),tdClass:r("class",document.querySelector(t.iptCcpTdClass).value),tdBgcolor:r("class",document.querySelector(t.iptCcpTdBgColor).value),tdBackground:document.querySelector(t.iptCcpImgRelPath).value+"/"+i.fname,tableClass:p("class",document.querySelector(t.iptCcpTableClass).value),tableWidth:document.querySelector(t.iptCcpTableWidth).value,tableBgcolor:p("bgcolor",document.querySelector(t.iptCcpTableBgColor).value),tableAlign:function(){let e="",i=[],n="";return n=t.selCcpTableAlign,i=["","left","center","right"],e=o(n,i),e}(),tableIncludeWrapper:function(){let e,i;return e=t.spnCcpTableIncludeWrapperCheckmrk,i=c(e),i}(),tableTagWrapperClass:p("class",document.querySelector(t.iptCcpTableWrapperClass).value),tableTagWrapperAlign:function(){let e="",i=[],n="";return n=t.selCcpTableWrapperAlign,i=["","left","center","right"],e=o(n,i),e}(),tableTagWrapperWidth:document.querySelector(t.iptCcpTableWrapperWidth).value,tableTagWrapperBgcolor:p("bgcolor",document.querySelector(t.iptCcpTableWrapperBgColor).value)}}function r(e,t){var i=l.initGetAppdata();return t&&e?"#"===t?"":t:"src"===e&&""===t?`${e}="${i.fname}" `:""}function o(e,t){var i,n;switch(n=document.querySelector(e).selectedIndex,!0){case 0===n:i="";break;case 1===n:i=t[1];break;case 2===n:i=t[2];break;case 3===n:i=t[3]}return i}function c(e){let t,i;return t=document.querySelector(e).id,t=t.replace("mrk","box"),t=t.replace("spn","chk"),i=!1!==document.querySelector("#"+t).checked,i}function s(e){let t,i;return t=document.querySelector(e).id,i=!1!==document.querySelector("#"+t).checked,i}function p(e,t){var i=l.initGetAppdata();return t&&e?"#"===t?"":t:"src"===e&&""===t?`${e}="${i.fname}" `:""}function d(e){let r={};r={buttonClicked:"",hasAnchor:c(t.spnCcpImgIncludeAnchorCheckmrk),hasWrapper:c(t.spnCcpTableIncludeWrapperCheckmrk),selectedRadio:document.querySelector('input[name="tdoptions"]:checked').value},e===i.btnCcpMakeImgTag.slice(1)?(r.buttonClicked="imgbut",r.selectedRadio="basic"):e===i.btnCcpMakeTdTag.slice(1)?r.buttonClicked="tdbut":r.buttonClicked="tablebut",function(e,r){let a,o,s,p,d;a=function(e,i){let r,a,o,s,p,d,u,h;r=n(),h=document.createDocumentFragment(),a=document.createElement("table"),o=document.createElement("tr"),s=document.createElement("td"),p=document.createElement("table"),d=document.createElement("tr"),r.tableClass&&(p.className=r.tableClass);r.tableAlign&&(p.align=r.tableAlign);p.width=r.tableWidth,r.tableBgcolor&&(p.bgColor=r.tableBgcolor);p.border="0",p.cellSpacing="0",p.cellPadding="0",p.setAttribute("role","presentation"),p.appendChild(d),u=function(e,i){let r,a,o,s,p;a=n(),o=document.createElement("td"),p=document.createDocumentFragment(),a.tdBgcolor&&(o.bgColor=a.tdBgcolor);switch(!0){case"basic"===i.selectedRadio||"excludeimg"===i.selectedRadio:a.tdClass&&(o.className=a.tdClass),a.tdAlign&&(o.align=a.tdAlign),a.tdValign&&(o.vAlign=a.tdValign),a.tdHeight&&(o.height=a.imgWidth),a.tdWidth&&(o.width=a.imgHeight),"basic"===i.selectedRadio&&(s=function(e){let t,i,r;t=n(),i=document.createElement("img"),r=document.createDocumentFragment(),t.imgClass&&(i.className=t.imgClass);t.imgAlt&&(i.alt=t.imgAlt);i.src=t.imgSrc,i.width=t.imgWidth,i.height=t.imgHeight,i.setAttribute("style",t.imgStyle),t.imgAlign&&(i.align=t.imgAlign);if(i.border="0",!0===t.imgIncludeAnchor){let e=document.createElement("a");e.href="#",e.setAttribute("style","color: #FF0000"),e.appendChild(i),r.appendChild(e)}else r.appendChild(i);return r}(),o.appendChild(s));break;case"imgswap"===i.selectedRadio:a.tdClass&&(o.className=a.tdClass),a.tdValign&&(o.vAlign=a.tdValign),a.tdAlign&&(o.align=a.tdAlign);break;case"bgimage"===i.selectedRadio:o.width=a.tdAppdataWidth,o.height=a.tdAppdataHeight,o.vAlign=a.tdValign,o.setAttribute("background",a.tdBackground);break;case"posswitch"===i.selectedRadio:o=function(e){let i,r,a,o=[],l=[],s=[],p=[],d=[],u=[],h=[],g=[],m=[];o=["container","td_switchcontainer","table_switchparent","tr_switchparent"],l=["div","td","table","tr"],s=["container","td_switchsibling1","table_switchchild1","tr_switchchild1","td_switchcontent1","a_switchtcontent","img_switchcontent1"],p=["div","td","table","tr","td","a","img"],d=["container","td_switchsibling2","table_switchchild2","tr_switchchild2","td_switchcontent2"],u=["div","td","table","tr","td"],c(t.spnCcpImgIncludeAnchorCheckmrk)||(a=5,s.splice(5,1),p.splice(5,1));for(i=0;i<o.length;i++)h[i]=document.createElement(l[i]),h[i].id=o[i];for(i=0;i<h.length-1;i++)r=i+1,h[i].appendChild(h[r]);for(i=0;i<s.length;i++)g[i]=document.createElement(p[i]),g[i].id=s[i];for(i=0;i<g.length-1;i++)r=i+1,g[i].appendChild(g[r]);for(i=0;i<d.length;i++)m[i]=document.createElement(u[i]),m[i].id=d[i];for(i=0;i<m.length-1;i++)r=i+1,m[i].appendChild(m[r]);h[3].appendChild(g[1]),h[3].appendChild(m[1]);let b=h[0];return b=function(e){var i;let r,a,o,l,s,p,d,u,h,g,m,b,f,y=n(),v=[];i=e.querySelectorAll("*"),y.tdClass?i[0].setAttribute("class",y.tdClass):y.tdClass,y.tdBgcolor?i[0].setAttribute("bgcolor",y.tdBgcolor):y.tdBgcolor,r={dir:"rtl",width:"100%",align:y.tdAlign,valign:y.tdValign},a={role:"presentation",border:"0",width:"100%",cellPadding:"0",cellSpacing:"0"},o={},l={width:"50%",class:"stack-column-center"},s={role:"presentation",border:"0",width:"100%",cellPadding:"0",cellSpacing:"0"},p={},d={dir:"ltr",align:"left",vAlign:"top"},u={href:"#",color:"red"},h={width:y.imgWidth,height:y.imgHeight,style:y.imgStyle,src:y.imgSrc,alt:y.imgAlt},g={width:"50%",class:"stack-column-center"},m={role:"presentation",border:"0",width:"100%",cellPadding:"0",cellSpacing:"0"},b={},f={dir:"ltr",align:"left",vAlign:"top"},v=[r,a,o,l,s,p,d,u,h,g,m,b,f],c(t.spnCcpImgIncludeAnchorCheckmrk)||(7,v.splice(7,1));for(let e=0;e<v.length;e++)for(let t of Object.entries(v[e]))i[e].setAttribute(t[0],t[1]);for(let e=0;e<i.length;e++)i[e].removeAttribute("id");return e}(b),b.children[0]}();break;case"vmlbutton"===i.selectedRadio:document.querySelector(t.iptCcpTdHeight).value&&document.querySelector(t.iptCcpTdWidth).value?(o.width=a.tdWidth,o.height=a.tdHeight):r=!0,document.querySelector(t.iptCcpTdHeight).value!==a.imgHeight&&l.initMessage(e,!0,"vmlbutton_height_mismatch")}return p.appendChild(o),r?void l.handleAppMessages("vml_button_no_value"):p}(e,i);try{d.appendChild(u)}catch(e){return}r.tableTagWrapperAlign&&(a.align=r.tableTagWrapperAlign);r.tableTagWrapperClass&&(a.className=r.tableTagWrapperClass);a.width=r.tableTagWrapperWidth,r.tableTagWrapperBgcolor&&(a.bgColor=r.tableTagWrapperBgcolor);a.border="0",a.cellSpacing="0",a.cellPadding="0",a.setAttribute("role","presentation"),a.appendChild(o),o.appendChild(s),r.tdAlign&&(s.align=r.tdAlign);r.tdValign&&(s.vAlign=r.tdValign);return s.appendChild(p),h.appendChild(a),h}(e,r);try{o=a.querySelectorAll("*")}catch(e){return}var m=document.createElement("div");if("basic"===r.selectedRadio||"excludeimg"===r.selectedRadio||"posswitch"===r.selectedRadio){let t,i;for(let e=0;e<o.length;e++)"rtl"===o[e].getAttribute("dir")&&(t=e);switch(!0){case"imgbut"===r.buttonClicked:s=r.hasAnchor?o[o.length-2]:o[o.length-1];break;case"tdbut"===r.buttonClicked:i="basic"===r.selectedRadio?r.hasAnchor?o.length-3:o.length-2:"excludeimg"===r.selectedRadio?5:t,s=o[i];break;case"tablebut"===r.buttonClicked:i=r.hasWrapper?0:3,s=o[i]}m.appendChild(s),p=m.querySelectorAll("*"),u(e,r,p),d=p[0].outerHTML}else if("imgswap"===r.selectedRadio||"bgimage"===r.selectedRadio||"vmlbutton"===r.selectedRadio){let i,a,c;"tdbut"===r.buttonClicked?(a=1,i=o.length-a):r.hasWrapper?(a=6,i=o.length-a):(a=3,i=o.length-a),s=o[i],m.appendChild(s),p=m.querySelectorAll("*"),u(e,r,p),d=p[0].outerHTML,"imgswap"===r.selectedRadio?c=function(e,t){let i,r,a,o,c;return r=n(),i=l.initGetAppdata(),a="\n",o=r.imgSrc,o=o.replace(/(.jpg|.png|.gif|.svg)/g,"_mob$1"),c=`\n${h(t)}<a href="#"><img class="hide" alt="${r.imgAlt}" width="${r.imgWidth}" height="${r.imgHeight}" src="${r.imgSrc}" border="0" style="width: ${r.imgWidth}px; height: ${r.imgHeight}px; margin: 0; border: none; outline: none; text-decoration: none; display: block; "></a>\n${h(t)}\x3c!--[if !mso]>\x3c!--\x3e\n${h(t)}<span style="width:0; overflow:hidden; float:left; display:none; max-height:0; line-height:0;" class="mobileshow">\n${h(t)}<a href="#"><img class="mobileshow" alt="${r.imgAlt}" width="${i.sPhonesW}" height="${i.sPhonesH}" src="${o}" border="0" style="width: ${i.sPhonesW}px; height: ${i.sPhonesH}px; margin: 0; border: none; outline: none; text-decoration: none; display: block;" /></a>\n${h(t)}\x3c!--</span>--\x3e\n${h(t)}\x3c!--<![endif]--\x3e`,c}(0,a):"bgimage"===r.selectedRadio?c=function(e,i){let r,a,o,l,c;return r=n(),c="\n",o="#7bceeb",l=r.tdBgcolor?r.tdBgcolor:document.querySelector(t.iptCcpTdBgColor).value,a=`\n${h(i)}\x3c!--[if gte mso 9]>\n${h(i)}<v:rect xmlns:v="urn:schemas-microsoft-com:vml" fill="true" stroke="false" style="width:${r.imgWidth}px;height:${r.imgHeight}px;">\n${h(i)}<v:fill type="tile" src="${r.tdBackground}" color="${l}" />\n${h(i)}<v:textbox inset="0,0,0,0">\n${h(i)}<![endif]--\x3e\n${h(i)}<div>\n${h(i)}\x3c!-- Put Foreground Content Here --\x3e\n${h(i)}</div>\n${h(i)}\x3c!--[if gte mso 9]>\n${h(i)}  </v:textbox>\n${h(i)}</v:rect>\n${h(i)}<![endif]--\x3e`,a}(0,a):"vmlbutton"===r.selectedRadio&&(c=function(e,i){let r,a,o,l,c;r=n(),o="\n",l=document.querySelector(t.iptCcpTdHeight).value,c=document.querySelector(t.iptCcpTdWidth).value,a=`\n${h(i)}<div>\x3c!--[if mso]>\n${h(i)}<v:roundrect xmlns:v="urn:schemas-microsoft-com:vml" xmlns:w="urn:schemas-microsoft-com:office:word" href="#" style="height:${l}px;v-text-anchor:middle;width:${c}px;" arcsize="10%" strokecolor="#1e3650" fill="t">\n${h(i)}<v:fill type="tile" src="${r.imgSrc}" color="#556270" />\n${h(i)}\n${h(i)}<w:anchorlock/>\n${h(i)}<center style="color:#ffffff;font-family:sans-serif;font-size:13px;font-weight:bold;">Show me the button!</center>\n${h(i)}</v:roundrect>\n${h(i)}<![endif]--\x3e<a href="#"\nstyle="background-color:#556270;background-image:url(${r.imgSrc});border:1px solid #1e3650;border-radius:4px;color:#ffffff;display:inline-block;font-family:sans-serif;font-size:13px;font-weight:bold;line-height:${l}px;text-align:center;text-decoration:none;width:${c}px;-webkit-text-size-adjust:none;mso-hide:all;">Show me the button!</a></div>`;return a}(0,a)),d=d.replace("/replacestart//replaceend/",c+"\n")}g(function(e){let t;"imgbut"===e&&(t=i.btnCcpMakeImgTag.slice(1));"tdbut"===e&&(t=i.btnCcpMakeTdTag.slice(1));"tablebut"===e&&(t=i.btnCcpMakeTableTag.slice(1));return t}(r.buttonClicked),d)}(e,r)}function u(e,t,i){let n,r,a=[],o=[];"imgswap"!==t.selectedRadio&&"bgimage"!==t.selectedRadio&&"vmlbutton"!==t.selectedRadio||(r=!0);for(let e=0;e<i.length;e++)a.push(h(e)),"stack-column-center"===i[e].className&&o.push(e);for(let e=0;e<i.length;e++)"IMG"===i[e].nodeName&&"A"===i[e].parentNode.nodeName||("A"===i[e].nodeName?(i[e].insertAdjacentHTML("beforebegin",h(e)),i[e].insertAdjacentHTML("afterend","\n")):0===o.length?e===i.length-1&&!0===r?(i[e].insertAdjacentHTML("beforebegin",h(e)),i[e].insertAdjacentHTML("afterbegin","/replacestart/"),i[e].insertAdjacentHTML("beforeend","/replaceend/"+h(e)),i[e].insertAdjacentHTML("afterend","\n")):(i[e].insertAdjacentHTML("afterend","\n"),i[e].insertAdjacentHTML("beforebegin",h(e)),i[e].insertAdjacentHTML("afterbegin","\n"),i[e].insertAdjacentHTML("beforeend",h(e))):(e<o[1]?(i[e].insertAdjacentHTML("afterend","\n"),i[e].insertAdjacentHTML("beforebegin",h(e)),i[e].insertAdjacentHTML("afterbegin","\n"),i[e].insertAdjacentHTML("beforeend",h(e))):(n=e-(o[1]-o[0]),i[e].insertAdjacentHTML("afterend","\n"),i[e].insertAdjacentHTML("beforebegin",h(n)),i[e].insertAdjacentHTML("afterbegin","\n"),i[e].insertAdjacentHTML("beforeend",h(n))),e===i.length-1&&(i[e].innerHTML="\n"+h(n)+"  \x3c!-- ADD YOUR CONTENT HERE --\x3e \n"+h(n))));return i}function h(e){let t,i;return t="  ",i="  ".repeat([e]),i}function g(e,t){let i;i=t;var n=new ClipboardJS("#"+e,{text:function(e){return n.on("success",(function(e){l.handleAppMessages("msg_copied_2_CB")})),n.on("error",(function(e){})),i}})}return{doClipboard:function(e){let t,i;switch(t=e.target.id,i=e.shiftKey?"shift":!!e.ctrlKey&&"ctrl",!0){case t.includes("tag"):d(t);break;case t.includes("css"):!function(e,t,i,r){let a=[];a=n();let o,c=[];switch(c=l.initGetAppdata(),!0){case e.includes("img-dsktp"):o=`img.${a.imgClass} { width: ${c.imgW}px !important; height: ${c.imgH}px !important; }`;break;case e.includes("img-smphn"):o=`img.${a.imgClass} { width: ${c.sPhonesW}px !important; height: ${c.sPhonesH}px !important; }`;break;case e.includes("img-lgphn"):o=`img.${a.imgClass} { width: ${c.lPhonesW}px !important; height: ${c.lPhonesH}px !important; }`;break;case e.includes("td-dsktp")||e.includes("td-smphn")||e.includes("td-lgphn"):o=a.tdHeight?`td.${a.tdClass} { height: ${a.tdHeight}px !important; }`:`td.${a.tdClass} {  }`;break;case e.includes("table-dsktp"):o=`table.${a.tableClass} { width: ${a.tableWidth}px !important; align: ${a.tableAlign} !important; }`;break;case e.includes("table-smphn"):o=`table.${a.tableClass} { width: ${c.sPhonesW}px !important; align: ${a.tableAlign} !important; }`;break;case e.includes("table-lgphn"):o=`table.${a.tableClass} { width: ${c.lPhonesW}px !important; align: ${a.tableAlign} !important; }`}o.includes("%")&&(o=o.replace("%px","%")),g(e,o)}(t);break;case t.includes("ins"):!function(e,t){let i,n,r,a;function o(e,t,i){let r,a,o;return e&&t?(r="width",a="height",n="shift"===i?r+'="'+e+'" height='+t+" ":"ctrl"===i?r+": "+e+"px; height: "+t+"px; ":e+" X "+t):(r=e?"width":"height",o=e||t,n="shift"===i?r+'="'+o+'" ':"ctrl"===i?r+": "+o+"px; ":o),n}switch(document.querySelector("#"+e).onmouseover=void 0,r=a="",i=l.initGetAppdata(!1),!0){case"ins-display-size-label"===e:r=i.imgW,a=i.imgH,n=o(r,a,t);break;case"ins-small-phones-label"===e:r=i.sPhonesW,a=i.sPhonesH,n=o(r,a,t);break;case"ins-large-phones-label"===e:r=i.lPhonesW,a=i.lPhonesH,n=o(r,a,t);break;case"ins-display-size-width-value"===e:r=i.imgW,n=o(r,a,t);break;case"ins-display-size-height-value"===e:a=i.imgH,n=o(r,a,t);break;case"ins-small-phones-width-value"===e:r=i.sPhonesW,n=o(r,a,t);break;case"ins-small-phones-height-value"===e:a=i.sPhonesH,n=o(r,a,t);break;case"ins-large-phones-width-value"===e:r=i.lPhonesW,n=o(r,a,t);break;case"ins-large-phones-height-value"===e:a=i.lPhonesH,n=o(r,a,t)}g(e,n)}(t,i)}return t},runTest:function(){}}}(),l=function(e,t){const i=t.getInspectorElementIDs(),n=t.getInspectorValuesIDs(),r=t.getInspectorLabelsIDs(),c=t.getDynamicRegionIDs(),s=t.getStaticRegionIDs(),p=t.getToolButtonIDs(),d=t.getCcpUserInputIDs(),u=(t.getCcpUserInputLabelIds(),t.getBtnCcpMakeClips()),h=t.getAppMessageElements();var g=function(e){l.handleAppMessages(e)};function m(e){document.querySelector("#cur-img-container").parentNode.removeChild(document.querySelector("#cur-img-container")),e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files[0];if(t.type.match("image.*")){var n,r=new FileReader;r.onload=(n=t,function(e){var t=new Image;let r;t.id="cur-img",t.src=e.target.result,r=n.name,document.querySelector(i.insFilename).textContent=r,document.querySelector(s.dropArea).style.display="none",function(e,t){var i=document.createElement("div");i.id="cur-img-container",document.getElementById("main-image").insertBefore(i,null),document.getElementById("cur-img-container").insertBefore(e,null),document.querySelector(c.curImg).style.display="none",t(e)}(t,(function(){setTimeout(()=>{t.onload=(document.querySelector(s.dropArea).style.display="none",document.querySelector(s.tbrContainer).style.display="flex",t.style.display="block",void S())},250)}))}),r.readAsDataURL(t)}else;}function b(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"}function f(e){el=document.getElementById(this.id),this.select()}function y(e){var t;t=l.initGetAppdata(),prop=L(this.id),"imgW"===prop||"imgH"===prop?this.value="":this.value=t[prop]}function v(e){e.target.value}function C(e){var t=document.getElementById(this.id),i={};i.target=t.id;try{var n=[];for(let e=0;e<n.length;e++)document.querySelector(n[e])}catch(e){}if("click"===event.type)switch(!0){case t.id.includes("tbr"):var r,a;a=l.initGetAppdata(),i.prop="imgW",r=parseInt(t.id.slice(-2)),t.id.includes("incr")||(r=-r),r=a.imgW+r,i.val=r,T(i)||k(i)}else("drop"===event.type||"dragover"===event.type)&&e.preventDefault}function _(e){try{var t;t=Object.values(h);for(let e=0;e<t.length;e++)document.getElementById(t[e]).classList.contains("active")}catch(e){}if(keydown=e.which||e.keyCode||e.key,9==keydown||13==keydown){var i,n,r,a={};r=l.initGetAppdata(),i=document.getElementById(this.id),a.target=i.id,a.val=this.value,a.prop=L(this.id),n=13==keydown,!(9==keydown)||""!==this.value&&this.value!=r[a.prop]?T(a)?(n||e.preventDefault(),this.select()):("imgW"!==a.prop&&"imgH"!==a.prop||(n?this.select():(this.value="",this.blur())),k(a)):"imgW"!==a.prop&&"imgH"!==a.prop||(this.onblur=function(){this.value=""})}}function w(e){let t,i;t=L(this.id),keyup=e.which||e.keyCode||e.key,27==keyup&&("imgW"===t||"imgH"===t?(this.value="",this.blur()):(i=l.getLocalStorage(),"viewerW"===t?i[0]?this.value=i[0]:this.value=document.querySelector(p.iptTbrViewerW).placeholder:"sPhonesW"===t?i[1]?this.value=i[1]:this.value=document.querySelector(p.iptTbrSPhonesWidth).placeholder:"lPhonesW"===t&&(i[2]?this.value=i[2]:this.value=document.querySelector(p.iptTbrLPhonesWidth).placeholder)))}function T(e){const{target:t,prop:i,val:n}=e;let r;var a;a=!1;var o;o=l.initGetAppdata();if(function(e){let t;!parseInt(e,10)||e%1!=0||e<0?t=!0:(e=parseInt(e),t=!1);return t}(n))r="err_not_Integer",a=!0;else switch(!0){case"viewerW"===i:n<o.imgW||(n>800?(a=!0,r="err_viewerW_GT_maxViewerWidth"):a=!1);break;case"imgW"===i:n>o.viewerW&&(a=!0,r="err_imgW_GT_viewerW")}return a?l.handleAppMessages(r):a=!1,a}function k(e){let t,i,n,r,a={};a=l.initGetAppdata();const{target:o,prop:s,val:d}=e;switch(!0){case"viewerW"===s:n=[s,d],r="";break;case"imgW"===s:t=d*(1/a.aspect[0]),n=[s,d],r=["imgH",t];break;case"imgH"===s:i=d*a.aspect[0],n=[s,d],r=["imgW",i];break;case"sPhonesW"===s||"lPhonesW"===s:n=[s,d],r=""}!function(...e){let t,i;for(let n=0;n<e.length;n++)switch(t=e[n][0],i=e[n][1],!0){case!t:break;case"viewerW"===t:document.querySelector(c.imgViewer).style.width=i+"px",localStorage.setItem("viewerW",i);break;case"imgW"===t:document.querySelector(c.curImg).style.width=i+"px";break;case"imgH"===t:document.querySelector(c.curImg).style.height=i+"px";break;case"sPhonesW"===t:document.querySelector(p.iptTbrSPhonesWidth).setAttribute("data-sphonesw",i),localStorage.setItem("sPhonesW",i);break;case"lPhonesW"===t:document.querySelector(p.iptTbrLPhonesWidth).setAttribute("data-lphonesw",i),localStorage.setItem("lPhonesW",i)}}(n,r),S()}function S(){let e,i,n,r,a={};var o,s;switch(a=l.initGetAppdata(!1),n=window.getComputedStyle(document.querySelector(c.imgViewer)),r=l.getLocalStorage(),r[0]?(e=r[0],document.querySelector(c.imgViewer).style.width=r[0]+"px"):e=parseInt(n.getPropertyValue("width"),10),i=parseInt(n.getPropertyValue("height"),10),0===a.imgW?(o=a.imgNW,s=a.imgNH):(o=a.imgW,s=a.imgH),!0){case o<=e&&a.imgNH<i:o=a.imgNW,s=a.imgNH;break;case o>e&&s<i:a.imgW=e,a.imgH=Math.round(1/a.aspect[0]*a.imgW),i=a.imgH;break;case o<=e&&s>i:i=a.imgH=a.imgNH,a.imgW=a.imgNW;break;case o>e&&s>i:a.imgW=e,a.imgH=Math.round(1/a.aspect[0]*a.imgW),i=a.imgH}!function(e,i,n){let r,a;n<=450?r=(e=450)+145:(e=n,r=n+145);a=r,document.querySelector(c.curImg).style.width=i+"px",document.querySelector(c.curImg).style.height=n+"px",document.querySelector(c.imgViewer).style.height=e+"px",document.querySelector(c.imgViewport).style.height=r+"px",document.querySelector(c.appContainer).style.height=a+"px",t.writeInspectors()}(i,a.imgW,a.imgH)}function W(){var e=l.initGetAppdata();let t,i,n;if(document.querySelector(s.ccpContainer).classList.toggle("active"),document.querySelector(s.ccpContainer).classList.contains("active")){t=[d.spnCcpImgIncludeWidthHeightCheckmrk,d.spnCcpImgIncludeAnchorCheckmrk,d.spnCcpTableIncludeWrapperCheckmrk],i=[];for(let e=0;e<t.length;e++)document.querySelector(t[e]).addEventListener("click",A,!1);let r=["#ccp-table-wrapper-class","#ccp-table-wrapper-width","#ccp-table-wrapper-align","#ccp-table-wrapper-bgcolor"];for(let e=0;e<r.length;e++)document.querySelector(r[e]).style.display="none";n=document.querySelector('input[name="tdoptions"]:checked'),n.click(),document.querySelector(d.iptCcpTableWidth).value=""+e.imgW,document.querySelector(d.iptCcpTableWrapperWidth).value=""+e.viewerW,document.querySelector(d.iptCcpTableWrapperClass).value="devicewidth"}}function A(e){var t,i,n=l.initGetAppdata(),r=[];if(t=(t=(t=e.target.id).replace("mrk","box")).replace("spn","chk"),(i=document.getElementById(t)).checked?i.checked=!1:i.checked=!0,document.querySelector(d.iptCcpTableWrapperWidth).value=""+n.viewerW,document.querySelector(d.iptCcpTableWrapperClass).value="devicewidth","chk-ccp-table-include-wrapper-checkbox"===i.id)if(r=["#ccp-table-wrapper-class","#ccp-table-wrapper-width","#ccp-table-wrapper-align","#ccp-table-wrapper-bgcolor"],i.checked)for(let e=0;e<r.length;e++)document.querySelector(r[e]).style.display="block";else for(let e=0;e<r.length;e++)document.querySelector(r[e]).style.display="none"}function x(e){var t=[];if(t[0]=document.querySelector(u.btnCcpMakeImgDsktpCssRule),t[1]=document.querySelector(u.btnCcpMakeImgSmphnCssRule),t[2]=document.querySelector(u.btnCcpMakeImgLgphnCssRule),t[3]=document.querySelector(u.btnCcpMakeTdDsktpCssRule),t[4]=document.querySelector(u.btnCcpMakeTdSmphnCssRule),t[5]=document.querySelector(u.btnCcpMakeTdLgphnCssRule),t[6]=document.querySelector(u.btnCcpMakeTableDsktpCssRule),t[7]=document.querySelector(u.btnCcpMakeTableSmphnCssRule),t[8]=document.querySelector(u.btnCcpMakeTableLgphnCssRule),"#"+e.target.id==d.iptCcpImgClass)for(let e=0;e<=2;e++)this.value?t[e].classList.add("active"):t[e].classList.remove("active");else if("#"+e.target.id===d.iptCcpTdClass)for(let e=3;e<=5;e++)this.value?t[e].classList.add("active"):t[e].classList.remove("active");else if("#"+e.target.id===d.iptCcpTableClass)for(let e=6;e<=8;e++)this.value?t[e].classList.add("active"):t[e].classList.remove("active")}function I(){let e,t=window.location.href+"?isolate="+!0;e=window.open(t,"targetWindow","toolbar=no,\n        location=yes,\n        status=no,\n        menubar=no,\n        scrollbars=no,\n        resizable=no,\n        width=870,\n        height=775")}function L(e){var t={viewerW:"ipt-tbr-viewerw",imgW:"ipt-tbr-imgwidth",imgH:"ipt-tbr-imgheight",sPhonesW:"ipt-tbr-sphones-width",lPhonesW:"ipt-tbr-lphones-width"};return Object.keys(t).find(i=>t[i]===e)}return document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(":root");document.addEventListener("keydown",(function(t){t.altKey&&t.ctrlKey&&(e.classList.add("modifier-pressed"),function(){function e(e,t,i,n){e.addEventListener(t,i,n)}var t=Object.values(p);let i;for(let n=0;n<t.length;n++)i=document.querySelector(t[n]),e(i,"mouseenter",g,!0);var a=Object.values(r);for(let t=0;t<a.length;t++)i=document.querySelector(a[t]),e(i,"mouseenter",g,!0);var o=Object.values(n);for(let t=0;t<o.length;t++)i=document.querySelector(o[t]),e(i,"mouseenter",g,!0);var l=Object.values(d);for(let t=0;t<l.length;t++)i=document.querySelector(l[t]),e(i,"mouseenter",g,!0);let c,s;for(let t=0;t<l.length;t++)c=l[t],c.includes("checkmrk")?(c=c.replace(/spn-/g,""),c=c.replace(/checkmrk/g,"label")):c+="-label",s=document.querySelector(c),e(s,"mouseenter",g,!0);var h=Object.values(u);for(let t=0;t<h.length;t++)i=document.querySelector(h[t]),e(i,"mouseenter",g,!0)}())})),document.addEventListener("keyup",(function(t){if(t.altKey||t.ctrlKey){let t,i;i=document.querySelector(s.appBlocker),e.classList.remove("modifier-pressed"),t=document.querySelector(h.tipContent),t.innerHTML="",i.classList.contains("active")&&i.classList.remove("active"),function(){function e(e,t,i,n){e.removeEventListener(t,i,n)}var t=Object.values(p);let i;for(let n=0;n<t.length;n++)i=document.querySelector(t[n]),e(i,"mouseenter",g,!0);var a=Object.values(r);for(let t=0;t<a.length;t++)i=document.querySelector(a[t]),e(i,"mouseenter",g,!0);var o=Object.values(n);for(let t=0;t<o.length;t++)i=document.querySelector(o[t]),e(i,"mouseenter",g,!0);var l=Object.values(d);for(let t=0;t<l.length;t++)i=document.querySelector(l[t]),e(i,"mouseenter",g,!0);let c,s;for(let t=0;t<l.length;t++)c=l[t],c.includes("checkmrk")?(c=c.replace(/spn-/g,""),c=c.replace(/checkmrk/g,"label")):c+="-label",s=document.querySelector(c),e(s,"mouseenter",g,!0);var h=Object.values(u);for(let t=0;t<h.length;t++)i=document.querySelector(h[t]),e(i,"mouseenter",g,!0)}()}}))})),{initCalcViewerSize:function(){S()},initInitCCP:function(){W()},handleAppMessages:function(e){let t,i,n,r,o,c,s;t=e,"object"==typeof t&&(c="#"+e.target.id,t="tip_"+e.target.id.replace(/-/gi,"_"),i="tip"),o="#"+t.slice(0,3)+"-content",n=function(e){let t,i;t=l.initGetAppdata(),i="";const n={msg_copied_2_CB:"Code snippet copied to Clipboard!",err_not_Integer:"This value has to be a positive whole number - try again or press ESC.",err_imgW_GT_viewerW:`Image width must be less than the current parent table width of ${t.viewerW}px. Make the parent table wider first.`,err_tbButton_LT_zero:"Image dimension can't be less than 1.",err_tbButton_GT_viewerW:`Image can't be wider than its parent table. Parent table width is currently ${t.viewerW}px`,err_viewerW_GT_maxViewerWidth:"Parent table width can't exceed can't exceed app width: 800px.",err_not_an_integer:"Not an integer: please enter a positive whole number for width.",err_vmlbutton_no_value:"Height and width must be entered to create a VML button.",err_vmlbutton_height_mismatch:"Is the correct image loaded? Img height should match entry. Check the code output. ",tip_ipt_tbr_viewerw:'Set the width of the image\'s parent table for Clipboard output.<br /><span style="white-space: nowrap">Maximum width is 800px.</span>',tip_btn_tbr_incr50:'Increase the image width by 50px and set the height proportionally. <span style="white-space: nowrap">The width can\'t exceed parent table width.</span>',tip_btn_tbr_incr10:'Increase the image width by 10px and set the height proportionally. <span style="white-space: nowrap">The width can\'t exceed the width of the parent table.</span>',tip_btn_tbr_incr01:'Increase the image width by 1px and set the height proportionally. <span style="white-space: nowrap">The width can\'t exceed the width of the parent table.</span>',tip_ipt_tbr_imgwidth:'Set the image display width and resize height proportionally. <span style="white-space: nowrap">Image width can\'t exceed parent table width.</span>',tip_ipt_tbr_imgheight:'Set the image display height and resize width proportionally. <span style="white-space: nowrap">Image width can\'t exceed parent table width.</span>',tip_btn_tbr_decr01:"Decrease the image width by 1px and set the height proportionally.",tip_btn_tbr_decr10:"Decrease the image width by 10px and set the height proportionally.",tip_btn_tbr_decr50:"Decrease the image width by 50px and set the height proportionally.",tip_ipt_tbr_sphones_width:"Set the width for small mobile devices to be used for CSS Clipboard output.",tip_ipt_tbr_lphones_width:"Set the width for larger mobile devices to be used for CSS Clipboard output.",tip_ins_display_size_label:"Displays the scaled image dimensions if smaller than Size On Disk. Set width or height in toolbar. Shift+Click to copy attributes. Ctrl+Click to copy style properties.",tip_ins_display_size_width_value:'Click to copy the width, SHIFT+Click to copy width attribute, <span style="white-space: nowrap">CTRL+Click to copy width style property.</span>',tip_ins_display_size_height_value:'Click to copy the height, SHIFT+Click to copy height attribute, <span style="white-space: nowrap">CTRL+Click to copy height style property.</span>',tip_ins_disk_size_label:"Displays the actual resolution of the image as stored on disk. For retina devices, the file's actual resolution should be at least twice the display size.",tip_ins_aspect_label:"Displays the aspect ratio (width: height) of the current image.",tip_ins_small_phones_label:"Set the image width for small mobile devices. Image height is calculated proportionally. Shift+Click to copy attributes. Ctrl+Click to copy style properties.",tip_ins_small_phones_width_value:'Click to copy the width, SHIFT+Click to copy width attribute, <span style="white-space: nowrap">CTRL+Click to copy width style property.</span>',tip_ins_small_phones_height_value:'Click to copy the height, SHIFT+Click to copy height attribute, <span style="white-space: nowrap">CTRL+Click to copy height style property.</span>',tip_ins_large_phones_label:"Set the image width for larger mobile devices. Image height is calculated proportionally. Shift+Click to copy attributes. Ctrl+Click to copy style properties.",tip_ins_large_phones_width_value:'Click to copy the width, SHIFT+Click to copy width attribute, <span style="white-space: nowrap">CTRL+Click to copy width style property.</span>',tip_ins_large_phones_height_value:'Click to copy the height, SHIFT+Click to copy height attribute, <span style="white-space: nowrap">CTRL+Click to copy height style property.</span>',tip_ins_retina_label:"Displays the recommended image file resolution at the current display size. If this value is less than 2X the display, small phones or large phones values, those values are shown in red.",tip_btn_ccp_make_img_tag:"Output an HTML IMG tag with the selected options to the Clipboard.",tip_btn_ccp_make_td_tag:"Output an HTML TD tag with the selected options to the Clipboard.",tip_btn_ccp_make_table_tag:"Output and HTML TABLE tag with the selected options to the Clipboard",tip_sel_ccp_img_align:"Set the align attribute of the IMG tag.",tip_sel_ccp_img_align_label:"Set the align attribute of the IMG tag.",tip_ipt_ccp_img_class:"Add a class attribute to the IMG tag. If a class is entered, the Make Image CSS Rule buttons appear.",tip_ipt_ccp_img_class_label:"Add a class attribute to the IMG tag. If a class is entered, the Make Image CSS Rule buttons appear.",tip_ipt_ccp_img_relpath:"Enter the relative path to the image to include in the src attribute of the Clipboard output. The default is 'img'",tip_ipt_ccp_img_relpath_label:"Enter the relative path to the image to include in the src attribute of the Clipboard output. The default is 'img'",tip_ipt_ccp_img_alt:"Enter text for the ALT attribute of the Clipboard output. You can use placeholder text and replace it globally later.",tip_ipt_ccp_img_alt_label:"Enter text for the ALT attribute of the Clipboard output. You can use placeholder text and replace it globally later.",tip_ccp_img_include_width_height:"If checked, width and height will be added to the IMG tag's style attribute in the Clipboard output.",tip_ccp_img_include_width_height_label:"If checked, width and height will be added to the IMG tag's style attribute in the Clipboard output.",tip_ccp_img_include_anchor:"If checked, the IMG tag will be wrapped in an A tag with the HREF attribute set to # in the Clipboard output",tip_ccp_img_include_anchor_label:"If checked, the IMG tag will be wrapped in an A tag with the HREF attribute set to # in the Clipboard output",tip_sel_ccp_td_align:"Set the TD tag's align attribute. The default is 'left'",tip_sel_ccp_td_align_label:"Set the TD tag's align attribute. The default is 'left'",tip_sel_ccp_td_valign:"Set the TD tag's valign attribute. The default is 'top'",tip_sel_ccp_td_valign_label:"Set the TD tag's valign attribute. The default is 'top'",tip_ipt_ccp_td_class:"Add a class attribute to the TD tag. If a class is entered, the Make TD CSS Rule buttons appear.",tip_ipt_ccp_td_class_label:"Add a class attribute to the IMG tag. If a class is entered, the Make TD CSS Rule buttons appear.",tip_ipt_ccp_td_bgcolor:"Set the bgcolor attribute for the TD tag. You can use a hex value,a valid CSS color alias or any string. Hex values must be prepended with a # character.",tip_ipt_ccp_td_bgcolor_label:"Set the bgcolor attribute for the TD tag. You can use a hex value, a CSS color alias or any string. Hex values must be prepended with a # character.",tip_rdo_ccp_td_basic:"TBD",tip_rdo_ccp_td_basic_label:"TBD",tip_rdo_ccp_td_excludeimg:"TBD",tip_rdo_ccp_td_excludeimg_label:"TBD",tip_rdo_ccp_td_posswitch:"TBD",tip_rdo_ccp_td_poswitch_label:"TBD",tip_rdo_ccp_td_bgimage:"TBD",tip_rdo_ccp_td_bgimage_label:"TBD",tip_rdo_ccp_td_vmlbutton:"TBD",tip_rdo_ccp_td_vmlbutton_label:"TBD",tip_ipt_ccp_table_class:"Add a class attribute to the parent TABLE tag. If a class is entered, the Make TABLE CSS Rule buttons appear.",tip_ipt_ccp_table_class_label:"Add a class attribute to the parent TABLE tag. If a class is entered, the Make TABLE CSS Rule buttons appear.",tip_ipt_ccp_table_width:"TBD",tip_ipt_ccp_table_width_label:"TBD",tip_sel_ccp_table_align:"Set the parent TABLE tag's align attribute. The default is 'left'",tip_sel_ccp_table_align_label:"Set the parent TABLE tag's align attribute. The default is 'left'",tip_ipt_ccp_table_bgcolor:"Set the bgcolor attribute for the parent TABLE tag. You can use a hex value,a valid CSS color alias or any string. Hex values must be prepended with a # character.",tip_ipt_ccp_table_bgcolor_label:"Set the bgcolor attribute for the parent TABLE tag. You can use a hex value, a CSS color alias or any string. Hex values must be prepended with a # character.",tip_ccp_table_include_wrapper:"TBD",tip_ccp_table_include_wrapper_label:"TBD",tip_ipt_ccp_table_wrapper_class:"Add a class attribute to the wrapper TABLE tag or accept the default 'devicewidth'. ",tip_ipt_ccp_table_wrapper_class_label:"Add a class attribute to the wrapper TABLE tag or accept the default 'devicewidth'.",tip_ipt_ccp_table_wrapper_width:"TBD",tip_ipt_ccp_table_wrapper_width_label:"TBD",tip_sel_ccp_table_wrapper_align:"Set the wrapper TABLE tag's align attribute. The default is 'left'",tip_sel_ccp_table_align_wrapper_label:"Set the wrapper TABLE tag's align attribute. The default is 'left'",tip_ipt_ccp_table_wrapper_bgcolor:"Set the bgcolor attribute for the wrapper TABLE tag. You can use a hex value,a valid CSS color alias or any string. Hex values must be prepended with a # character.",tip_ipt_ccp_table_bgcolor_wrapper_bgcolor_label:"Set the bgcolor attribute for the wrapper TABLE tag. You can use a hex value, a CSS color alias or any string. Hex values must be prepended with a # character."};for(let[t,r]of Object.entries(n))t===e&&(i=r);return i}(t),"err"===t.slice(0,3)?(r=2500,i="err"):"msg"===t.slice(0,3)&&(r=750,i="msg"),document.querySelector(o).innerHTML=n,"tip"===i?a.displayAppMessages(!0,o,c):a.displayAppMessages(!0,o,!1),"err"!==i&&"msg"!==i||(s=setTimeout(()=>{a.displayAppMessages(!1,o,!1)},r))},initGetAppdata:function(){return function(){var e,t,i,n,r,o={};return(o=a.queryDOMElements()).aspect=(e=o.imgNW,t=o.imgNH,n=e/t,i=function(e,t){if(t>e){var i=e;e=t,t=i}for(;0!=t;){var n=e%t;e=t,t=n}return e}(e,t),r=r=e/i+" : "+t/i,[n,r]),o.sPhonesH=Math.round(o.sPhonesW*(1/o.aspect[0])),o.lPhonesH=Math.round(o.lPhonesW*(1/o.aspect[0])),o}()},getLocalStorage:function(){let e=[],t=[];e=["viewerW","sPhonesW","lPhonesW"];for(let i=0;i<e.length;i++)localStorage.getItem(e[i])?t.push(localStorage.getItem(e[i])):t.push(!1);return t},init:function(){let e,l;e=window.location.href,"true"===e.substring(e.length-4)&&(document.querySelector(".header-container").style.display="none",document.querySelector(".header-isolate-app").style.display="none",document.querySelector(".content-section").style.display="none"),document.querySelector(s.ccpContainer).classList.remove("active"),function(){var e=document.querySelector(c.appContainer);function t(e,t,i,n){e.addEventListener(t,i,n)}e.addEventListener("dragover",b,!1),e.addEventListener("drop",m,!1),document.querySelector(s.hdrIsolateApp).addEventListener("click",I,!1);const l=[p.btnTbrIncr50,p.btnTbrIncr10,p.btnTbrIncr01,p.btnTbrDecr50,p.btnTbrDecr10,p.btnTbrDecr01];for(let e=0;e<l.length;e++)l[e]=document.querySelector(l[e]),t(l[e],"click",C,!1);const h=[p.iptTbrViewerW,p.iptTbrSPhonesWidth,p.iptTbrLPhonesWidth];for(let e=0;e<h.length;e++)h[e]=document.querySelector(h[e]),t(h[e],"click",v,!1);const g=[p.iptTbrViewerW,p.iptTbrImgWidth,p.iptTbrImgHeight,p.iptTbrSPhonesWidth,p.iptTbrLPhonesWidth];for(let e=0;e<g.length;e++)g[e]=document.querySelector(g[e]),t(g[e],"keydown",_,!1),t(g[e],"keyup",w,!1),t(g[e],"focus",f,!1),t(g[e],"blur",y,!1);const T=[r.insDisplaySizeLabel,r.insSmallPhonesLabel,r.insLargePhonesLabel,n.insDisplaySizeWidthValue,n.insDisplaySizeHeightValue,n.insSmallPhonesWidthValue,n.insSmallPhonesHeightValue,n.insLargePhonesWidthValue,n.insLargePhonesHeightValue];for(let e=0;e<T.length;e++)T[e]=document.querySelector(T[e]),t(T[e],"click",o.doClipboard,!1);const k=[r.insDisplaySizeLabel,r.insSmallPhonesLabel,r.insLargePhonesLabel,n.insDisplaySizeWidthValue,n.insDisplaySizeHeightValue,n.insSmallPhonesWidthValue,n.insSmallPhonesHeightValue,n.insLargePhonesWidthValue,n.insLargePhonesHeightValue];for(let e=0;e<k.length;e++)k[e]=document.querySelector(k[e]),t(k[e],"mouseenter",o.enteredMe,!1);const S=[d.iptCcpImgClass,d.iptCcpTdClass,d.iptCcpTableClass];for(let e=0;e<S.length;e++)S[e]=document.querySelector(S[e]),t(S[e],"input",x,!1);var A=[i.btnToggleCcp];for(let e=0;e<A.length;e++)A[e]=document.querySelector(A[e]),t(A[e],"click",W,!1);for(let e in u){let i;u.hasOwnProperty(e)&&(i=document.querySelector(u[e]),t(i,"click",o.doClipboard,!1))}for(let e in d){let i;"#rdo"===d[e].substring(0,4)&&(i=document.querySelector(d[e]),t(i,"click",a.displayTdOptions,!1))}}(),document.querySelector(c.curImg)?(l="devmode",t.initUI()):l="prdmode",t.initUI(l)}}}(0,a);l.init()}();window.onclick=function(e){var t;if("btn btn-link"===e.target.className){t=document.getElementsByClassName("overlay");for(let e=0;e<t.length;e++)t[e].style.display="block"}"overlay"===e.target.className&&(e.target.style.display="none")};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsaXBib2FyZC5qcyIsImNsaXBib2FyZC5taW4uanMiLCJzY3JpcHRzLmpzIiwidGVzdC5qcyJdLCJuYW1lcyI6WyJmIiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsIndpbmRvdyIsImdsb2JhbCIsInNlbGYiLCJ0aGlzIiwiQ2xpcGJvYXJkIiwiZSIsInQiLCJuIiwiciIsInMiLCJvIiwidSIsImEiLCJyZXF1aXJlIiwiaSIsIkVycm9yIiwiY29kZSIsImwiLCJjYWxsIiwibGVuZ3RoIiwiMSIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJtYXRjaGVzIiwicHJvdG8iLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJlbGVtZW50Iiwic2VsZWN0b3IiLCJub2RlVHlwZSIsInBhcmVudE5vZGUiLCIyIiwiY2xvc2VzdCIsImxpc3RlbmVyIiwidHlwZSIsImNhbGxiYWNrIiwiZGVsZWdhdGVUYXJnZXQiLCJ0YXJnZXQiLCJ1c2VDYXB0dXJlIiwibGlzdGVuZXJGbiIsImFwcGx5IiwiYXJndW1lbnRzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRlc3Ryb3kiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiLi9jbG9zZXN0IiwiMyIsIm5vZGUiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsIkhUTUxFbGVtZW50Iiwibm9kZUxpc3QiLCJPYmplY3QiLCJ0b1N0cmluZyIsInN0cmluZyIsIlN0cmluZyIsImZuIiwiNCIsImlzIiwiZGVsZWdhdGUiLCJUeXBlRXJyb3IiLCJsaXN0ZW5Ob2RlIiwiQXJyYXkiLCJmb3JFYWNoIiwibGlzdGVuTm9kZUxpc3QiLCJkb2N1bWVudCIsImJvZHkiLCJsaXN0ZW5TZWxlY3RvciIsIi4vaXMiLCI1Iiwic2VsZWN0ZWRUZXh0Iiwibm9kZU5hbWUiLCJmb2N1cyIsInNldFNlbGVjdGlvblJhbmdlIiwiaGFzQXR0cmlidXRlIiwic2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uIiwicmFuZ2UiLCJjcmVhdGVSYW5nZSIsInNlbGVjdE5vZGVDb250ZW50cyIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiNiIsIkUiLCJvbiIsIm5hbWUiLCJjdHgiLCJwdXNoIiwib25jZSIsIm9mZiIsIl8iLCJlbWl0IiwiZGF0YSIsInNsaWNlIiwiZXZ0QXJyIiwibGVuIiwiZXZ0cyIsImxpdmVFdmVudHMiLCI3IiwiZmFjdG9yeSIsIm1vZCIsInNlbGVjdCIsImNsaXBib2FyZEFjdGlvbiIsIl9zZWxlY3QiLCJvYmoiLCJfc2VsZWN0MiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkNsaXBib2FyZEFjdGlvbiIsIm9wdGlvbnMiLCJpbnN0YW5jZSIsIl9jbGFzc0NhbGxDaGVjayIsInJlc29sdmVPcHRpb25zIiwiaW5pdFNlbGVjdGlvbiIsImFjdGlvbiIsImVtaXR0ZXIiLCJ0ZXh0IiwidHJpZ2dlciIsInNlbGVjdEZha2UiLCJzZWxlY3RUYXJnZXQiLCJfdGhpcyIsImlzUlRMIiwiZG9jdW1lbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwicmVtb3ZlRmFrZSIsImZha2VIYW5kbGVyQ2FsbGJhY2siLCJmYWtlSGFuZGxlciIsImZha2VFbGVtIiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZm9udFNpemUiLCJib3JkZXIiLCJwYWRkaW5nIiwibWFyZ2luIiwicG9zaXRpb24iLCJ5UG9zaXRpb24iLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsInNjcm9sbFRvIiwidG9wIiwic2V0QXR0cmlidXRlIiwiYXBwZW5kQ2hpbGQiLCJjb3B5VGV4dCIsInJlbW92ZUNoaWxkIiwic3VjY2VlZGVkIiwiZXhlY0NvbW1hbmQiLCJlcnIiLCJoYW5kbGVSZXN1bHQiLCJjbGVhclNlbGVjdGlvbiIsImJpbmQiLCJibHVyIiwic2V0IiwiX2FjdGlvbiIsImdldCIsIl90YXJnZXQiLCI4IiwidGlueUVtaXR0ZXIiLCJnb29kTGlzdGVuZXIiLCJjbGlwYm9hcmQiLCJfY2xpcGJvYXJkQWN0aW9uIiwiX3RpbnlFbWl0dGVyIiwiX2dvb2RMaXN0ZW5lciIsIl9jbGlwYm9hcmRBY3Rpb24yIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl90aW55RW1pdHRlcjIiLCJfZ29vZExpc3RlbmVyMiIsIl9FbWl0dGVyIiwiUmVmZXJlbmNlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsImdldFByb3RvdHlwZU9mIiwibGlzdGVuQ2xpY2siLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJzZXRQcm90b3R5cGVPZiIsIl9pbmhlcml0cyIsImRlZmF1bHRBY3Rpb24iLCJkZWZhdWx0VGFyZ2V0IiwiZGVmYXVsdFRleHQiLCJfdGhpczIiLCJvbkNsaWNrIiwiY3VycmVudFRhcmdldCIsImdldEF0dHJpYnV0ZVZhbHVlIiwicXVlcnlTZWxlY3RvciIsInN1ZmZpeCIsImF0dHJpYnV0ZSIsIi4vY2xpcGJvYXJkLWFjdGlvbiIsImdvb2QtbGlzdGVuZXIiLCJ0aW55LWVtaXR0ZXIiLCJjIiwiZCIsImgiLCJXaXR0eSIsImZvbyIsInRlc3RidXQiLCJ0ZXN0YnV0MiIsImFkZE1lIiwib25jbGljayIsIkFwcGRhdGEiLCJVSUNvbnRyb2xsZXIiLCJpbnNwZWN0b3JFbGVtZW50cyIsImluc0ZpbGVuYW1lIiwiaW5zRGlzcGxheSIsImluc0Rpc2tzaXplIiwiaW5zQXNwZWN0IiwiaW5zU21hbGxQaG9uZXMiLCJpbnNMYXJnZVBob25lcyIsImluc1JldGluYSIsImJ0blRvZ2dsZUNjcCIsInNwbkRpc3BsYXlTaXplSGVpZ2h0Iiwic3BuRGlzcGxheVNpemVXaWR0aCIsInNwblNtYWxsUGhvbmVzSGVpZ2h0Iiwic3BuU21hbGxQaG9uZXNXaWR0aCIsInNwbkxhcmdlUGhvbmVzSGVpZ2h0Iiwic3BuTGFyZ2VQaG9uZXNXaWR0aCIsImluc3BlY3RvckxhYmVscyIsImluc0Rpc3BsYXlTaXplTGFiZWwiLCJpbnNEaXNrU2l6ZUxhYmVsIiwiaW5zQXNwZWN0TGFiZWwiLCJpbnNTbWFsbFBob25lc0xhYmVsIiwiaW5zTGFyZ2VQaG9uZXNMYWJlbCIsImluc1JldGluYUxhYmVsIiwiaW5zcGVjdG9yVmFsdWVzIiwiaW5zRGlzcGxheVNpemVXaWR0aFZhbHVlIiwiaW5zRGlzcGxheVNpemVIZWlnaHRWYWx1ZSIsImluc0Rpc2tTaXplV2lkdGhWYWx1ZSIsImluc0Rpc2tTaXplSGVpZ2h0VmFsdWUiLCJpbnNBc3BlY3RWYWx1ZSIsImluc1NtYWxsUGhvbmVzV2lkdGhWYWx1ZSIsImluc1NtYWxsUGhvbmVzSGVpZ2h0VmFsdWUiLCJpbnNMYXJnZVBob25lc1dpZHRoVmFsdWUiLCJpbnNMYXJnZVBob25lc0hlaWdodFZhbHVlIiwiaW5zUmV0aW5hV2lkdGhWYWx1ZSIsImluc1JldGluYUhlaWdodFZhbHVlIiwidG9vbGJhckVsZW1lbnRzIiwiaXB0VGJyVmlld2VyVyIsImJ0blRickluY3I1MCIsImJ0blRickluY3IxMCIsImJ0blRickluY3IwMSIsImlwdFRickltZ1dpZHRoIiwiaXB0VGJySW1nSGVpZ2h0IiwiYnRuVGJyRGVjcjAxIiwiYnRuVGJyRGVjcjEwIiwiYnRuVGJyRGVjcjUwIiwiaXB0VGJyU1Bob25lc1dpZHRoIiwiaXB0VGJyTFBob25lc1dpZHRoIiwiZHluYW1pY1JlZ2lvbnMiLCJjdXJJbWciLCJpbWdWaWV3ZXIiLCJpbWdWaWV3cG9ydCIsImFwcENvbnRhaW5lciIsInN0YXRpY1JlZ2lvbnMiLCJkcm9wQXJlYSIsInRickNvbnRhaW5lciIsImNjcENvbnRhaW5lciIsIm1zZ0NvbnRhaW5lciIsImFwcEJsb2NrZXIiLCJoZHJJc29sYXRlQXBwIiwiY2NwVXNlcklucHV0IiwiaXB0Q2NwSW1nQ2xhc3MiLCJpcHRDY3BJbWdBbHQiLCJzcG5DY3BJbWdJbmNsdWRlV2lkdGhIZWlnaHRDaGVja21yayIsInNlbENjcEltZ0FsaWduIiwiaXB0Q2NwSW1nUmVsUGF0aCIsInNwbkNjcEltZ0luY2x1ZGVBbmNob3JDaGVja21yayIsImlwdENjcFRkQ2xhc3MiLCJzZWxDY3BUZEFsaWduIiwic2VsQ2NwVGRWYWxpZ24iLCJpcHRDY3BUZEhlaWdodCIsImlwdENjcFRkV2lkdGgiLCJpcHRDY3BUZEJnQ29sb3IiLCJpcHRDY3BUZEZvbnRDb2xvciIsImlwdENjcFRkQm9yZGVyQ29sb3IiLCJpcHRDY3BUZEJvcmRlclJhZGl1cyIsInJkb0NjcFRkQmFzaWMiLCJyZG9DY3BUZEV4Y2x1ZGVpbWciLCJyZG9DY3BUZEltZ3N3YXAiLCJyZG9DY3BUZFBvc3N3aXRjaCIsInJkb0NjcFRkQmdpbWFnZSIsInJkb0NjcFRkVm1sYnV0dG9uIiwiaXB0Q2NwVGFibGVDbGFzcyIsInNlbENjcFRhYmxlQWxpZ24iLCJpcHRDY3BUYWJsZVdpZHRoIiwiaXB0Q2NwVGFibGVCZ0NvbG9yIiwic3BuQ2NwVGFibGVJbmNsdWRlV3JhcHBlckNoZWNrbXJrIiwiaXB0Q2NwVGFibGVXcmFwcGVyQ2xhc3MiLCJpcHRDY3BUYWJsZVdyYXBwZXJXaWR0aCIsInNlbENjcFRhYmxlV3JhcHBlckFsaWduIiwiaXB0Q2NwVGFibGVXcmFwcGVyQmdDb2xvciIsImNjcFVzZXJJbnB1dExhYmVscyIsInNlbENjcEltZ0FsaWduTGFiZWwiLCJpcHRDY3BJbWdDbGFzc0xhYmVsIiwiaXB0Q2NwSW1nUmVscGF0aExhYmVsIiwiaXB0Q2NwSW1nQWx0TGFiZWwiLCJpcHRDY3BJbWdJbmNsdWRlV2lkdGhIZWlnaHRMYWJlbCIsImJ0bkNjcE1ha2VDbGlwcyIsImJ0bkNjcE1ha2VJbWdUYWciLCJidG5DY3BNYWtlVGRUYWciLCJidG5DY3BNYWtlVGFibGVUYWciLCJidG5DY3BNYWtlSW1nRHNrdHBDc3NSdWxlIiwiYnRuQ2NwTWFrZUltZ1NtcGhuQ3NzUnVsZSIsImJ0bkNjcE1ha2VJbWdMZ3BobkNzc1J1bGUiLCJidG5DY3BNYWtlVGREc2t0cENzc1J1bGUiLCJidG5DY3BNYWtlVGRTbXBobkNzc1J1bGUiLCJidG5DY3BNYWtlVGRMZ3BobkNzc1J1bGUiLCJidG5DY3BNYWtlVGFibGVEc2t0cENzc1J1bGUiLCJidG5DY3BNYWtlVGFibGVTbXBobkNzc1J1bGUiLCJidG5DY3BNYWtlVGFibGVMZ3BobkNzc1J1bGUiLCJhcHBNZXNzYWdlRWxlbWVudHMiLCJ0aXBDb250ZW50IiwibXNnQ29udGVudCIsImVyckNvbnRlbnQiLCJkaXNwbGF5QXBwTWVzc2FnZXMiLCJpc1Nob3ciLCJhcHBNZXNzQ29udGFpbmVySWQiLCJ0b29sdGlwVGFyZ2V0IiwiY2xhc3NMaXN0IiwiYWRkIiwiaW5jbHVkZXMiLCJzaG93QXBwTWVzc2FnZXMiLCJyZW1vdmUiLCJoaWRlQXBwTWVzc2FnZXMiLCJnZXRJbnNwZWN0b3JFbGVtZW50SURzIiwiZ2V0SW5zcGVjdG9yVmFsdWVzSURzIiwiZ2V0SW5zcGVjdG9yTGFiZWxzSURzIiwiZ2V0VG9vbEJ1dHRvbklEcyIsImdldER5bmFtaWNSZWdpb25JRHMiLCJnZXRTdGF0aWNSZWdpb25JRHMiLCJnZXRDY3BVc2VySW5wdXRJRHMiLCJnZXRDY3BVc2VySW5wdXRMYWJlbElkcyIsImdldEJ0bkNjcE1ha2VDbGlwcyIsImdldEFwcE1lc3NhZ2VFbGVtZW50cyIsImluaXRUb29sYmFySW5wdXRzIiwicXVlcnlET01FbGVtZW50cyIsImVscyIsImZuYW1lIiwidmlld2VyVyIsInZpZXdlckgiLCJpbWdXIiwiaW1nSCIsImltZ05XIiwiaW1nTkgiLCJzUGhvbmVzVyIsImxQaG9uZXNXIiwidGV4dENvbnRlbnQiLCJjU3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsIndpZHRoIiwiaGVpZ2h0IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsInBsYWNlaG9sZGVyIiwiaW5pdFVJIiwiaW5pdE1vZGUiLCJzZXRUaW1lb3V0IiwiZGlzcGxheSIsInNyYyIsInNwbGl0IiwiYXBwQ29udHJvbGxlciIsImluaXRDYWxjVmlld2VyU2l6ZSIsImluaXRJbml0Q0NQIiwiYXJyIiwiY3VyRGV2aWNlV2lkdGhzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIndyaXRlSW5zcGVjdG9ycyIsImluaXRHZXRBcHBkYXRhIiwiaW5uZXJIVE1MIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNQaG9uZXNIIiwibFBob25lc0giLCJhc3BlY3QiLCJhbGxJbnNwZWN0b3JzIiwiZmxhZ2dlZEluc3BlY3RvcnMiLCJ3cml0ZUluc3BlY3RvckFsZXJ0cyIsImV2YWxJbnNwZWN0b3JBbGVydHMiLCJjb2xvciIsImlzQXJyYXkiLCJ2YWx1ZXMiLCJkaXNwbGF5VGRPcHRpb25zIiwiZXZ0IiwidGFyZ2V0YWxpYXMiLCJwYXJlbnREaXZJZCIsImFsbFRkT3B0aW9ucyIsIm9wdGlvbnNUb1Nob3ciLCJnZXRQYXJlbnREaXYiLCJzdWJzdHJpbmciLCJzaG93T3B0aW9ucyIsImlkIiwiQ0JDb250cm9sbGVyIiwiZ2V0QXR0cmlidXRlcyIsImNoZWNrZWQiLCJzdHIiLCJzZWxlY3RpZCIsImltZ0NsYXNzIiwiY2NwR2V0QXR0VmFsdWUiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsImltZ0FsdCIsImltZ1NyYyIsImltZ1N0eWxlIiwiZ2V0Q2hlY2tib3hTZWxlY3Rpb24iLCJpbWdBbGlnbiIsImdldEFsaWduQXR0cmlidXRlIiwiaW1nSW5jbHVkZUFuY2hvciIsInRkQXBwZGF0YVdpZHRoIiwidGRBcHBkYXRhSGVpZ2h0IiwidGRIZWlnaHQiLCJjY3BJZk5vVXNlcklucHV0IiwidGRXaWR0aCIsInRkQmFzaWMiLCJnZXRSYWRpb1NlbGVjdGlvbiIsInRkSW1nc3dhcCIsInRkQmdpbWFnZSIsInRkUG9zc3dpdGNoIiwidGRBbGlnbiIsInRkVmFsaWduIiwidGRDbGFzcyIsInRkQmdjb2xvciIsInRkQmFja2dyb3VuZCIsInRhYmxlQ2xhc3MiLCJ0YWJsZVdpZHRoIiwidGFibGVCZ2NvbG9yIiwidGFibGVBbGlnbiIsInRhYmxlSW5jbHVkZVdyYXBwZXIiLCJ0YWJsZVRhZ1dyYXBwZXJDbGFzcyIsInRhYmxlVGFnV3JhcHBlckFsaWduIiwidGFibGVUYWdXcmFwcGVyV2lkdGgiLCJ0YWJsZVRhZ1dyYXBwZXJCZ2NvbG9yIiwiYXR0Iiwic2VsSW5kIiwic2VsZWN0ZWRJbmRleCIsImNoa2JveGlkIiwicmVwbGFjZSIsInJhZGlvaWQiLCJnZXRVc2VyU2VsZWN0aW9ucyIsInVTZWxzIiwiYnV0dG9uQ2xpY2tlZCIsImhhc0FuY2hvciIsImhhc1dyYXBwZXIiLCJzZWxlY3RlZFJhZGlvIiwidGFibGVOb2RlRnJhZ21lbnQiLCJubCIsImZyYWciLCJvdXRwdXROTCIsImNsaXBib2FyZFN0ciIsIkF0dHJpYnV0ZXMiLCJ0YWJsZU91dGVyIiwidHJPdXRlciIsInRkT3V0ZXIiLCJ0YWJsZUlubmVyIiwidHJJbm5lciIsInRkTm9kZUZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImNsYXNzTmFtZSIsImFsaWduIiwiYmdDb2xvciIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJpc0VyciIsInRkSW5uZXIiLCJpbWdOb2RlIiwidkFsaWduIiwicmV0dXJuTm9kZUZyYWdtZW50IiwiYWx0IiwiYW5jaG9yIiwiaHJlZiIsIm1ha2VJbWdOb2RlIiwiaiIsImluZGV4IiwiY29udGFpbmVySWRzIiwiY29udGFpbmVyRWxlbWVudHMiLCJzaWJsaW5nMUlkcyIsInNpYmxpbmcxRWxlbWVudHMiLCJzaWJsaW5nMklkcyIsInNpYmxpbmcyRWxlbWVudHMiLCJjb250YWluZXJOb2RlcyIsInNpYmxpbmcxTm9kZXMiLCJzaWJsaW5nMk5vZGVzIiwic3BsaWNlIiwiY29udGFpbmVyIiwidGRfc3dpdGNoY29udGFpbmVyQXR0ciIsInRhYmxlX3N3aXRjaHBhcmVudEF0dHIiLCJ0cl9zd2l0Y2hwYXJlbnRBdHRyIiwidGRfc3dpdGNoc2libGluZzFBdHRyIiwidGFibGVfc3dpdGNoY2hpbGQxQXR0ciIsInRyX3N3aXRjaGNoaWxkMUF0dHIiLCJ0ZF9zd2l0Y2hjb250ZW50MUF0dHIiLCJhX3N3aXRjaGNvbnRlbnQxQXR0ciIsImltZ19zd2l0Y2hjb250ZW50MUF0dHIiLCJ0ZF9zd2l0Y2hzaWJsaW5nMkF0dHIiLCJ0YWJsZV9zd2l0Y2hjaGlsZDJBdHRyIiwidHJfc3dpdGNoY2hpbGQyQXR0ciIsInRkX3N3aXRjaGNvbnRlbnQyQXR0ciIsIm5vZGVBdHRyaWJ1dGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImRpciIsInZhbGlnbiIsInJvbGUiLCJjbGFzcyIsImVudHJpZXMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRQb3NTd2l0Y2hOb2RlQXR0cmlidXRlcyIsImNoaWxkcmVuIiwibWFrZVBvc1N3aXRjaE5vZGVzIiwiaW5pdE1lc3NhZ2UiLCJoYW5kbGVBcHBNZXNzYWdlcyIsIm1ha2VUZE5vZGUiLCJtYWtlVGFibGVOb2RlIiwicnRsTm9kZVBvcyIsImV4dHJhY3RQb3MiLCJhcHBseUluZGVudHMiLCJvdXRlckhUTUwiLCJleHRyYWN0Tm9kZUluZGV4IiwiaW5kZW50TGV2ZWwiLCJjb2RlQmxvY2siLCJsaW5lYnJlYWsiLCJtb2JpbGVGaWxlbmFtZSIsIm1vYmlsZVN3YXBTdHIiLCJnZXRJbmRlbnQiLCJnZXRJbWdTd2FwQmxvY2siLCJiZ2ltYWdlU3RyIiwiZmFsbGJhY2siLCJiZ2NvbG9yIiwiZ2V0QmdpbWFnZUJsb2NrIiwidm1sQnV0dG9uU3RyIiwiZ2V0Vm1sQnV0dG9uQmxvY2siLCJ3cml0ZUNsaXBib2FyZCIsImFsaWFzIiwiYWxpYXNUb0lkIiwiYnVpbGRPdXRwdXROb2RlTGlzdCIsInN0YWNrQ29sdW1uSW5kZW50TGV2ZWwiLCJoYXNNU0NvbmRpdGlvbmFsIiwiaW5kZW50cyIsInN0YWNrQ29sdW1uUG9zIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaW5kZW50Q2hhciIsImluZGVudCIsInJlcGVhdCIsImN1cnJlbnRDQiIsIkNsaXBib2FyZEpTIiwiZXZlbnQiLCJkb0NsaXBib2FyZCIsInRhcmdldGlkIiwibW9kaWZpZXJLZXkiLCJzaGlmdEtleSIsImN0cmxLZXkiLCJjbGFzc25hbWUiLCJ3dmFsIiwiaHZhbCIsIm1ha2VDc3NSdWxlIiwid2lkdGh2YWwiLCJoZWlnaHR2YWwiLCJnZXRWYWwiLCJzdHIxIiwic3RyMiIsInZhbCIsIm9ubW91c2VvdmVyIiwiaXNPdmVyIiwiaGFuZGxlSW5zcGVjdG9yQ2xpY2tzIiwicnVuVGVzdCIsIkNCQ3RybCIsIlVJQ3RybCIsInRvb2x0aXBUcmlnZ2VycyIsImhhbmRsZUZpbGVTZWxlY3QiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImRhdGFUcmFuc2ZlciIsImZpbGVzIiwibWF0Y2giLCJ0aGVGaWxlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIkltYWdlIiwiZmlsZU5hbWUiLCJyZXN1bHQiLCJjdXJJbWdEaXYiLCJnZXRFbGVtZW50QnlJZCIsImluc2VydEJlZm9yZSIsImluaXRJbWdUb0RPTSIsImNhbGNWaWV3ZXJTaXplIiwicmVhZEFzRGF0YVVSTCIsImhhbmRsZURyYWdPdmVyIiwiZHJvcEVmZmVjdCIsImhhbmRsZUZvY3VzIiwiZWwiLCJoYW5kbGVCbHVyIiwicHJvcCIsImVsZW1lbnRJZFRvQXBwZGF0YVByb3AiLCJoYW5kbGVPbmZvY3VzIiwiaGFuZGxlTW91c2VFdmVudHMiLCJhcmdzIiwidmFscyIsImVycm9yIiwiY2hlY2tVc2VySW5wdXQiLCJldmFsVG9vbGJhcklucHV0IiwiaGFuZGxlS2V5ZG93biIsImNvbnRhaW5zIiwia2V5ZG93biIsIndoaWNoIiwia2V5Q29kZSIsImlzRW50ZXIiLCJvbmJsdXIiLCJoYW5kbGVLZXl1cCIsImN1ckxvY2FsU3RvcmFnZSIsImtleXVwIiwiZ2V0TG9jYWxTdG9yYWdlIiwiYXBwTWVzc0NvZGUiLCJpbnB1dFZhbCIsInZhbGlkYXRlSW50ZWdlciIsImFyZzEiLCJhcmcyIiwicGFyYW1zIiwic2V0SXRlbSIsInVwZGF0ZUFwcGRhdGEiLCJjb21wU3R5bGVzIiwiYWN0dWFsVyIsImFjdHVhbEgiLCJNYXRoIiwicm91bmQiLCJ2aWV3cG9ydEgiLCJhcHBIIiwicmVzaXplQ29udGFpbmVycyIsImluaXRDQ1AiLCJjY3BDaGVja21hcmtzIiwiY2NwQ2hlY2tib3hlcyIsInRvZ2dsZSIsImhhbmRsZUNDUElucHV0Iiwid3JhcHBlckl0ZW1zVG9IaWRlIiwiY2xpY2siLCJjaGtJZCIsImNoZWNrYm94Iiwid3JhcHBlckl0ZW1zVG9TaG93Iiwic2hvd0VsZW1lbnRPbklucHV0IiwiZWxlbXMiLCJpc29sYXRlQXBwIiwid2luIiwiY3VyVVJMIiwibG9jYXRpb24iLCJvcGVuIiwiSUR0b1Byb3AiLCJrZXlzIiwiZmluZCIsInJvb3RFbGVtZW50IiwiYWx0S2V5IiwiYWRkRXZlbnRIYW5kbGVyIiwib05vZGUiLCJvRnVuYyIsImJDYXB0dXJlcyIsInRvb2xiYXJJZHMiLCJpbnNwZWN0b3JMYWJlbElkcyIsImluc3BlY3RvclZhbHVlSWRzIiwiY2NwVXNlcklucHV0SWRzIiwibGFiZWxpZCIsImxhYmVsZWwiLCJidG5DY3BNYWtlQ2xpcElkcyIsImFkZFRvb2x0aXBFdmVudExpc3RlbmVycyIsInRpcENvbnRlbnRDb250YWluZXIiLCJyZW1vdmVFdmVudEhhbmRsZXIiLCJyZW1vdmVUb29sdGlwRXZlbnRMaXN0ZW5lcnMiLCJhcHBNZXNzVHlwZSIsImFwcE1lc3NDb250ZW50IiwiZHVyYXRpb24iLCJ0aW1lciIsImdldEFwcE1lc3NhZ2VTdHJpbmdzIiwibXNnX2NvcGllZF8yX0NCIiwiZXJyX25vdF9JbnRlZ2VyIiwiZXJyX2ltZ1dfR1Rfdmlld2VyVyIsImVycl90YkJ1dHRvbl9MVF96ZXJvIiwiZXJyX3RiQnV0dG9uX0dUX3ZpZXdlclciLCJlcnJfdmlld2VyV19HVF9tYXhWaWV3ZXJXaWR0aCIsImVycl9ub3RfYW5faW50ZWdlciIsImVycl92bWxidXR0b25fbm9fdmFsdWUiLCJlcnJfdm1sYnV0dG9uX2hlaWdodF9taXNtYXRjaCIsInRpcF9pcHRfdGJyX3ZpZXdlcnciLCJ0aXBfYnRuX3Ricl9pbmNyNTAiLCJ0aXBfYnRuX3Ricl9pbmNyMTAiLCJ0aXBfYnRuX3Ricl9pbmNyMDEiLCJ0aXBfaXB0X3Ricl9pbWd3aWR0aCIsInRpcF9pcHRfdGJyX2ltZ2hlaWdodCIsInRpcF9idG5fdGJyX2RlY3IwMSIsInRpcF9idG5fdGJyX2RlY3IxMCIsInRpcF9idG5fdGJyX2RlY3I1MCIsInRpcF9pcHRfdGJyX3NwaG9uZXNfd2lkdGgiLCJ0aXBfaXB0X3Ricl9scGhvbmVzX3dpZHRoIiwidGlwX2luc19kaXNwbGF5X3NpemVfbGFiZWwiLCJ0aXBfaW5zX2Rpc3BsYXlfc2l6ZV93aWR0aF92YWx1ZSIsInRpcF9pbnNfZGlzcGxheV9zaXplX2hlaWdodF92YWx1ZSIsInRpcF9pbnNfZGlza19zaXplX2xhYmVsIiwidGlwX2luc19hc3BlY3RfbGFiZWwiLCJ0aXBfaW5zX3NtYWxsX3Bob25lc19sYWJlbCIsInRpcF9pbnNfc21hbGxfcGhvbmVzX3dpZHRoX3ZhbHVlIiwidGlwX2luc19zbWFsbF9waG9uZXNfaGVpZ2h0X3ZhbHVlIiwidGlwX2luc19sYXJnZV9waG9uZXNfbGFiZWwiLCJ0aXBfaW5zX2xhcmdlX3Bob25lc193aWR0aF92YWx1ZSIsInRpcF9pbnNfbGFyZ2VfcGhvbmVzX2hlaWdodF92YWx1ZSIsInRpcF9pbnNfcmV0aW5hX2xhYmVsIiwidGlwX2J0bl9jY3BfbWFrZV9pbWdfdGFnIiwidGlwX2J0bl9jY3BfbWFrZV90ZF90YWciLCJ0aXBfYnRuX2NjcF9tYWtlX3RhYmxlX3RhZyIsInRpcF9zZWxfY2NwX2ltZ19hbGlnbiIsInRpcF9zZWxfY2NwX2ltZ19hbGlnbl9sYWJlbCIsInRpcF9pcHRfY2NwX2ltZ19jbGFzcyIsInRpcF9pcHRfY2NwX2ltZ19jbGFzc19sYWJlbCIsInRpcF9pcHRfY2NwX2ltZ19yZWxwYXRoIiwidGlwX2lwdF9jY3BfaW1nX3JlbHBhdGhfbGFiZWwiLCJ0aXBfaXB0X2NjcF9pbWdfYWx0IiwidGlwX2lwdF9jY3BfaW1nX2FsdF9sYWJlbCIsInRpcF9jY3BfaW1nX2luY2x1ZGVfd2lkdGhfaGVpZ2h0IiwidGlwX2NjcF9pbWdfaW5jbHVkZV93aWR0aF9oZWlnaHRfbGFiZWwiLCJ0aXBfY2NwX2ltZ19pbmNsdWRlX2FuY2hvciIsInRpcF9jY3BfaW1nX2luY2x1ZGVfYW5jaG9yX2xhYmVsIiwidGlwX3NlbF9jY3BfdGRfYWxpZ24iLCJ0aXBfc2VsX2NjcF90ZF9hbGlnbl9sYWJlbCIsInRpcF9zZWxfY2NwX3RkX3ZhbGlnbiIsInRpcF9zZWxfY2NwX3RkX3ZhbGlnbl9sYWJlbCIsInRpcF9pcHRfY2NwX3RkX2NsYXNzIiwidGlwX2lwdF9jY3BfdGRfY2xhc3NfbGFiZWwiLCJ0aXBfaXB0X2NjcF90ZF9iZ2NvbG9yIiwidGlwX2lwdF9jY3BfdGRfYmdjb2xvcl9sYWJlbCIsInRpcF9yZG9fY2NwX3RkX2Jhc2ljIiwidGlwX3Jkb19jY3BfdGRfYmFzaWNfbGFiZWwiLCJ0aXBfcmRvX2NjcF90ZF9leGNsdWRlaW1nIiwidGlwX3Jkb19jY3BfdGRfZXhjbHVkZWltZ19sYWJlbCIsInRpcF9yZG9fY2NwX3RkX3Bvc3N3aXRjaCIsInRpcF9yZG9fY2NwX3RkX3Bvc3dpdGNoX2xhYmVsIiwidGlwX3Jkb19jY3BfdGRfYmdpbWFnZSIsInRpcF9yZG9fY2NwX3RkX2JnaW1hZ2VfbGFiZWwiLCJ0aXBfcmRvX2NjcF90ZF92bWxidXR0b24iLCJ0aXBfcmRvX2NjcF90ZF92bWxidXR0b25fbGFiZWwiLCJ0aXBfaXB0X2NjcF90YWJsZV9jbGFzcyIsInRpcF9pcHRfY2NwX3RhYmxlX2NsYXNzX2xhYmVsIiwidGlwX2lwdF9jY3BfdGFibGVfd2lkdGgiLCJ0aXBfaXB0X2NjcF90YWJsZV93aWR0aF9sYWJlbCIsInRpcF9zZWxfY2NwX3RhYmxlX2FsaWduIiwidGlwX3NlbF9jY3BfdGFibGVfYWxpZ25fbGFiZWwiLCJ0aXBfaXB0X2NjcF90YWJsZV9iZ2NvbG9yIiwidGlwX2lwdF9jY3BfdGFibGVfYmdjb2xvcl9sYWJlbCIsInRpcF9jY3BfdGFibGVfaW5jbHVkZV93cmFwcGVyIiwidGlwX2NjcF90YWJsZV9pbmNsdWRlX3dyYXBwZXJfbGFiZWwiLCJ0aXBfaXB0X2NjcF90YWJsZV93cmFwcGVyX2NsYXNzIiwidGlwX2lwdF9jY3BfdGFibGVfd3JhcHBlcl9jbGFzc19sYWJlbCIsInRpcF9pcHRfY2NwX3RhYmxlX3dyYXBwZXJfd2lkdGgiLCJ0aXBfaXB0X2NjcF90YWJsZV93cmFwcGVyX3dpZHRoX2xhYmVsIiwidGlwX3NlbF9jY3BfdGFibGVfd3JhcHBlcl9hbGlnbiIsInRpcF9zZWxfY2NwX3RhYmxlX2FsaWduX3dyYXBwZXJfbGFiZWwiLCJ0aXBfaXB0X2NjcF90YWJsZV93cmFwcGVyX2JnY29sb3IiLCJ0aXBfaXB0X2NjcF90YWJsZV9iZ2NvbG9yX3dyYXBwZXJfYmdjb2xvcl9sYWJlbCIsInZhcjEiLCJ2YXIyIiwiZ2NkVmFsIiwiYXNwZWN0UmVhbCIsImFzcGVjdEludCIsInRlbXAiLCJtIiwiZ2NkIiwiZ2V0QXBwZGF0YSIsImluaXQiLCJjdXJVcmwiLCJ0YkNsaWNrYWJsZXMiLCJ0YkZvY3VzSW5wdXRzIiwidGJLZXlwcmVzc2VzIiwiaW5zcGVjdG9yQ2xpY2thYmxlcyIsImluc3BlY3RvckhvdmVyYWJsZXMiLCJlbnRlcmVkTWUiLCJjY3BLZXlwcmVzc2VzIiwiZHZDbGlja2FibGVzIiwiY2xpcEJ1dCIsImhhc093blByb3BlcnR5Iiwic2V0dXBFdmVudExpc3RlbmVycyIsInBvcHVwcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0NBTUEsU0FBQUEsR0FBQSxHQUFBLGlCQUFBQyxTQUFBLG9CQUFBQyxPQUFBQSxPQUFBRCxRQUFBRCxTQUFBLEdBQUEsbUJBQUFHLFFBQUFBLE9BQUFDLElBQUFELE9BQUEsR0FBQUgsT0FBQSxFQUFBLG9CQUFBSyxPQUFBQSxPQUFBLG9CQUFBQyxPQUFBQSxPQUFBLG9CQUFBQyxLQUFBQSxLQUFBQyxNQUFBQyxVQUFBVCxLQUFBLEVBQUEsV0FBQSxPQUFBLFNBQUFVLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBSixFQUFBRyxHQUFBLENBQUEsSUFBQUosRUFBQUksR0FBQSxDQUFBLElBQUFFLEVBQUEsbUJBQUFDLFNBQUFBLFFBQUEsSUFBQUYsR0FBQUMsRUFBQSxPQUFBQSxFQUFBRixHQUFBLEdBQUEsR0FBQUksRUFBQSxPQUFBQSxFQUFBSixHQUFBLEdBQUEsSUFBQWYsRUFBQSxJQUFBb0IsTUFBQSx1QkFBQUwsRUFBQSxLQUFBLE1BQUFmLEVBQUFxQixLQUFBLG1CQUFBckIsRUFBQSxJQUFBc0IsRUFBQVYsRUFBQUcsR0FBQSxDQUFBZCxRQUFBLElBQUFVLEVBQUFJLEdBQUEsR0FBQVEsS0FBQUQsRUFBQXJCLFNBQUEsU0FBQVMsR0FBQSxJQUFBRSxFQUFBRCxFQUFBSSxHQUFBLEdBQUFMLEdBQUEsT0FBQUksRUFBQUYsR0FBQUYsS0FBQVksRUFBQUEsRUFBQXJCLFFBQUFTLEVBQUFDLEVBQUFDLEVBQUFDLEdBQUEsT0FBQUQsRUFBQUcsR0FBQWQsUUFBQSxJQUFBLElBQUFrQixFQUFBLG1CQUFBRCxTQUFBQSxRQUFBSCxFQUFBLEVBQUFBLEVBQUFGLEVBQUFXLE9BQUFULElBQUFELEVBQUFELEVBQUFFLElBQUEsT0FBQUQsRUFBQSxDQUFBLENBQUFXLEVBQUEsQ0FBQSxTQUFBUCxFQUFBaEIsRUFBQUQsR0FNQSxHQUFBeUIsVUFBQUEsUUFBQUMsVUFBQUMsUUFBQSxDQUNBLElBQUFDLEVBQUFILFFBQUFDLFVBRUFFLEVBQUFELFFBQUFDLEVBQUFDLGlCQUNBRCxFQUFBRSxvQkFDQUYsRUFBQUcsbUJBQ0FILEVBQUFJLGtCQUNBSixFQUFBSyxzQkFpQkFoQyxFQUFBRCxRQVBBLFNBQUFrQyxFQUFBQyxHQUNBLEtBQUFELEdBdkJBLElBdUJBQSxFQUFBRSxVQUFBLENBQ0EsR0FBQUYsRUFBQVAsUUFBQVEsR0FBQSxPQUFBRCxFQUNBQSxFQUFBQSxFQUFBRyxjQU1BLElBQUFDLEVBQUEsQ0FBQSxTQUFBckIsRUFBQWhCLEVBQUFELEdBQ0EsSUFBQXVDLEVBQUF0QixFQUFBLGFBaUNBLFNBQUF1QixFQUFBTixFQUFBQyxFQUFBTSxFQUFBQyxHQUNBLE9BQUEsU0FBQWpDLEdBQ0FBLEVBQUFrQyxlQUFBSixFQUFBOUIsRUFBQW1DLE9BQUFULEdBRUExQixFQUFBa0MsZ0JBQ0FELEVBQUFwQixLQUFBWSxFQUFBekIsSUFLQVIsRUFBQUQsUUEvQkEsU0FBQWtDLEVBQUFDLEVBQUFNLEVBQUFDLEVBQUFHLEdBQ0EsSUFBQUMsRUFBQU4sRUFBQU8sTUFBQXhDLEtBQUF5QyxXQUlBLE9BRkFkLEVBQUFlLGlCQUFBUixFQUFBSyxFQUFBRCxHQUVBLENBQ0FLLFFBQUEsV0FDQWhCLEVBQUFpQixvQkFBQVYsRUFBQUssRUFBQUQsT0EwQkEsQ0FBQU8sWUFBQSxJQUFBQyxFQUFBLENBQUEsU0FBQXBDLEVBQUFoQixFQUFBRCxHQU9BQSxFQUFBc0QsS0FBQSxTQUFBQyxHQUNBLFlBQUFDLElBQUFELEdBQ0FBLGFBQUFFLGFBQ0EsSUFBQUYsRUFBQW5CLFVBU0FwQyxFQUFBMEQsU0FBQSxTQUFBSCxHQUNBLElBQUFkLEVBQUFrQixPQUFBakMsVUFBQWtDLFNBQUF0QyxLQUFBaUMsR0FFQSxZQUFBQyxJQUFBRCxJQUNBLHNCQUFBZCxHQUFBLDRCQUFBQSxJQUNBLFdBQUFjLElBQ0EsSUFBQUEsRUFBQWhDLFFBQUF2QixFQUFBc0QsS0FBQUMsRUFBQSxNQVNBdkQsRUFBQTZELE9BQUEsU0FBQU4sR0FDQSxNQUFBLGlCQUFBQSxHQUNBQSxhQUFBTyxRQVNBOUQsRUFBQStELEdBQUEsU0FBQVIsR0FHQSxNQUFBLHNCQUZBSSxPQUFBakMsVUFBQWtDLFNBQUF0QyxLQUFBaUMsS0FLQSxJQUFBUyxFQUFBLENBQUEsU0FBQS9DLEVBQUFoQixFQUFBRCxHQUNBLElBQUFpRSxFQUFBaEQsRUFBQSxRQUNBaUQsRUFBQWpELEVBQUEsWUE2RkFoQixFQUFBRCxRQWxGQSxTQUFBNEMsRUFBQUgsRUFBQUMsR0FDQSxJQUFBRSxJQUFBSCxJQUFBQyxFQUNBLE1BQUEsSUFBQXZCLE1BQUEsOEJBR0EsSUFBQThDLEVBQUFKLE9BQUFwQixHQUNBLE1BQUEsSUFBQTBCLFVBQUEsb0NBR0EsSUFBQUYsRUFBQUYsR0FBQXJCLEdBQ0EsTUFBQSxJQUFBeUIsVUFBQSxxQ0FHQSxHQUFBRixFQUFBWCxLQUFBVixHQUNBLE9Bc0JBLFNBQUFVLEVBQUFiLEVBQUFDLEdBR0EsT0FGQVksRUFBQUwsaUJBQUFSLEVBQUFDLEdBRUEsQ0FDQVEsUUFBQSxXQUNBSSxFQUFBSCxvQkFBQVYsRUFBQUMsS0EzQkEwQixDQUFBeEIsRUFBQUgsRUFBQUMsR0FFQSxHQUFBdUIsRUFBQVAsU0FBQWQsR0FDQSxPQXNDQSxTQUFBYyxFQUFBakIsRUFBQUMsR0FLQSxPQUpBMkIsTUFBQTNDLFVBQUE0QyxRQUFBaEQsS0FBQW9DLEdBQUEsU0FBQUosR0FDQUEsRUFBQUwsaUJBQUFSLEVBQUFDLE1BR0EsQ0FDQVEsUUFBQSxXQUNBbUIsTUFBQTNDLFVBQUE0QyxRQUFBaEQsS0FBQW9DLEdBQUEsU0FBQUosR0FDQUEsRUFBQUgsb0JBQUFWLEVBQUFDLFFBOUNBNkIsQ0FBQTNCLEVBQUFILEVBQUFDLEdBRUEsR0FBQXVCLEVBQUFKLE9BQUFqQixHQUNBLE9BMERBLFNBQUFULEVBQUFNLEVBQUFDLEdBQ0EsT0FBQXdCLEVBQUFNLFNBQUFDLEtBQUF0QyxFQUFBTSxFQUFBQyxHQTNEQWdDLENBQUE5QixFQUFBSCxFQUFBQyxHQUdBLE1BQUEsSUFBQXlCLFVBQUEsK0VBNkRBLENBQUFRLE9BQUEsRUFBQVQsU0FBQSxJQUFBVSxFQUFBLENBQUEsU0FBQTNELEVBQUFoQixFQUFBRCxHQWlDQUMsRUFBQUQsUUFoQ0EsU0FBQWtDLEdBQ0EsSUFBQTJDLEVBRUEsR0FBQSxXQUFBM0MsRUFBQTRDLFNBQ0E1QyxFQUFBNkMsUUFFQUYsRUFBQTNDLEVBQUFxQixXQUVBLEdBQUEsVUFBQXJCLEVBQUE0QyxVQUFBLGFBQUE1QyxFQUFBNEMsU0FDQTVDLEVBQUE2QyxRQUNBN0MsRUFBQThDLGtCQUFBLEVBQUE5QyxFQUFBcUIsTUFBQWhDLFFBRUFzRCxFQUFBM0MsRUFBQXFCLFVBRUEsQ0FDQXJCLEVBQUErQyxhQUFBLG9CQUNBL0MsRUFBQTZDLFFBR0EsSUFBQUcsRUFBQTlFLE9BQUErRSxlQUNBQyxFQUFBWixTQUFBYSxjQUVBRCxFQUFBRSxtQkFBQXBELEdBQ0FnRCxFQUFBSyxrQkFDQUwsRUFBQU0sU0FBQUosR0FFQVAsRUFBQUssRUFBQXRCLFdBR0EsT0FBQWlCLElBS0EsSUFBQVksRUFBQSxDQUFBLFNBQUF4RSxFQUFBaEIsRUFBQUQsR0FDQSxTQUFBMEYsS0FLQUEsRUFBQWhFLFVBQUEsQ0FDQWlFLEdBQUEsU0FBQUMsRUFBQWxELEVBQUFtRCxHQUNBLElBQUFwRixFQUFBRixLQUFBRSxJQUFBRixLQUFBRSxFQUFBLElBT0EsT0FMQUEsRUFBQW1GLEtBQUFuRixFQUFBbUYsR0FBQSxLQUFBRSxLQUFBLENBQ0EvQixHQUFBckIsRUFDQW1ELElBQUFBLElBR0F0RixNQUdBd0YsS0FBQSxTQUFBSCxFQUFBbEQsRUFBQW1ELEdBQ0EsSUFBQXZGLEVBQUFDLEtBQ0EsU0FBQWlDLElBQ0FsQyxFQUFBMEYsSUFBQUosRUFBQXBELEdBQ0FFLEVBQUFLLE1BQUE4QyxFQUFBN0MsV0FJQSxPQURBUixFQUFBeUQsRUFBQXZELEVBQ0FuQyxLQUFBb0YsR0FBQUMsRUFBQXBELEVBQUFxRCxJQUdBSyxLQUFBLFNBQUFOLEdBTUEsSUFMQSxJQUFBTyxFQUFBLEdBQUFDLE1BQUE5RSxLQUFBMEIsVUFBQSxHQUNBcUQsSUFBQTlGLEtBQUFFLElBQUFGLEtBQUFFLEVBQUEsS0FBQW1GLElBQUEsSUFBQVEsUUFDQWxGLEVBQUEsRUFDQW9GLEVBQUFELEVBQUE5RSxPQUVBTCxFQUFBb0YsRUFBQXBGLElBQ0FtRixFQUFBbkYsR0FBQTZDLEdBQUFoQixNQUFBc0QsRUFBQW5GLEdBQUEyRSxJQUFBTSxHQUdBLE9BQUE1RixNQUdBeUYsSUFBQSxTQUFBSixFQUFBbEQsR0FDQSxJQUFBakMsRUFBQUYsS0FBQUUsSUFBQUYsS0FBQUUsRUFBQSxJQUNBOEYsRUFBQTlGLEVBQUFtRixHQUNBWSxFQUFBLEdBRUEsR0FBQUQsR0FBQTdELEVBQ0EsSUFBQSxJQUFBeEIsRUFBQSxFQUFBb0YsRUFBQUMsRUFBQWhGLE9BQUFMLEVBQUFvRixFQUFBcEYsSUFDQXFGLEVBQUFyRixHQUFBNkMsS0FBQXJCLEdBQUE2RCxFQUFBckYsR0FBQTZDLEdBQUFrQyxJQUFBdkQsR0FDQThELEVBQUFWLEtBQUFTLEVBQUFyRixJQVlBLE9BSkFzRixFQUFBLE9BQ0EvRixFQUFBbUYsR0FBQVksU0FDQS9GLEVBQUFtRixHQUVBckYsT0FJQU4sRUFBQUQsUUFBQTBGLEdBRUEsSUFBQWUsRUFBQSxDQUFBLFNBQUF4RixFQUFBaEIsRUFBQUQsSUFDQSxTQUFBSyxFQUFBcUcsR0FHQSxRQUFBLElBQUExRyxFQUNBMEcsRUFBQXpHLEVBQUFnQixFQUFBLGVBQ0EsQ0FDQSxJQUFBMEYsRUFBQSxDQUNBM0csUUFBQSxJQUVBMEcsRUFBQUMsRUFBQXRHLEVBQUF1RyxRQUNBdkcsRUFBQXdHLGdCQUFBRixFQUFBM0csU0FWQSxDQVlBTyxNQUFBLFNBQUFOLEVBQUE2RyxHQUNBLGFBRUEsSUFFQUMsRUFGQUMsR0FFQUQsRUFGQUQsSUFHQUMsRUFBQUUsV0FBQUYsRUFBQSxDQUNBRyxRQUFBSCxHQUlBLElBQUFJLEVBQUEsbUJBQUFDLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQU4sR0FDQSxjQUFBQSxHQUNBLFNBQUFBLEdBQ0EsT0FBQUEsR0FBQSxtQkFBQUssUUFBQUwsRUFBQU8sY0FBQUYsUUFBQUwsSUFBQUssT0FBQTFGLFVBQUEsZ0JBQUFxRixHQVNBLElBQUFRLEVBQUEsV0FDQSxTQUFBQyxFQUFBNUUsRUFBQTZFLEdBQ0EsSUFBQSxJQUFBdkcsRUFBQSxFQUFBQSxFQUFBdUcsRUFBQWxHLE9BQUFMLElBQUEsQ0FDQSxJQUFBd0csRUFBQUQsRUFBQXZHLEdBQ0F3RyxFQUFBQyxXQUFBRCxFQUFBQyxhQUFBLEVBQ0FELEVBQUFFLGNBQUEsRUFDQSxVQUFBRixJQUFBQSxFQUFBRyxVQUFBLEdBQ0FsRSxPQUFBbUUsZUFBQWxGLEVBQUE4RSxFQUFBSyxJQUFBTCxJQUlBLE9BQUEsU0FBQU0sRUFBQUMsRUFBQUMsR0FHQSxPQUZBRCxHQUFBVCxFQUFBUSxFQUFBdEcsVUFBQXVHLEdBQ0FDLEdBQUFWLEVBQUFRLEVBQUFFLEdBQ0FGLEdBZEEsR0FrQkFHLEVBQUEsV0FJQSxTQUFBQSxFQUFBQyxJQTVCQSxTQUFBQyxFQUFBTCxHQUNBLEtBQUFLLGFBQUFMLEdBQ0EsTUFBQSxJQUFBN0QsVUFBQSxxQ0EyQkFtRSxDQUFBL0gsS0FBQTRILEdBRUE1SCxLQUFBZ0ksZUFBQUgsR0FDQTdILEtBQUFpSSxnQkFtS0EsT0ExSkFqQixFQUFBWSxFQUFBLENBQUEsQ0FDQUosSUFBQSxpQkFDQXhFLE1BQUEsV0FDQSxJQUFBNkUsRUFBQXBGLFVBQUF6QixPQUFBLFFBQUFpQyxJQUFBUixVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQUVBekMsS0FBQWtJLE9BQUFMLEVBQUFLLE9BQ0FsSSxLQUFBbUksUUFBQU4sRUFBQU0sUUFDQW5JLEtBQUFxQyxPQUFBd0YsRUFBQXhGLE9BQ0FyQyxLQUFBb0ksS0FBQVAsRUFBQU8sS0FDQXBJLEtBQUFxSSxRQUFBUixFQUFBUSxRQUVBckksS0FBQXNFLGFBQUEsS0FFQSxDQUNBa0QsSUFBQSxnQkFDQXhFLE1BQUEsV0FDQWhELEtBQUFvSSxLQUNBcEksS0FBQXNJLGFBQ0F0SSxLQUFBcUMsUUFDQXJDLEtBQUF1SSxpQkFHQSxDQUNBZixJQUFBLGFBQ0F4RSxNQUFBLFdBQ0EsSUFBQXdGLEVBQUF4SSxLQUVBeUksRUFBQSxPQUFBeEUsU0FBQXlFLGdCQUFBQyxhQUFBLE9BRUEzSSxLQUFBNEksYUFFQTVJLEtBQUE2SSxvQkFBQSxXQUNBLE9BQUFMLEVBQUFJLGNBRUE1SSxLQUFBOEksWUFBQTdFLFNBQUFDLEtBQUF4QixpQkFBQSxRQUFBMUMsS0FBQTZJLHVCQUFBLEVBRUE3SSxLQUFBK0ksU0FBQTlFLFNBQUErRSxjQUFBLFlBRUFoSixLQUFBK0ksU0FBQUUsTUFBQUMsU0FBQSxPQUVBbEosS0FBQStJLFNBQUFFLE1BQUFFLE9BQUEsSUFDQW5KLEtBQUErSSxTQUFBRSxNQUFBRyxRQUFBLElBQ0FwSixLQUFBK0ksU0FBQUUsTUFBQUksT0FBQSxJQUVBckosS0FBQStJLFNBQUFFLE1BQUFLLFNBQUEsV0FDQXRKLEtBQUErSSxTQUFBRSxNQUFBUixFQUFBLFFBQUEsUUFBQSxVQUVBLElBQUFjLEVBQUExSixPQUFBMkosYUFBQXZGLFNBQUF5RSxnQkFBQWUsVUFDQXpKLEtBQUErSSxTQUFBckcsaUJBQUEsUUFBQTdDLE9BQUE2SixTQUFBLEVBQUFILElBQ0F2SixLQUFBK0ksU0FBQUUsTUFBQVUsSUFBQUosRUFBQSxLQUVBdkosS0FBQStJLFNBQUFhLGFBQUEsV0FBQSxJQUNBNUosS0FBQStJLFNBQUEvRixNQUFBaEQsS0FBQW9JLEtBRUFuRSxTQUFBQyxLQUFBMkYsWUFBQTdKLEtBQUErSSxVQUVBL0ksS0FBQXNFLGNBQUEsRUFBQW1DLEVBQUFFLFNBQUEzRyxLQUFBK0ksVUFDQS9JLEtBQUE4SixhQUVBLENBQ0F0QyxJQUFBLGFBQ0F4RSxNQUFBLFdBQ0FoRCxLQUFBOEksY0FDQTdFLFNBQUFDLEtBQUF0QixvQkFBQSxRQUFBNUMsS0FBQTZJLHFCQUNBN0ksS0FBQThJLFlBQUEsS0FDQTlJLEtBQUE2SSxvQkFBQSxNQUdBN0ksS0FBQStJLFdBQ0E5RSxTQUFBQyxLQUFBNkYsWUFBQS9KLEtBQUErSSxVQUNBL0ksS0FBQStJLFNBQUEsUUFHQSxDQUNBdkIsSUFBQSxlQUNBeEUsTUFBQSxXQUNBaEQsS0FBQXNFLGNBQUEsRUFBQW1DLEVBQUFFLFNBQUEzRyxLQUFBcUMsUUFDQXJDLEtBQUE4SixhQUVBLENBQ0F0QyxJQUFBLFdBQ0F4RSxNQUFBLFdBQ0EsSUFBQWdILE9BQUEsRUFFQSxJQUNBQSxFQUFBL0YsU0FBQWdHLFlBQUFqSyxLQUFBa0ksUUFDQSxNQUFBZ0MsR0FDQUYsR0FBQSxFQUdBaEssS0FBQW1LLGFBQUFILEtBRUEsQ0FDQXhDLElBQUEsZUFDQXhFLE1BQUEsU0FBQWdILEdBQ0FoSyxLQUFBbUksUUFBQXhDLEtBQUFxRSxFQUFBLFVBQUEsUUFBQSxDQUNBOUIsT0FBQWxJLEtBQUFrSSxPQUNBRSxLQUFBcEksS0FBQXNFLGFBQ0ErRCxRQUFBckksS0FBQXFJLFFBQ0ErQixlQUFBcEssS0FBQW9LLGVBQUFDLEtBQUFySyxVQUdBLENBQ0F3SCxJQUFBLGlCQUNBeEUsTUFBQSxXQUNBaEQsS0FBQXFDLFFBQ0FyQyxLQUFBcUMsT0FBQWlJLE9BR0F6SyxPQUFBK0UsZUFBQUksb0JBRUEsQ0FDQXdDLElBQUEsVUFDQXhFLE1BQUEsV0FDQWhELEtBQUE0SSxlQUVBLENBQ0FwQixJQUFBLFNBQ0ErQyxJQUFBLFdBQ0EsSUFBQXJDLEVBQUF6RixVQUFBekIsT0FBQSxRQUFBaUMsSUFBQVIsVUFBQSxHQUFBQSxVQUFBLEdBQUEsT0FJQSxHQUZBekMsS0FBQXdLLFFBQUF0QyxFQUVBLFNBQUFsSSxLQUFBd0ssU0FBQSxRQUFBeEssS0FBQXdLLFFBQ0EsTUFBQSxJQUFBNUosTUFBQSx1REFHQTZKLElBQUEsV0FDQSxPQUFBekssS0FBQXdLLFVBRUEsQ0FDQWhELElBQUEsU0FDQStDLElBQUEsU0FBQWxJLEdBQ0EsUUFBQVksSUFBQVosRUFBQSxDQUNBLElBQUFBLEdBQUEsaUJBQUEsSUFBQUEsRUFBQSxZQUFBdUUsRUFBQXZFLEtBQUEsSUFBQUEsRUFBQVIsU0FXQSxNQUFBLElBQUFqQixNQUFBLCtDQVZBLEdBQUEsU0FBQVosS0FBQWtJLFFBQUE3RixFQUFBcUMsYUFBQSxZQUNBLE1BQUEsSUFBQTlELE1BQUEscUZBR0EsR0FBQSxRQUFBWixLQUFBa0ksU0FBQTdGLEVBQUFxQyxhQUFBLGFBQUFyQyxFQUFBcUMsYUFBQSxhQUNBLE1BQUEsSUFBQTlELE1BQUEsMEdBR0FaLEtBQUEwSyxRQUFBckksSUFNQW9JLElBQUEsV0FDQSxPQUFBekssS0FBQTBLLFlBSUE5QyxFQTNLQSxHQThLQWxJLEVBQUFELFFBQUFtSSxNQUdBLENBQUF2QixPQUFBLElBQUFzRSxFQUFBLENBQUEsU0FBQWpLLEVBQUFoQixFQUFBRCxJQUNBLFNBQUFLLEVBQUFxRyxHQUdBLFFBQUEsSUFBQTFHLEVBQ0EwRyxFQUFBekcsRUFBQWdCLEVBQUEsc0JBQUFBLEVBQUEsZ0JBQUFBLEVBQUEsc0JBQ0EsQ0FDQSxJQUFBMEYsRUFBQSxDQUNBM0csUUFBQSxJQUVBMEcsRUFBQUMsRUFBQXRHLEVBQUF3RyxnQkFBQXhHLEVBQUE4SyxZQUFBOUssRUFBQStLLGNBQ0EvSyxFQUFBZ0wsVUFBQTFFLEVBQUEzRyxTQVZBLENBWUFPLE1BQUEsU0FBQU4sRUFBQXFMLEVBQUFDLEVBQUFDLEdBQ0EsYUFFQSxJQUFBQyxFQUFBQyxFQUFBSixHQUVBSyxFQUFBRCxFQUFBSCxHQUVBSyxFQUFBRixFQUFBRixHQUVBLFNBQUFFLEVBQUEzRSxHQUNBLE9BQUFBLEdBQUFBLEVBQUFFLFdBQUFGLEVBQUEsQ0FDQUcsUUFBQUgsR0FVQSxJQUFBUSxFQUFBLFdBQ0EsU0FBQUMsRUFBQTVFLEVBQUE2RSxHQUNBLElBQUEsSUFBQXZHLEVBQUEsRUFBQUEsRUFBQXVHLEVBQUFsRyxPQUFBTCxJQUFBLENBQ0EsSUFBQXdHLEVBQUFELEVBQUF2RyxHQUNBd0csRUFBQUMsV0FBQUQsRUFBQUMsYUFBQSxFQUNBRCxFQUFBRSxjQUFBLEVBQ0EsVUFBQUYsSUFBQUEsRUFBQUcsVUFBQSxHQUNBbEUsT0FBQW1FLGVBQUFsRixFQUFBOEUsRUFBQUssSUFBQUwsSUFJQSxPQUFBLFNBQUFNLEVBQUFDLEVBQUFDLEdBR0EsT0FGQUQsR0FBQVQsRUFBQVEsRUFBQXRHLFVBQUF1RyxHQUNBQyxHQUFBVixFQUFBUSxFQUFBRSxHQUNBRixHQWRBLEdBMENBLElBQUF4SCxFQUFBLFNBQUFxTCxHQU9BLFNBQUFyTCxFQUFBb0ksRUFBQVIsSUF2REEsU0FBQUMsRUFBQUwsR0FDQSxLQUFBSyxhQUFBTCxHQUNBLE1BQUEsSUFBQTdELFVBQUEscUNBc0RBbUUsQ0FBQS9ILEtBQUFDLEdBRUEsSUFBQXVJLEVBbENBLFNBQUF6SSxFQUFBZ0IsR0FDQSxJQUFBaEIsRUFDQSxNQUFBLElBQUF3TCxlQUFBLDZEQUdBLE9BQUF4SyxHQUFBLGlCQUFBQSxHQUFBLG1CQUFBQSxFQUFBaEIsRUFBQWdCLEVBNkJBeUssQ0FBQXhMLE1BQUFDLEVBQUF3TCxXQUFBckksT0FBQXNJLGVBQUF6TCxJQUFBYyxLQUFBZixPQUlBLE9BRkF3SSxFQUFBUixlQUFBSCxHQUNBVyxFQUFBbUQsWUFBQXRELEdBQ0FHLEVBNEVBLE9BMUdBLFNBQUFvRCxFQUFBQyxHQUNBLEdBQUEsbUJBQUFBLEdBQUEsT0FBQUEsRUFDQSxNQUFBLElBQUFqSSxVQUFBLGtFQUFBaUksR0FHQUQsRUFBQXpLLFVBQUFpQyxPQUFBMEksT0FBQUQsR0FBQUEsRUFBQTFLLFVBQUEsQ0FDQTRGLFlBQUEsQ0FDQS9ELE1BQUE0SSxFQUNBeEUsWUFBQSxFQUNBRSxVQUFBLEVBQ0FELGNBQUEsS0FHQXdFLElBQUF6SSxPQUFBMkksZUFBQTNJLE9BQUEySSxlQUFBSCxFQUFBQyxHQUFBRCxFQUFBSCxVQUFBSSxHQUlBRyxDQUFBL0wsRUFBQXFMLEdBdUJBdEUsRUFBQS9HLEVBQUEsQ0FBQSxDQUNBdUgsSUFBQSxpQkFDQXhFLE1BQUEsV0FDQSxJQUFBNkUsRUFBQXBGLFVBQUF6QixPQUFBLFFBQUFpQyxJQUFBUixVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQUVBekMsS0FBQWtJLE9BQUEsbUJBQUFMLEVBQUFLLE9BQUFMLEVBQUFLLE9BQUFsSSxLQUFBaU0sY0FDQWpNLEtBQUFxQyxPQUFBLG1CQUFBd0YsRUFBQXhGLE9BQUF3RixFQUFBeEYsT0FBQXJDLEtBQUFrTSxjQUNBbE0sS0FBQW9JLEtBQUEsbUJBQUFQLEVBQUFPLEtBQUFQLEVBQUFPLEtBQUFwSSxLQUFBbU0sY0FFQSxDQUNBM0UsSUFBQSxjQUNBeEUsTUFBQSxTQUFBcUYsR0FDQSxJQUFBK0QsRUFBQXBNLEtBRUFBLEtBQUFpQyxVQUFBLEVBQUFvSixFQUFBMUUsU0FBQTBCLEVBQUEsU0FBQSxTQUFBbkksR0FDQSxPQUFBa00sRUFBQUMsUUFBQW5NLFFBR0EsQ0FDQXNILElBQUEsVUFDQXhFLE1BQUEsU0FBQTlDLEdBQ0EsSUFBQW1JLEVBQUFuSSxFQUFBa0MsZ0JBQUFsQyxFQUFBb00sY0FFQXRNLEtBQUFzRyxrQkFDQXRHLEtBQUFzRyxnQkFBQSxNQUdBdEcsS0FBQXNHLGdCQUFBLElBQUE0RSxFQUFBdkUsUUFBQSxDQUNBdUIsT0FBQWxJLEtBQUFrSSxPQUFBRyxHQUNBaEcsT0FBQXJDLEtBQUFxQyxPQUFBZ0csR0FDQUQsS0FBQXBJLEtBQUFvSSxLQUFBQyxHQUNBQSxRQUFBQSxFQUNBRixRQUFBbkksU0FHQSxDQUNBd0gsSUFBQSxnQkFDQXhFLE1BQUEsU0FBQXFGLEdBQ0EsT0FBQWtFLEVBQUEsU0FBQWxFLEtBRUEsQ0FDQWIsSUFBQSxnQkFDQXhFLE1BQUEsU0FBQXFGLEdBQ0EsSUFBQXpHLEVBQUEySyxFQUFBLFNBQUFsRSxHQUVBLEdBQUF6RyxFQUNBLE9BQUFxQyxTQUFBdUksY0FBQTVLLEtBR0EsQ0FDQTRGLElBQUEsY0FDQXhFLE1BQUEsU0FBQXFGLEdBQ0EsT0FBQWtFLEVBQUEsT0FBQWxFLEtBRUEsQ0FDQWIsSUFBQSxVQUNBeEUsTUFBQSxXQUNBaEQsS0FBQWlDLFNBQUFVLFVBRUEzQyxLQUFBc0csa0JBQ0F0RyxLQUFBc0csZ0JBQUEzRCxVQUNBM0MsS0FBQXNHLGdCQUFBLFVBS0FyRyxFQTFGQSxDQTJGQW1MLEVBQUF6RSxTQU9BLFNBQUE0RixFQUFBRSxFQUFBOUssR0FDQSxJQUFBK0ssRUFBQSxrQkFBQUQsRUFFQSxHQUFBOUssRUFBQStDLGFBQUFnSSxHQUlBLE9BQUEvSyxFQUFBZ0gsYUFBQStELEdBR0FoTixFQUFBRCxRQUFBUSxNQUdBLENBQUEwTSxxQkFBQSxFQUFBQyxnQkFBQSxFQUFBQyxlQUFBLEtBQUEsR0FBQSxDQUFBLEdBM3VCQSxDQTJ1QkEsTUMzdUJBLFNBQUEzTSxHQUFBLEdBQUEsaUJBQUFULFNBQUEsb0JBQUFDLE9BQUFBLE9BQUFELFFBQUFTLFNBQUEsR0FBQSxtQkFBQVAsUUFBQUEsT0FBQUMsSUFBQUQsT0FBQSxHQUFBTyxPQUFBLEVBQUEsb0JBQUFMLE9BQUFBLE9BQUEsb0JBQUFDLE9BQUFBLE9BQUEsb0JBQUFDLEtBQUFBLEtBQUFDLE1BQUFDLFVBQUFDLEtBQUEsRUFBQSxXQUFBLE9BQUEsU0FBQUEsRUFBQUMsRUFBQUMsRUFBQU8sR0FBQSxTQUFBSixFQUFBRSxFQUFBcU0sR0FBQSxJQUFBMU0sRUFBQUssR0FBQSxDQUFBLElBQUFOLEVBQUFNLEdBQUEsQ0FBQSxJQUFBSyxFQUFBLG1CQUFBSixTQUFBQSxRQUFBLElBQUFvTSxHQUFBaE0sRUFBQSxPQUFBQSxFQUFBTCxHQUFBLEdBQUEsR0FBQUosRUFBQSxPQUFBQSxFQUFBSSxHQUFBLEdBQUEsSUFBQUgsRUFBQSxJQUFBTSxNQUFBLHVCQUFBSCxFQUFBLEtBQUEsTUFBQUgsRUFBQU8sS0FBQSxtQkFBQVAsRUFBQSxJQUFBRSxFQUFBSixFQUFBSyxHQUFBLENBQUFoQixRQUFBLElBQUFVLEVBQUFNLEdBQUEsR0FBQU0sS0FBQVAsRUFBQWYsU0FBQSxTQUFBUyxHQUFBLElBQUFFLEVBQUFELEVBQUFNLEdBQUEsR0FBQVAsR0FBQSxPQUFBSyxFQUFBSCxHQUFBRixLQUFBTSxFQUFBQSxFQUFBZixRQUFBUyxFQUFBQyxFQUFBQyxFQUFBTyxHQUFBLE9BQUFQLEVBQUFLLEdBQUFoQixRQUFBLElBQUEsSUFBQVksRUFBQSxtQkFBQUssU0FBQUEsUUFBQUQsRUFBQSxFQUFBQSxFQUFBRSxFQUFBSyxPQUFBUCxJQUFBRixFQUFBSSxFQUFBRixJQUFBLE9BQUFGLEVBQUEsQ0FBQSxDQUFBVSxFQUFBLENBQUEsU0FBQWYsRUFBQUMsRUFBQUMsR0FBQSxJQUFBRyxFQUFBLEVBQUEsR0FBQVcsVUFBQUEsUUFBQUMsVUFBQUMsUUFBQSxDQUFBLElBQUFmLEVBQUFhLFFBQUFDLFVBQUFkLEVBQUFlLFFBQUFmLEVBQUFpQixpQkFBQWpCLEVBQUFrQixvQkFBQWxCLEVBQUFtQixtQkFBQW5CLEVBQUFvQixrQkFBQXBCLEVBQUFxQixzQkFBQXZCLEVBQUFWLFFBQUEsU0FBQVMsRUFBQUMsR0FBQSxLQUFBRCxHQUFBQSxFQUFBMkIsV0FBQXRCLEdBQUEsQ0FBQSxHQUFBTCxFQUFBa0IsUUFBQWpCLEdBQUEsT0FBQUQsRUFBQUEsRUFBQUEsRUFBQTRCLGNBQUEsSUFBQUMsRUFBQSxDQUFBLFNBQUE3QixFQUFBQyxFQUFBQyxHQUFBLFNBQUFHLEVBQUFMLEVBQUFDLEVBQUFDLEVBQUFPLEdBQUEsT0FBQSxTQUFBUCxHQUFBQSxFQUFBZ0MsZUFBQS9CLEVBQUFELEVBQUFpQyxPQUFBbEMsR0FBQUMsRUFBQWdDLGdCQUFBekIsRUFBQUksS0FBQWIsRUFBQUUsSUFBQSxJQUFBQyxFQUFBSCxFQUFBLGFBQUFDLEVBQUFWLFFBQUEsU0FBQVMsRUFBQUMsRUFBQUMsRUFBQU8sRUFBQU4sR0FBQSxJQUFBSSxFQUFBRixFQUFBaUMsTUFBQXhDLEtBQUF5QyxXQUFBLE9BQUF2QyxFQUFBd0MsaUJBQUF0QyxFQUFBSyxFQUFBSixHQUFBLENBQUFzQyxRQUFBLFdBQUF6QyxFQUFBMEMsb0JBQUF4QyxFQUFBSyxFQUFBSixPQUFBLENBQUF3QyxZQUFBLElBQUFDLEVBQUEsQ0FBQSxTQUFBNUMsRUFBQUMsRUFBQUMsR0FBQUEsRUFBQTJDLEtBQUEsU0FBQTdDLEdBQUEsWUFBQSxJQUFBQSxHQUFBQSxhQUFBZ0QsYUFBQSxJQUFBaEQsRUFBQTJCLFVBQUF6QixFQUFBK0MsU0FBQSxTQUFBakQsR0FBQSxJQUFBQyxFQUFBaUQsT0FBQWpDLFVBQUFrQyxTQUFBdEMsS0FBQWIsR0FBQSxZQUFBLElBQUFBLElBQUEsc0JBQUFDLEdBQUEsNEJBQUFBLElBQUEsV0FBQUQsSUFBQSxJQUFBQSxFQUFBYyxRQUFBWixFQUFBMkMsS0FBQTdDLEVBQUEsTUFBQUUsRUFBQWtELE9BQUEsU0FBQXBELEdBQUEsTUFBQSxpQkFBQUEsR0FBQUEsYUFBQXFELFFBQUFuRCxFQUFBb0QsR0FBQSxTQUFBdEQsR0FBQSxNQUFBLHNCQUFBa0QsT0FBQWpDLFVBQUFrQyxTQUFBdEMsS0FBQWIsS0FBQSxJQUFBdUQsRUFBQSxDQUFBLFNBQUF2RCxFQUFBQyxFQUFBQyxHQUFBLElBQUEwTSxFQUFBNU0sRUFBQSxRQUFBWSxFQUFBWixFQUFBLFlBQUFDLEVBQUFWLFFBQUEsU0FBQVMsRUFBQUMsRUFBQUMsR0FBQSxJQUFBRixJQUFBQyxJQUFBQyxFQUFBLE1BQUEsSUFBQVEsTUFBQSw4QkFBQSxJQUFBa00sRUFBQXhKLE9BQUFuRCxHQUFBLE1BQUEsSUFBQXlELFVBQUEsb0NBQUEsSUFBQWtKLEVBQUF0SixHQUFBcEQsR0FBQSxNQUFBLElBQUF3RCxVQUFBLHFDQUFBLEdBQUFrSixFQUFBL0osS0FBQTdDLEdBQUEsT0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUFBLE9BQUFGLEVBQUF3QyxpQkFBQXZDLEVBQUFDLEdBQUEsQ0FBQXVDLFFBQUEsV0FBQXpDLEVBQUEwQyxvQkFBQXpDLEVBQUFDLEtBQUFHLENBQUFMLEVBQUFDLEVBQUFDLEdBQUEsR0FBQTBNLEVBQUEzSixTQUFBakQsR0FBQSxPQUFBLFNBQUFBLEVBQUFDLEVBQUFDLEdBQUEsT0FBQTBELE1BQUEzQyxVQUFBNEMsUUFBQWhELEtBQUFiLEdBQUEsU0FBQUEsR0FBQUEsRUFBQXdDLGlCQUFBdkMsRUFBQUMsTUFBQSxDQUFBdUMsUUFBQSxXQUFBbUIsTUFBQTNDLFVBQUE0QyxRQUFBaEQsS0FBQWIsR0FBQSxTQUFBQSxHQUFBQSxFQUFBMEMsb0JBQUF6QyxFQUFBQyxRQUFBQyxDQUFBSCxFQUFBQyxFQUFBQyxHQUFBLEdBQUEwTSxFQUFBeEosT0FBQXBELEdBQUEsT0FBQSxTQUFBQSxFQUFBQyxFQUFBQyxHQUFBLE9BQUFVLEVBQUFtRCxTQUFBQyxLQUFBaEUsRUFBQUMsRUFBQUMsR0FBQUssQ0FBQVAsRUFBQUMsRUFBQUMsR0FBQSxNQUFBLElBQUF3RCxVQUFBLCtFQUFBLENBQUFRLE9BQUEsRUFBQVQsU0FBQSxJQUFBVSxFQUFBLENBQUEsU0FBQW5FLEVBQUFDLEVBQUFDLEdBQUFELEVBQUFWLFFBQUEsU0FBQVMsR0FBQSxJQUFBQyxFQUFBLEdBQUEsV0FBQUQsRUFBQXFFLFNBQUFyRSxFQUFBc0UsUUFBQXJFLEVBQUFELEVBQUE4QyxXQUFBLEdBQUEsVUFBQTlDLEVBQUFxRSxVQUFBLGFBQUFyRSxFQUFBcUUsU0FBQXJFLEVBQUFzRSxRQUFBdEUsRUFBQXVFLGtCQUFBLEVBQUF2RSxFQUFBOEMsTUFBQWhDLFFBQUFiLEVBQUFELEVBQUE4QyxVQUFBLENBQUE5QyxFQUFBd0UsYUFBQSxvQkFBQXhFLEVBQUFzRSxRQUFBLElBQUFwRSxFQUFBUCxPQUFBK0UsZUFBQWpFLEVBQUFzRCxTQUFBYSxjQUFBbkUsRUFBQW9FLG1CQUFBN0UsR0FBQUUsRUFBQTRFLGtCQUFBNUUsRUFBQTZFLFNBQUF0RSxHQUFBUixFQUFBQyxFQUFBaUQsV0FBQSxPQUFBbEQsSUFBQSxJQUFBK0UsRUFBQSxDQUFBLFNBQUFoRixFQUFBQyxFQUFBQyxHQUFBLFNBQUFPLEtBQUFBLEVBQUFRLFVBQUEsQ0FBQWlFLEdBQUEsU0FBQWxGLEVBQUFDLEVBQUFDLEdBQUEsSUFBQU8sRUFBQVgsS0FBQUUsSUFBQUYsS0FBQUUsRUFBQSxJQUFBLE9BQUFTLEVBQUFULEtBQUFTLEVBQUFULEdBQUEsS0FBQXFGLEtBQUEsQ0FBQS9CLEdBQUFyRCxFQUFBbUYsSUFBQWxGLElBQUFKLE1BQUF3RixLQUFBLFNBQUF0RixFQUFBQyxFQUFBQyxHQUFBLFNBQUFPLElBQUFKLEVBQUFrRixJQUFBdkYsRUFBQVMsR0FBQVIsRUFBQXFDLE1BQUFwQyxFQUFBcUMsV0FBQSxJQUFBbEMsRUFBQVAsS0FBQSxPQUFBVyxFQUFBK0UsRUFBQXZGLEVBQUFILEtBQUFvRixHQUFBbEYsRUFBQVMsRUFBQVAsSUFBQXVGLEtBQUEsU0FBQXpGLEdBQUEsSUFBQSxJQUFBQyxFQUFBLEdBQUEwRixNQUFBOUUsS0FBQTBCLFVBQUEsR0FBQXJDLElBQUFKLEtBQUFFLElBQUFGLEtBQUFFLEVBQUEsS0FBQUEsSUFBQSxJQUFBMkYsUUFBQWxGLEVBQUEsRUFBQUosRUFBQUgsRUFBQVksT0FBQUwsRUFBQUosRUFBQUksSUFBQVAsRUFBQU8sR0FBQTZDLEdBQUFoQixNQUFBcEMsRUFBQU8sR0FBQTJFLElBQUFuRixHQUFBLE9BQUFILE1BQUF5RixJQUFBLFNBQUF2RixFQUFBQyxHQUFBLElBQUFDLEVBQUFKLEtBQUFFLElBQUFGLEtBQUFFLEVBQUEsSUFBQVMsRUFBQVAsRUFBQUYsR0FBQUssRUFBQSxHQUFBLEdBQUFJLEdBQUFSLEVBQUEsSUFBQSxJQUFBRSxFQUFBLEVBQUFJLEVBQUFFLEVBQUFLLE9BQUFYLEVBQUFJLEVBQUFKLElBQUFNLEVBQUFOLEdBQUFtRCxLQUFBckQsR0FBQVEsRUFBQU4sR0FBQW1ELEdBQUFrQyxJQUFBdkYsR0FBQUksRUFBQWdGLEtBQUE1RSxFQUFBTixJQUFBLE9BQUFFLEVBQUFTLE9BQUFaLEVBQUFGLEdBQUFLLFNBQUFILEVBQUFGLEdBQUFGLE9BQUFHLEVBQUFWLFFBQUFrQixHQUFBLElBQUF1RixFQUFBLENBQUEsU0FBQS9GLEVBQUFDLEVBQUFPLElBQUEsU0FBQUosRUFBQUYsR0FBQSxRQUFBLElBQUFNLEVBQUFOLEVBQUFELEVBQUFELEVBQUEsZUFBQSxDQUFBLElBQUFNLEVBQUEsQ0FBQWhCLFFBQUEsSUFBQVksRUFBQUksRUFBQUYsRUFBQThGLFFBQUE5RixFQUFBK0YsZ0JBQUE3RixFQUFBaEIsU0FBQSxDQUFBTyxNQUFBLFNBQUFFLEVBQUFDLEdBQUEsYUFBQSxJQUFBSSxFQUFBLFNBQUFMLEdBQUEsT0FBQUEsR0FBQUEsRUFBQXdHLFdBQUF4RyxFQUFBLENBQUF5RyxRQUFBekcsR0FBQUUsQ0FBQUQsR0FBQUUsRUFBQSxtQkFBQXdHLFFBQUEsaUJBQUFBLE9BQUFDLFNBQUEsU0FBQTVHLEdBQUEsY0FBQUEsR0FBQSxTQUFBQSxHQUFBLE9BQUFBLEdBQUEsbUJBQUEyRyxRQUFBM0csRUFBQTZHLGNBQUFGLFFBQUEzRyxJQUFBMkcsT0FBQTFGLFVBQUEsZ0JBQUFqQixHQUFBTyxFQUFBLFdBQUEsU0FBQVAsRUFBQUEsRUFBQUMsR0FBQSxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQUQsRUFBQWEsT0FBQVosSUFBQSxDQUFBLElBQUFPLEVBQUFSLEVBQUFDLEdBQUFPLEVBQUF5RyxXQUFBekcsRUFBQXlHLGFBQUEsRUFBQXpHLEVBQUEwRyxjQUFBLEVBQUEsVUFBQTFHLElBQUFBLEVBQUEyRyxVQUFBLEdBQUFsRSxPQUFBbUUsZUFBQXJILEVBQUFTLEVBQUE2RyxJQUFBN0csSUFBQSxPQUFBLFNBQUFSLEVBQUFDLEVBQUFPLEdBQUEsT0FBQVAsR0FBQUYsRUFBQUMsRUFBQWdCLFVBQUFmLEdBQUFPLEdBQUFULEVBQUFDLEVBQUFRLEdBQUFSLEdBQUEsR0FBQTJNLEVBQUEsV0FBQSxTQUFBNU0sRUFBQUMsSUFBQSxTQUFBRCxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBeUQsVUFBQSxzQ0FBQWpELENBQUFYLEtBQUFFLEdBQUFGLEtBQUFnSSxlQUFBN0gsR0FBQUgsS0FBQWlJLGdCQUFBLE9BQUF4SCxFQUFBUCxFQUFBLENBQUEsQ0FBQXNILElBQUEsaUJBQUF4RSxNQUFBLFdBQUEsSUFBQTdDLEVBQUFzQyxVQUFBekIsT0FBQSxRQUFBLElBQUF5QixVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQUFBekMsS0FBQWtJLE9BQUEvSCxFQUFBK0gsT0FBQWxJLEtBQUFtSSxRQUFBaEksRUFBQWdJLFFBQUFuSSxLQUFBcUMsT0FBQWxDLEVBQUFrQyxPQUFBckMsS0FBQW9JLEtBQUFqSSxFQUFBaUksS0FBQXBJLEtBQUFxSSxRQUFBbEksRUFBQWtJLFFBQUFySSxLQUFBc0UsYUFBQSxLQUFBLENBQUFrRCxJQUFBLGdCQUFBeEUsTUFBQSxXQUFBaEQsS0FBQW9JLEtBQUFwSSxLQUFBc0ksYUFBQXRJLEtBQUFxQyxRQUFBckMsS0FBQXVJLGlCQUFBLENBQUFmLElBQUEsYUFBQXhFLE1BQUEsV0FBQSxJQUFBN0MsRUFBQUgsS0FBQUksRUFBQSxPQUFBNkQsU0FBQXlFLGdCQUFBQyxhQUFBLE9BQUEzSSxLQUFBNEksYUFBQTVJLEtBQUE2SSxvQkFBQSxXQUFBLE9BQUExSSxFQUFBeUksY0FBQTVJLEtBQUE4SSxZQUFBN0UsU0FBQUMsS0FBQXhCLGlCQUFBLFFBQUExQyxLQUFBNkksdUJBQUEsRUFBQTdJLEtBQUErSSxTQUFBOUUsU0FBQStFLGNBQUEsWUFBQWhKLEtBQUErSSxTQUFBRSxNQUFBQyxTQUFBLE9BQUFsSixLQUFBK0ksU0FBQUUsTUFBQUUsT0FBQSxJQUFBbkosS0FBQStJLFNBQUFFLE1BQUFHLFFBQUEsSUFBQXBKLEtBQUErSSxTQUFBRSxNQUFBSSxPQUFBLElBQUFySixLQUFBK0ksU0FBQUUsTUFBQUssU0FBQSxXQUFBdEosS0FBQStJLFNBQUFFLE1BQUE3SSxFQUFBLFFBQUEsUUFBQSxVQUFBLElBQUFPLEVBQUFkLE9BQUEySixhQUFBdkYsU0FBQXlFLGdCQUFBZSxVQUFBekosS0FBQStJLFNBQUFyRyxpQkFBQSxRQUFBN0MsT0FBQTZKLFNBQUEsRUFBQS9JLElBQUFYLEtBQUErSSxTQUFBRSxNQUFBVSxJQUFBaEosRUFBQSxLQUFBWCxLQUFBK0ksU0FBQWEsYUFBQSxXQUFBLElBQUE1SixLQUFBK0ksU0FBQS9GLE1BQUFoRCxLQUFBb0ksS0FBQW5FLFNBQUFDLEtBQUEyRixZQUFBN0osS0FBQStJLFVBQUEvSSxLQUFBc0UsY0FBQSxFQUFBL0QsRUFBQW9HLFNBQUEzRyxLQUFBK0ksVUFBQS9JLEtBQUE4SixhQUFBLENBQUF0QyxJQUFBLGFBQUF4RSxNQUFBLFdBQUFoRCxLQUFBOEksY0FBQTdFLFNBQUFDLEtBQUF0QixvQkFBQSxRQUFBNUMsS0FBQTZJLHFCQUFBN0ksS0FBQThJLFlBQUEsS0FBQTlJLEtBQUE2SSxvQkFBQSxNQUFBN0ksS0FBQStJLFdBQUE5RSxTQUFBQyxLQUFBNkYsWUFBQS9KLEtBQUErSSxVQUFBL0ksS0FBQStJLFNBQUEsUUFBQSxDQUFBdkIsSUFBQSxlQUFBeEUsTUFBQSxXQUFBaEQsS0FBQXNFLGNBQUEsRUFBQS9ELEVBQUFvRyxTQUFBM0csS0FBQXFDLFFBQUFyQyxLQUFBOEosYUFBQSxDQUFBdEMsSUFBQSxXQUFBeEUsTUFBQSxXQUFBLElBQUE3QyxPQUFBLEVBQUEsSUFBQUEsRUFBQThELFNBQUFnRyxZQUFBakssS0FBQWtJLFFBQUEsTUFBQWhJLEdBQUFDLEdBQUEsRUFBQUgsS0FBQW1LLGFBQUFoSyxLQUFBLENBQUFxSCxJQUFBLGVBQUF4RSxNQUFBLFNBQUE3QyxHQUFBSCxLQUFBbUksUUFBQXhDLEtBQUF4RixFQUFBLFVBQUEsUUFBQSxDQUFBK0gsT0FBQWxJLEtBQUFrSSxPQUFBRSxLQUFBcEksS0FBQXNFLGFBQUErRCxRQUFBckksS0FBQXFJLFFBQUErQixlQUFBcEssS0FBQW9LLGVBQUFDLEtBQUFySyxVQUFBLENBQUF3SCxJQUFBLGlCQUFBeEUsTUFBQSxXQUFBaEQsS0FBQXFDLFFBQUFyQyxLQUFBcUMsT0FBQWlJLE9BQUF6SyxPQUFBK0UsZUFBQUksb0JBQUEsQ0FBQXdDLElBQUEsVUFBQXhFLE1BQUEsV0FBQWhELEtBQUE0SSxlQUFBLENBQUFwQixJQUFBLFNBQUErQyxJQUFBLFdBQUEsSUFBQXBLLEVBQUFzQyxVQUFBekIsT0FBQSxRQUFBLElBQUF5QixVQUFBLEdBQUFBLFVBQUEsR0FBQSxPQUFBLEdBQUF6QyxLQUFBd0ssUUFBQXJLLEVBQUEsU0FBQUgsS0FBQXdLLFNBQUEsUUFBQXhLLEtBQUF3SyxRQUFBLE1BQUEsSUFBQTVKLE1BQUEsdURBQUE2SixJQUFBLFdBQUEsT0FBQXpLLEtBQUF3SyxVQUFBLENBQUFoRCxJQUFBLFNBQUErQyxJQUFBLFNBQUFwSyxHQUFBLFFBQUEsSUFBQUEsRUFBQSxDQUFBLElBQUFBLEdBQUEsaUJBQUEsSUFBQUEsRUFBQSxZQUFBRSxFQUFBRixLQUFBLElBQUFBLEVBQUEwQixTQUFBLE1BQUEsSUFBQWpCLE1BQUEsK0NBQUEsR0FBQSxTQUFBWixLQUFBa0ksUUFBQS9ILEVBQUF1RSxhQUFBLFlBQUEsTUFBQSxJQUFBOUQsTUFBQSxxRkFBQSxHQUFBLFFBQUFaLEtBQUFrSSxTQUFBL0gsRUFBQXVFLGFBQUEsYUFBQXZFLEVBQUF1RSxhQUFBLGFBQUEsTUFBQSxJQUFBOUQsTUFBQSwwR0FBQVosS0FBQTBLLFFBQUF2SyxJQUFBc0ssSUFBQSxXQUFBLE9BQUF6SyxLQUFBMEssWUFBQXhLLEVBQUEsR0FBQUEsRUFBQVQsUUFBQXFOLE1BQUEsQ0FBQXpHLE9BQUEsSUFBQXNFLEVBQUEsQ0FBQSxTQUFBeEssRUFBQUMsRUFBQU8sSUFBQSxTQUFBSixFQUFBRixHQUFBLFFBQUEsSUFBQU0sRUFBQU4sRUFBQUQsRUFBQUQsRUFBQSxzQkFBQUEsRUFBQSxnQkFBQUEsRUFBQSxzQkFBQSxDQUFBLElBQUFNLEVBQUEsQ0FBQWhCLFFBQUEsSUFBQVksRUFBQUksRUFBQUYsRUFBQStGLGdCQUFBL0YsRUFBQXFLLFlBQUFySyxFQUFBc0ssY0FBQXRLLEVBQUF1SyxVQUFBckssRUFBQWhCLFNBQUEsQ0FBQU8sTUFBQSxTQUFBRSxFQUFBQyxFQUFBQyxFQUFBTyxHQUFBLGFBQUEsU0FBQUosRUFBQUwsR0FBQSxPQUFBQSxHQUFBQSxFQUFBd0csV0FBQXhHLEVBQUEsQ0FBQXlHLFFBQUF6RyxHQUFBLFNBQUFZLEVBQUFaLEVBQUFDLEdBQUEsSUFBQUMsRUFBQSxrQkFBQUYsRUFBQSxHQUFBQyxFQUFBdUUsYUFBQXRFLEdBQUEsT0FBQUQsRUFBQXdJLGFBQUF2SSxHQUFBLElBQUFFLEVBQUFDLEVBQUFKLEdBQUFLLEVBQUFELEVBQUFILEdBQUFaLEVBQUFlLEVBQUFJLEdBQUFvTSxFQUFBLFdBQUEsU0FBQTdNLEVBQUFBLEVBQUFDLEdBQUEsSUFBQSxJQUFBQyxFQUFBLEVBQUFBLEVBQUFELEVBQUFhLE9BQUFaLElBQUEsQ0FBQSxJQUFBTyxFQUFBUixFQUFBQyxHQUFBTyxFQUFBeUcsV0FBQXpHLEVBQUF5RyxhQUFBLEVBQUF6RyxFQUFBMEcsY0FBQSxFQUFBLFVBQUExRyxJQUFBQSxFQUFBMkcsVUFBQSxHQUFBbEUsT0FBQW1FLGVBQUFySCxFQUFBUyxFQUFBNkcsSUFBQTdHLElBQUEsT0FBQSxTQUFBUixFQUFBQyxFQUFBTyxHQUFBLE9BQUFQLEdBQUFGLEVBQUFDLEVBQUFnQixVQUFBZixHQUFBTyxHQUFBVCxFQUFBQyxFQUFBUSxHQUFBUixHQUFBLEdBQUE2TSxFQUFBLFNBQUE5TSxHQUFBLFNBQUFDLEVBQUFELEVBQUFFLElBQUEsU0FBQUYsRUFBQUMsR0FBQSxLQUFBRCxhQUFBQyxHQUFBLE1BQUEsSUFBQXlELFVBQUEscUNBQUF2RCxDQUFBTCxLQUFBRyxHQUFBLElBQUFRLEVBQUEsU0FBQVQsRUFBQUMsR0FBQSxJQUFBRCxFQUFBLE1BQUEsSUFBQXFMLGVBQUEsNkRBQUEsT0FBQXBMLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFELEVBQUFDLEVBQUFNLENBQUFULE1BQUFHLEVBQUFzTCxXQUFBckksT0FBQXNJLGVBQUF2TCxJQUFBWSxLQUFBZixPQUFBLE9BQUFXLEVBQUFxSCxlQUFBNUgsR0FBQU8sRUFBQWdMLFlBQUF6TCxHQUFBUyxFQUFBLE9BQUEsU0FBQVQsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBeUQsVUFBQSxrRUFBQXpELEdBQUFELEVBQUFpQixVQUFBaUMsT0FBQTBJLE9BQUEzTCxHQUFBQSxFQUFBZ0IsVUFBQSxDQUFBNEYsWUFBQSxDQUFBL0QsTUFBQTlDLEVBQUFrSCxZQUFBLEVBQUFFLFVBQUEsRUFBQUQsY0FBQSxLQUFBbEgsSUFBQWlELE9BQUEySSxlQUFBM0ksT0FBQTJJLGVBQUE3TCxFQUFBQyxHQUFBRCxFQUFBdUwsVUFBQXRMLEdBQUEyTSxDQUFBM00sRUFBQUQsR0FBQTZNLEVBQUE1TSxFQUFBLENBQUEsQ0FBQXFILElBQUEsaUJBQUF4RSxNQUFBLFdBQUEsSUFBQTdDLEVBQUFzQyxVQUFBekIsT0FBQSxRQUFBLElBQUF5QixVQUFBLEdBQUFBLFVBQUEsR0FBQSxHQUFBekMsS0FBQWtJLE9BQUEsbUJBQUEvSCxFQUFBK0gsT0FBQS9ILEVBQUErSCxPQUFBbEksS0FBQWlNLGNBQUFqTSxLQUFBcUMsT0FBQSxtQkFBQWxDLEVBQUFrQyxPQUFBbEMsRUFBQWtDLE9BQUFyQyxLQUFBa00sY0FBQWxNLEtBQUFvSSxLQUFBLG1CQUFBakksRUFBQWlJLEtBQUFqSSxFQUFBaUksS0FBQXBJLEtBQUFtTSxjQUFBLENBQUEzRSxJQUFBLGNBQUF4RSxNQUFBLFNBQUE3QyxHQUFBLElBQUFDLEVBQUFKLEtBQUFBLEtBQUFpQyxVQUFBLEVBQUF6QyxFQUFBbUgsU0FBQXhHLEVBQUEsU0FBQSxTQUFBRCxHQUFBLE9BQUFFLEVBQUFpTSxRQUFBbk0sUUFBQSxDQUFBc0gsSUFBQSxVQUFBeEUsTUFBQSxTQUFBN0MsR0FBQSxJQUFBQyxFQUFBRCxFQUFBaUMsZ0JBQUFqQyxFQUFBbU0sY0FBQXRNLEtBQUFzRyxrQkFBQXRHLEtBQUFzRyxnQkFBQSxNQUFBdEcsS0FBQXNHLGdCQUFBLElBQUFoRyxFQUFBcUcsUUFBQSxDQUFBdUIsT0FBQWxJLEtBQUFrSSxPQUFBOUgsR0FBQWlDLE9BQUFyQyxLQUFBcUMsT0FBQWpDLEdBQUFnSSxLQUFBcEksS0FBQW9JLEtBQUFoSSxHQUFBaUksUUFBQWpJLEVBQUErSCxRQUFBbkksU0FBQSxDQUFBd0gsSUFBQSxnQkFBQXhFLE1BQUEsU0FBQTdDLEdBQUEsT0FBQVcsRUFBQSxTQUFBWCxLQUFBLENBQUFxSCxJQUFBLGdCQUFBeEUsTUFBQSxTQUFBN0MsR0FBQSxJQUFBQyxFQUFBVSxFQUFBLFNBQUFYLEdBQUEsR0FBQUMsRUFBQSxPQUFBNkQsU0FBQXVJLGNBQUFwTSxLQUFBLENBQUFvSCxJQUFBLGNBQUF4RSxNQUFBLFNBQUE3QyxHQUFBLE9BQUFXLEVBQUEsT0FBQVgsS0FBQSxDQUFBcUgsSUFBQSxVQUFBeEUsTUFBQSxXQUFBaEQsS0FBQWlDLFNBQUFVLFVBQUEzQyxLQUFBc0csa0JBQUF0RyxLQUFBc0csZ0JBQUEzRCxVQUFBM0MsS0FBQXNHLGdCQUFBLFVBQUFuRyxFQUFBLENBQUFLLEVBQUFtRyxTQUFBekcsRUFBQVQsUUFBQXVOLE1BQUEsQ0FBQUwscUJBQUEsRUFBQUMsZ0JBQUEsRUFBQUMsZUFBQSxLQUFBLEdBQUEsQ0FBQSxHQUFBLENBQUEsTUN1RUEsSUFBQUksTUFBQSxXQXlCQSxJQU1BQyxFQU5BQyxFQUFBbEosU0FBQXVJLGNBQUEsV0FDQVksRUFBQW5KLFNBQUF1SSxjQUFBLFlBQ0FhLEVBQUEsYUFLQUgsR0FBQSxFQUVBQyxFQUFBRyxRQUFBLFlBQ0FKLEdBQUFBLEdBRUFFLEVBQUExSyxpQkFBQSxRQUFBMkssR0FBQSxHQUFBRCxFQUFBeEssb0JBQUEsUUFBQXlLLEdBQUEsSUFhQSxJQUtBRSxFQUFBLEdBR0EsSUFBQUMsRUFBQSxXQU1BLE1BQUFDLEVBQUEsQ0FDQUMsWUFBQSxnQkFDQUMsV0FBQSxvQkFDQUMsWUFBQSxpQkFDQUMsVUFBQSxjQUNBQyxlQUFBLG9CQUNBQyxlQUFBLG9CQUNBQyxVQUFBLGNBQ0FDLGFBQUEsa0JBRUFDLHFCQUFBLDJCQUNBQyxvQkFBQSwwQkFDQUMscUJBQUEsMkJBQ0FDLG9CQUFBLDBCQUNBQyxxQkFBQSwyQkFDQUMsb0JBQUEsMkJBR0FDLEVBQUEsQ0FDQUMsb0JBQUEsMEJBQ0FDLGlCQUFBLHVCQUNBQyxlQUFBLG9CQUNBQyxvQkFBQSwwQkFDQUMsb0JBQUEsMEJBQ0FDLGVBQUEscUJBR0FDLEVBQUEsQ0FDQUMseUJBQUEsZ0NBQ0FDLDBCQUFBLGlDQUNBQyxzQkFBQSw2QkFDQUMsdUJBQUEsOEJBQ0FDLGVBQUEsb0JBQ0FDLHlCQUFBLGdDQUNBQywwQkFBQSxpQ0FDQUMseUJBQUEsZ0NBQ0FDLDBCQUFBLGlDQUNBQyxvQkFBQSwwQkFDQUMscUJBQUEsNEJBS0FDLEVBQUEsQ0FDQUMsY0FBQSxtQkFDQUMsYUFBQSxrQkFDQUMsYUFBQSxrQkFDQUMsYUFBQSxrQkFDQUMsZUFBQSxvQkFDQUMsZ0JBQUEscUJBQ0FDLGFBQUEsa0JBQ0FDLGFBQUEsa0JBQ0FDLGFBQUEsa0JBQ0FDLG1CQUFBLHlCQUNBQyxtQkFBQSwwQkFLQUMsRUFBQSxDQUNBQyxPQUFBLFdBQ0FDLFVBQUEscUJBQ0FDLFlBQUEsa0JBQ0FDLGFBQUEsa0JBSUFDLEVBQUEsQ0FDQUMsU0FBQSxhQUNBQyxhQUFBLHFCQUNBQyxhQUFBLE9BQ0FDLGFBQUEsaUJBQ0FDLFdBQUEsZUFDQUMsY0FBQSx1QkFLQUMsRUFBQSxDQUdBQyxlQUFBLHFCQUNBQyxhQUFBLG1CQUNBQyxvQ0FBQSw2Q0FDQUMsZUFBQSxxQkFDQUMsaUJBQUEsdUJBQ0FDLCtCQUFBLHVDQUVBQyxjQUFBLG9CQUNBQyxjQUFBLG9CQUNBQyxlQUFBLHFCQUNBQyxlQUFBLHFCQUNBQyxjQUFBLG9CQUNBQyxnQkFBQSxzQkFDQUMsa0JBQUEsd0JBQ0FDLG9CQUFBLDBCQUNBQyxxQkFBQSwyQkFDQUMsY0FBQSxvQkFDQUMsbUJBQUEseUJBQ0FDLGdCQUFBLHNCQUNBQyxrQkFBQSx3QkFDQUMsZ0JBQUEsc0JBQ0FDLGtCQUFBLHdCQUVBQyxpQkFBQSx1QkFDQUMsaUJBQUEsdUJBQ0FDLGlCQUFBLHVCQUdBQyxtQkFBQSx5QkFDQUMsa0NBQUEsMENBQ0FDLHdCQUFBLCtCQUNBQyx3QkFBQSwrQkFDQUMsd0JBQUEsK0JBQ0FDLDBCQUFBLGtDQUlBQyxFQUFBLENBQ0FDLG9CQUFBLDJCQUNBQyxvQkFBQSwyQkFDQUMsc0JBQUEsNkJBQ0FDLGtCQUFBLHlCQUNBQyxpQ0FBQSx1Q0FJQUMsRUFBQSxDQUdBQyxpQkFBQSx3QkFFQUMsZ0JBQUEsdUJBQ0FDLG1CQUFBLDBCQUdBQywwQkFBQSxtQ0FDQUMsMEJBQUEsbUNBQ0FDLDBCQUFBLG1DQUVBQyx5QkFBQSxrQ0FDQUMseUJBQUEsa0NBQ0FDLHlCQUFBLGtDQUVBQyw0QkFBQSxxQ0FDQUMsNEJBQUEscUNBQ0FDLDRCQUFBLHNDQUtBQyxFQUFBLENBQ0FDLFdBQUEsZUFDQUMsV0FBQSxlQUNBQyxXQUFBLGdCQXNGQSxNQUFBLENBSUFDLG1CQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUFGLEVBekNBLFNBQUFDLEVBQUFDLEdBU0EzUSxTQUFBdUksY0FBQW1JLEdBQUFFLFVBQUFDLElBQUEsVUFDQUgsRUFBQUksU0FBQSxRQUdBOVEsU0FBQXVJLGNBQUFvRSxFQUFBSyxZQUFBNEQsVUFBQUMsSUFBQSxVQTRCQUUsQ0FBQUwsR0FyQkEsU0FBQUEsRUFBQUMsR0FNQTNRLFNBQUF1SSxjQUFBb0UsRUFBQUssWUFBQTRELFVBQUFJLE9BQUEsVUFFQWhSLFNBQUF1SSxjQUFBbUksR0FBQUUsVUFBQUksT0FBQSxVQWFBQyxDQUFBUCxJQUtBUSx1QkFBQSxXQUNBLE9BQUExSCxHQUVBMkgsc0JBQUEsV0FDQSxPQUFBckcsR0FFQXNHLHNCQUFBLFdBQ0EsT0FBQTdHLEdBR0E4RyxpQkFBQSxXQUNBLE9BQUEzRixHQUVBNEYsb0JBQUEsV0FDQSxPQUFBaEYsR0FFQWlGLG1CQUFBLFdBQ0EsT0FBQTVFLEdBRUE2RSxtQkFBQSxXQUNBLE9BQUF0RSxHQUVBdUUsd0JBQUEsV0FDQSxPQUFBeEMsR0FFQXlDLG1CQUFBLFdBQ0EsT0FBQW5DLEdBRUFvQyxzQkFBQSxXQUNBLE9BQUF2QixHQUlBd0Isa0JBQUEsYUFTQUMsaUJBQUEsV0FNQSxJQUNBQyxFQUFBLENBQUFDLFdBREFBLEVBQ0FDLGFBREFBLEVBQ0FDLGFBREFBLEVBQ0FDLFVBREFBLEVBQ0FDLFVBREFBLEVBQ0FDLFdBREFBLEVBQ0FDLFdBREFBLEVBQ0FDLGNBREFBLEVBQ0FDLGNBREFBLEdBSUFULEVBQUFDLE1BQUEvUixTQUFBdUksY0FBQWlCLEVBQUFDLGFBQUErSSxZQUVBLElBQUFqRyxFQUFBdk0sU0FBQXVJLGNBQUErRCxFQUFBQyxRQUNBQyxFQUFBeE0sU0FBQXVJLGNBQUErRCxFQUFBRSxXQUVBaUcsRUFBQTdXLE9BQUE4VyxpQkFBQWxHLEdBa0JBLE9BakJBc0YsRUFBQUUsUUFBQVcsU0FBQUYsRUFBQUcsaUJBQUEsU0FBQSxJQUNBZCxFQUFBRyxRQUFBVSxTQUFBRixFQUFBRyxpQkFBQSxVQUFBLElBRUFkLEVBQUFJLEtBQUEzRixFQUFBc0csTUFDQWYsRUFBQUssS0FBQTVGLEVBQUF1RyxPQUNBaEIsRUFBQU0sTUFBQTdGLEVBQUF3RyxhQUNBakIsRUFBQU8sTUFBQTlGLEVBQUF5RyxjQU1BbEIsRUFBQVEsU0FBQUssU0FBQTNTLFNBQUF1SSxjQUFBbUQsRUFBQVUsb0JBQUExSCxhQUFBLGlCQUFBLElBQ0FvTixFQUFBUyxTQUFBSSxTQUFBM1MsU0FBQXVJLGNBQUFtRCxFQUFBVyxvQkFBQTNILGFBQUEsaUJBQUEsSUFDQW9OLEVBQUExRixtQkFBQTBGLEVBQUExRixtQkFBQTlDLEVBQUE4QyxtQkFBQXVHLFNBQUEzUyxTQUFBdUksY0FBQW1ELEVBQUFVLG9CQUFBNkcsWUFBQSxJQUNBbkIsRUFBQXpGLG1CQUFBeUYsRUFBQXpGLG1CQUFBL0MsRUFBQStDLG1CQUFBc0csU0FBQTNTLFNBQUF1SSxjQUFBbUQsRUFBQVcsb0JBQUE0RyxZQUFBLElBRUFuQixHQUlBb0IsT0FBQSxTQUFBQyxHQUtBLFlBQUFBLEdBRUFDLFlBQUEsV0FFQXBULFNBQUF1SSxjQUFBb0UsRUFBQUUsY0FBQTdILE1BQUFxTyxRQUFBLFFBQ0FyVCxTQUFBdUksY0FBQStELEVBQUFDLFFBQUF2SCxNQUFBcU8sUUFBQSxRQUVBLElBQUF0QixFQUFBL1IsU0FBQXVJLGNBQUErRCxFQUFBQyxRQUFBK0csSUFFQXZCLEdBREFBLEVBQUFBLEVBQUF3QixNQUFBLE1BQ0F4QixFQUFBaFYsT0FBQSxHQUVBaUQsU0FBQXVJLGNBQUFpQixFQUFBQyxhQUFBK0ksWUFBQVQsRUFFQXlCLEVBQUFDLHFCQUdBelQsU0FBQXVJLGNBQUFvRSxFQUFBRyxjQUFBOEQsVUFBQUMsSUFBQSxVQUVBMkMsRUFBQUUsZ0JBckJBLElBMEJBLElBQUFDLEVBQUEsR0FBQUMsRUFBQSxHQU1BRCxFQUFBLENBQUEsVUFBQSxXQUFBLFlBRUEsSUFBQSxJQUFBalgsRUFBQSxFQUFBQSxFQUFBaVgsRUFBQTVXLE9BQUFMLElBQ0FtWCxhQUFBQyxRQUFBSCxFQUFBalgsSUFBQWtYLEVBQUF0UyxLQUFBdVMsYUFBQUMsUUFBQUgsRUFBQWpYLEtBQUFrWCxFQUFBdFMsTUFBQSxHQUlBc1MsRUFBQSxHQUFBNVQsU0FBQXVJLGNBQUFtRCxFQUFBQyxlQUFBNU0sTUFBQTZVLEVBQUEsR0FBQTVULFNBQUF1SSxjQUFBbUQsRUFBQUMsZUFBQTVNLE1BQUFpQixTQUFBdUksY0FBQW1ELEVBQUFDLGVBQUFzSCxZQUVBVyxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBNVQsU0FBQXVJLGNBQUFtRCxFQUFBVSxvQkFBQTZHLFlBQ0FqVCxTQUFBdUksY0FBQW1ELEVBQUFVLG9CQUFBck4sTUFBQTZVLEVBQUEsR0FDQTVULFNBQUF1SSxjQUFBbUQsRUFBQVUsb0JBQUF6RyxhQUFBLGdCQUFBaU8sRUFBQSxJQUVBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBNVQsU0FBQXVJLGNBQUFtRCxFQUFBVyxvQkFBQTRHLFlBQ0FqVCxTQUFBdUksY0FBQW1ELEVBQUFXLG9CQUFBdE4sTUFBQTZVLEVBQUEsR0FDQTVULFNBQUF1SSxjQUFBbUQsRUFBQVcsb0JBQUExRyxhQUFBLGdCQUFBaU8sRUFBQSxJQUdBNVQsU0FBQXVJLGNBQUFvRSxFQUFBQyxVQUFBNUgsTUFBQXFPLFFBQUEsT0FDQXJULFNBQUF1SSxjQUFBb0UsRUFBQUUsY0FBQTdILE1BQUFxTyxRQUFBLE9BQ0FyVCxTQUFBdUksY0FBQWlCLEVBQUFRLGNBQUFoRixNQUFBcU8sUUFBQSxRQU1BVSxnQkFBQSxXQUVBLElBQUF6SyxFQUVBQSxFQUFBa0ssRUFBQVEsaUJBRUFoVSxTQUFBdUksY0FBQW9FLEVBQUFDLFVBQUE1SCxNQUFBcU8sUUFBQSxPQUVBclQsU0FBQXVJLGNBQUFpQixFQUFBQyxhQUFBd0ssVUFBQSwwQkFBQTNLLEVBQUF5SSxlQUVBLElBQUEsSUFBQXJWLEVBQUEsRUFBQUEsRUFBQXNELFNBQUFrVSx1QkFBQSxZQUFBblgsT0FBQUwsSUFDQXNELFNBQUFrVSx1QkFBQSxZQUFBeFgsR0FBQXNJLE1BQUFxTyxRQUFBLE9BR0EsSUFBQSxJQUFBM1csRUFBQSxFQUFBQSxFQUFBc0QsU0FBQWtVLHVCQUFBLG1CQUFBblgsT0FBQUwsSUFDQXNELFNBQUFrVSx1QkFBQSxtQkFBQXhYLEdBQUFzSSxNQUFBcU8sUUFBQSxTQUdBclQsU0FBQXVJLGNBQUF1QyxFQUFBQywwQkFBQWtKLFVBQUEzSyxFQUFBNEksS0FDQWxTLFNBQUF1SSxjQUFBdUMsRUFBQUUsMkJBQUFpSixVQUFBM0ssRUFBQTZJLEtBQ0FuUyxTQUFBdUksY0FBQXVDLEVBQUFHLHVCQUFBZ0osVUFBQTNLLEVBQUE4SSxNQUNBcFMsU0FBQXVJLGNBQUF1QyxFQUFBSSx3QkFBQStJLFVBQUEzSyxFQUFBK0ksTUFDQXJTLFNBQUF1SSxjQUFBdUMsRUFBQU0sMEJBQUE2SSxVQUFBM0ssRUFBQWdKLFNBQ0F0UyxTQUFBdUksY0FBQXVDLEVBQUFPLDJCQUFBNEksVUFBQTNLLEVBQUE2SyxTQUNBblUsU0FBQXVJLGNBQUF1QyxFQUFBUSwwQkFBQTJJLFVBQUEzSyxFQUFBaUosU0FDQXZTLFNBQUF1SSxjQUFBdUMsRUFBQVMsMkJBQUEwSSxVQUFBM0ssRUFBQThLLFNBQ0FwVSxTQUFBdUksY0FBQXVDLEVBQUFLLGdCQUFBOEksVUFBQTNLLEVBQUErSyxPQUFBLEdBQ0FyVSxTQUFBdUksY0FBQXVDLEVBQUFVLHFCQUFBeUksVUFBQSxFQUFBM0ssRUFBQTRJLEtBQ0FsUyxTQUFBdUksY0FBQXVDLEVBQUFXLHNCQUFBd0ksVUFBQSxFQUFBM0ssRUFBQTZJLEtBRUFuUyxTQUFBdUksY0FBQWlCLEVBQUFRLGNBQUFoRixNQUFBcU8sUUFBQSxRQXBQQSxTQUFBL0osR0FFQSxJQUFBZ0wsRUFBQSxHQUVBQyxFQUFBLEdBRUFELEVBQUEvSyxFQUFBNkgsd0JBS0E5SCxFQUFBOEksTUFBQSxFQUFBOUksRUFBQTRJLE1BQ0FxQyxFQUFBalQsS0FBQWdULEVBQUE3SixrQkFHQW5CLEVBQUE4SSxNQUFBLEVBQUE5SSxFQUFBZ0osVUFDQWlDLEVBQUFqVCxLQUFBZ1QsRUFBQTNKLHFCQUdBckIsRUFBQThJLE1BQUEsRUFBQTlJLEVBQUFpSixVQUNBZ0MsRUFBQWpULEtBQUFnVCxFQUFBMUoscUJBS0FyQixFQUFBaUwscUJBQUFELEdBOE5BRSxDQUFBbkwsSUFPQWtMLHFCQUFBLFNBQUFELEdBSUEsSUFBQSxJQUFBN1gsRUFBQSxFQUFBQSxFQUFBc0QsU0FBQWtVLHVCQUFBLG1CQUFBblgsT0FBQUwsSUFDQXNELFNBQUFrVSx1QkFBQSxtQkFBQXhYLEdBQUFzSSxNQUFBMFAsTUFBQSxXQUdBLElBQUE3VSxNQUFBOFUsUUFBQUosS0FDQUEsRUFBQXBWLE9BQUF5VixPQUFBTCxJQUdBLElBQUEsSUFBQTdYLEVBQUEsRUFBQUEsRUFBQTZYLEVBQUF4WCxPQUFBTCxJQUNBc0QsU0FBQXVJLGNBQUFnTSxFQUFBN1gsSUFBQXNJLE1BQUEwUCxNQVhBLE9BZ0JBRyxpQkFBQSxTQUFBQyxHQUdBLElBQUFDLEVBQUFDLEVBQ0ExTCxFQURBMkwsRUFBQSxHQUFBQyxFQUFBLEdBUUEsU0FBQUMsRUFBQUgsR0FFQSxPQURBQSxFQUFBLElBQUFBLEVBQUFJLFVBQUEsR0FJQSxTQUFBQyxFQUFBSCxHQUNBLElBQUEsSUFBQXhZLEVBQUEsRUFBQUEsRUFBQXdZLEVBQUFuWSxPQUFBTCxJQUNBc1ksRUFBQUcsRUFBQUQsRUFBQXhZLElBQ0FzRCxTQUFBdUksY0FBQXlNLEdBQUFwRSxVQUFBQyxJQUFBLFVBZEF2SCxFQUFBa0ssRUFBQVEsaUJBRUFlLEVBQUEsSUFBQUQsRUFBQTFXLE9BQUFrWCxHQUVBTCxFQUFBLENBQUEvSCxFQUFBTyxjQUFBUCxFQUFBUSxjQUFBUixFQUFBUyxlQUFBVCxFQUFBVSxlQUFBVixFQUFBVyxjQUFBWCxFQUFBWSxnQkFBQVosRUFBQWEsa0JBQUFiLEVBQUFjLG9CQUFBZCxFQUFBZSxzQkFjQSxJQUFBLElBQUF2UixFQUFBLEVBQUFBLEVBQUF1WSxFQUFBbFksT0FBQUwsSUFFQXNZLEVBQUFHLEVBQUFGLEVBQUF2WSxJQUNBc0QsU0FBQXVJLGNBQUF5TSxHQUFBcEUsVUFBQUksT0FBQSxVQU9BLE9BSkFoUixTQUFBdUksY0FBQTJFLEVBQUFVLGdCQUFBN08sTUFBQSxHQUNBaUIsU0FBQXVJLGNBQUEyRSxFQUFBVyxlQUFBOU8sTUFBQSxHQUNBaUIsU0FBQXVJLGNBQUEyRSxFQUFBWSxpQkFBQS9PLE1BQUEsSUFFQSxHQUVBLEtBQUFnVyxJQUFBN0gsRUFBQWdCLGVBQUE2RyxJQUFBN0gsRUFBQWlCLG1CQUNBK0csRUFBQSxDQUFBaEksRUFBQU8sY0FBQVAsRUFBQVEsY0FBQVIsRUFBQVMsZUFBQVQsRUFBQVUsZUFBQVYsRUFBQVcsY0FBQVgsRUFBQVksaUJBRUF1SCxFQUFBSCxHQUNBLE1BRUEsS0FBQUgsSUFBQTdILEVBQUFtQixrQkFFQTZHLEVBQUEsQ0FBQWhJLEVBQUFPLGNBQUFQLEVBQUFRLGNBQUFSLEVBQUFTLGVBQUFULEVBQUFZLGlCQUNBdUgsRUFBQUgsR0FDQSxNQUVBLEtBQUFILElBQUE3SCxFQUFBa0IsZ0JBQ0E4RyxFQUFBLENBQUFoSSxFQUFBTyxjQUFBUCxFQUFBUSxjQUFBUixFQUFBUyxnQkFDQTBILEVBQUFILEdBQ0EsTUFFQSxLQUFBSCxJQUFBN0gsRUFBQW9CLGdCQUVBNEcsRUFBQSxDQUFBaEksRUFBQU8sY0FBQVAsRUFBQVUsZUFBQVYsRUFBQVcsY0FBQVgsRUFBQVksaUJBQ0F1SCxFQUFBSCxHQUVBbFYsU0FBQXVJLGNBQUEyRSxFQUFBVSxnQkFBQTdPLE1BQUF1SyxFQUFBNkksS0FDQW5TLFNBQUF1SSxjQUFBMkUsRUFBQVcsZUFBQTlPLE1BQUF1SyxFQUFBNEksS0FFQWxTLFNBQUF1SSxjQUFBMkUsRUFBQVksaUJBQUEvTyxNQUFBLFVBQ0EsTUFFQSxLQUFBZ1csSUFBQTdILEVBQUFxQixrQkFDQTJHLEVBQUEsQ0FBQWhJLEVBQUFPLGNBQUFQLEVBQUFVLGVBQUFWLEVBQUFXLGNBQUFYLEVBQUFZLGdCQUFBWixFQUFBYSxrQkFBQWIsRUFBQWMsb0JBQUFkLEVBQUFlLHNCQUNBb0gsRUFBQUgsR0FFQWxWLFNBQUF1SSxjQUFBMkUsRUFBQVUsZ0JBQUE3TyxNQUFBLEtBQ0FpQixTQUFBdUksY0FBQTJFLEVBQUFXLGVBQUE5TyxNQUFBLE1BRUFpQixTQUFBdUksY0FBQTJFLEVBQUFZLGlCQUFBL08sTUFBQSxVQUNBaUIsU0FBQXVJLGNBQUEyRSxFQUFBYSxtQkFBQWhQLE1BQUEsVUFDQWlCLFNBQUF1SSxjQUFBMkUsRUFBQWMscUJBQUFqUCxNQUFBLFVBQ0FpQixTQUFBdUksY0FBQTJFLEVBQUFlLHNCQUFBbFAsTUFBQSxPQS9nQkEsR0E4aEJBd1csRUFBQSxXQUlBLElBQUEvTCxFQUFBRCxFQUFBMkgseUJBR0FoRSxHQUZBM0QsRUFBQTRILHdCQUNBNUgsRUFBQTZILHdCQUNBN0gsRUFBQWlJLHNCQUNBakMsRUFBQWhHLEVBQUFtSSxxQkFVQSxTQUFBOEQsSUFDQSxJQUFBbE0sRUFBQWtLLEVBQUFRLGlCQUNBLElBQUE1VixFQUFBcVgsRUFBQUMsRUFBQTlSLEVBQUErUixFQThJQSxNQTdJQSxDQUVBQyxTQUNBQyxFQUFBLFFBQUE3VixTQUFBdUksY0FBQTJFLEVBQUFDLGdCQUFBcE8sT0FFQStXLFNBQ0F4TSxFQUFBNEksS0FFQTZELFVBQ0F6TSxFQUFBNkksS0FFQTZELE9BQ0FILEVBQUEsTUFBQTdWLFNBQUF1SSxjQUFBMkUsRUFBQUUsY0FBQXJPLE9BRUFrWCxPQUFBLFdBQ0EsR0FBQWpXLFNBQUF1SSxjQUFBMkUsRUFBQUssa0JBQUF4TyxNQUNBLE9BQUFpQixTQUFBdUksY0FBQTJFLEVBQUFLLGtCQUFBeE8sTUFBQSxJQUFBaUIsU0FBQXVJLGNBQUFpQixFQUFBQyxhQUFBK0ksWUFGQSxHQUtBMEQsU0FBQSxXQUNBLElBQUE5WCxFQUFBcVgsRUFBQUMsRUFRQSxPQVBBdFgsRUFBQThPLEVBQUFHLG9DQUNBb0ksRUFBQVUsRUFBQS9YLEdBRUFzWCxHQURBLElBQUFELEVBQ0EsMEJBQUFuTSxFQUFBNEksbUJBQUE1SSxFQUFBNkksa0lBRUEsMElBRUF1RCxFQVRBLEdBV0FVLFVBQ0FWLEVBQUEsR0FBQTlSLEVBQUEsR0FBQStSLEVBQUEsR0FDQUEsRUFBQXpJLEVBQUFJLGVBQ0ExSixFQUFBLENBQUEsR0FBQSxPQUFBLFNBQUEsU0FDQThSLEVBQUFXLEVBQUFWLEVBQUEvUixHQUNBOFIsR0FFQVksaUJBQUEsV0FDQSxJQUFBbFksRUFBQXFYLEVBR0EsT0FGQXJYLEVBQUE4TyxFQUFBTSwrQkFDQWlJLEVBQUFVLEVBQUEvWCxHQUNBcVgsRUFKQSxHQVFBYyxlQUNBak4sRUFBQTRJLEtBRUFzRSxnQkFDQWxOLEVBQUE2SSxLQUVBc0UsU0FDQUMsRUFBQSxTQUFBMVcsU0FBQXVJLGNBQUEyRSxFQUFBVSxnQkFBQTdPLE9BRUE0WCxRQUNBRCxFQUFBLFFBQUExVyxTQUFBdUksY0FBQTJFLEVBQUFXLGVBQUE5TyxPQUVBNlgsU0FDQXhZLEVBQUE4TyxFQUFBZ0IsY0FDQXVILEVBQUFvQixFQUFBelksR0FDQXFYLEdBRUFxQixXQUNBMVksRUFBQThPLEVBQUFnQixjQUNBdUgsRUFBQW9CLEVBQUF6WSxHQUNBcVgsR0FFQXNCLFdBQ0EzWSxFQUFBOE8sRUFBQW9CLGdCQUNBbUgsR0FFQXVCLGFBQ0E1WSxFQUFBOE8sRUFBQW1CLGtCQUNBb0gsRUFBQW9CLEVBQUF6WSxHQUNBcVgsR0FFQXdCLFFBQUEsV0FDQSxJQUFBdkIsRUFBQSxHQUFBOVIsRUFBQSxHQUFBK1IsRUFBQSxHQUlBLE9BSEFBLEVBQUF6SSxFQUFBUSxjQUNBOUosRUFBQSxDQUFBLEdBQUEsT0FBQSxTQUFBLFNBQ0E4UixFQUFBVyxFQUFBVixFQUFBL1IsR0FDQThSLEVBTEEsR0FPQXdCLFNBQUEsV0FDQSxJQUFBeEIsRUFBQSxHQUFBOVIsRUFBQSxHQUFBK1IsRUFBQSxHQUlBLE9BSEFBLEVBQUF6SSxFQUFBUyxlQUNBL0osRUFBQSxDQUFBLEdBQUEsTUFBQSxTQUFBLFVBQ0E4UixFQUFBVyxFQUFBVixFQUFBL1IsR0FDQThSLEVBTEEsR0FPQXlCLFFBQ0F0QixFQUFBLFFBQUE3VixTQUFBdUksY0FBQTJFLEVBQUFPLGVBQUExTyxPQUVBcVksVUFDQXZCLEVBQUEsUUFBQTdWLFNBQUF1SSxjQUFBMkUsRUFBQVksaUJBQUEvTyxPQUVBc1ksYUFDQXJYLFNBQUF1SSxjQUFBMkUsRUFBQUssa0JBQUF4TyxNQUFBLElBQUF1SyxFQUFBLE1BR0FnTyxXQUNBWixFQUFBLFFBQUExVyxTQUFBdUksY0FBQTJFLEVBQUFzQixrQkFBQXpQLE9BRUF3WSxXQUNBdlgsU0FBQXVJLGNBQUEyRSxFQUFBd0Isa0JBQUEzUCxNQUVBeVksYUFDQWQsRUFBQSxVQUFBMVcsU0FBQXVJLGNBQUEyRSxFQUFBeUIsb0JBQUE1UCxPQUVBMFksV0FBQSxXQUNBLElBQUEvQixFQUFBLEdBQUE5UixFQUFBLEdBQUErUixFQUFBLEdBTUEsT0FMQUEsRUFBQXpJLEVBQUF1QixpQkFFQTdLLEVBQUEsQ0FBQSxHQUFBLE9BQUEsU0FBQSxTQUNBOFIsRUFBQVcsRUFBQVYsRUFBQS9SLEdBRUE4UixFQVBBLEdBU0FnQyxvQkFBQSxXQUNBLElBQUF0WixFQUFBcVgsRUFHQSxPQUZBclgsRUFBQThPLEVBQUEwQixrQ0FDQTZHLEVBQUFVLEVBQUEvWCxHQUNBcVgsRUFKQSxHQU1Ba0MscUJBQ0FqQixFQUFBLFFBQUExVyxTQUFBdUksY0FBQTJFLEVBQUEyQix5QkFBQTlQLE9BRUE2WSxxQkFBQSxXQUNBLElBQUFsQyxFQUFBLEdBQUE5UixFQUFBLEdBQUErUixFQUFBLEdBSUEsT0FIQUEsRUFBQXpJLEVBQUE2Qix3QkFDQW5MLEVBQUEsQ0FBQSxHQUFBLE9BQUEsU0FBQSxTQUNBOFIsRUFBQVcsRUFBQVYsRUFBQS9SLEdBQ0E4UixFQUxBLEdBT0FtQyxxQkFDQTdYLFNBQUF1SSxjQUFBMkUsRUFBQTRCLHlCQUFBL1AsTUFFQStZLHVCQUNBcEIsRUFBQSxVQUFBMVcsU0FBQXVJLGNBQUEyRSxFQUFBOEIsMkJBQUFqUSxRQVFBLFNBQUE4VyxFQUFBa0MsRUFBQWhaLEdBRUEsSUFBQXVLLEVBQUFrSyxFQUFBUSxpQkF1QkEsT0FwQkFqVixHQUFBZ1osRUFFQSxNQUFBaFosRUFDQSxHQUdBQSxFQUtBLFFBQUFnWixHQUFBLEtBQUFoWixFQUNBLEdBQUFnWixNQUFBek8sRUFBQXlJLFVBRUEsR0FVQSxTQUFBc0UsRUFBQVYsRUFBQS9SLEdBQ0EsSUFBQThSLEVBQUFzQyxFQUVBLE9BREFBLEVBQUFoWSxTQUFBdUksY0FBQW9OLEdBQUFzQyxlQUNBLEdBQ0EsS0FBQSxJQUFBRCxFQUNBdEMsRUFBQSxHQUNBLE1BQ0EsS0FBQSxJQUFBc0MsRUFDQXRDLEVBQUE5UixFQUFBLEdBQ0EsTUFDQSxLQUFBLElBQUFvVSxFQUNBdEMsRUFBQTlSLEVBQUEsR0FDQSxNQUNBLEtBQUEsSUFBQW9VLEVBQ0F0QyxFQUFBOVIsRUFBQSxHQUdBLE9BQUE4UixFQUlBLFNBQUFTLEVBQUEvWCxHQUVBLElBQUE4WixFQUFBekMsRUFXQSxPQVZBeUMsRUFBQWxZLFNBQUF1SSxjQUFBbkssR0FBQWtYLEdBQ0E0QyxFQUFBQSxFQUFBQyxRQUFBLE1BQUEsT0FDQUQsRUFBQUEsRUFBQUMsUUFBQSxNQUFBLE9BR0ExQyxHQUZBLElBQUF6VixTQUFBdUksY0FBQSxJQUFBMlAsR0FBQXpDLFFBT0FBLEVBSUEsU0FBQW9CLEVBQUF6WSxHQUNBLElBQUFnYSxFQUFBM0MsRUFTQSxPQVJBMkMsRUFBQXBZLFNBQUF1SSxjQUFBbkssR0FBQWtYLEdBR0FHLEdBRkEsSUFBQXpWLFNBQUF1SSxjQUFBLElBQUE2UCxHQUFBM0MsUUFPQUEsRUFNQSxTQUFBaUIsRUFBQXFCLEVBQUFoWixHQUVBLElBQUF1SyxFQUFBa0ssRUFBQVEsaUJBdUJBLE9BcEJBalYsR0FBQWdaLEVBRUEsTUFBQWhaLEVBQ0EsR0FHQUEsRUFLQSxRQUFBZ1osR0FBQSxLQUFBaFosRUFDQSxHQUFBZ1osTUFBQXpPLEVBQUF5SSxVQUVBLEdBY0EsU0FBQXNHLEVBQUEvQyxHQUVBLElBQUFnRCxFQUFBLEdBQ0FBLEVBQUEsQ0FFQUMsY0FBQSxHQUNBQyxVQUFBckMsRUFBQWpKLEVBQUFNLGdDQUNBaUwsV0FBQXRDLEVBQUFqSixFQUFBMEIsbUNBQ0E4SixjQUFBMVksU0FBQXVJLGNBQUEsbUNBQUF4SixPQUVBdVcsSUFBQS9GLEVBQUFDLGlCQUFBNU4sTUFBQSxJQUNBMFcsRUFBQUMsY0FBQSxTQUVBRCxFQUFBSSxjQUFBLFNBQ0FwRCxJQUFBL0YsRUFBQUUsZ0JBQUE3TixNQUFBLEdBQ0EwVyxFQUFBQyxjQUFBLFFBRUFELEVBQUFDLGNBQUEsV0FTQSxTQUFBakQsRUFBQWdELEdBRUEsSUFBQUssRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFHQUosRUEyY0EsU0FBQXJELEVBQUFnRCxHQUNBLElBQUFVLEVBS0FDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFYLEVBSkFLLEVBQUF4RCxJQUtBbUQsRUFBQTNZLFNBQUF1Wix5QkFDQU4sRUFBQWpaLFNBQUErRSxjQUFBLFNBQ0FtVSxFQUFBbFosU0FBQStFLGNBQUEsTUFDQW9VLEVBQUFuWixTQUFBK0UsY0FBQSxNQUNBcVUsRUFBQXBaLFNBQUErRSxjQUFBLFNBQ0FzVSxFQUFBclosU0FBQStFLGNBQUEsTUFLQWlVLEVBQUExQixhQUFBOEIsRUFBQUksVUFBQVIsRUFBQTFCLFlBR0EwQixFQUFBdkIsYUFBQTJCLEVBQUFLLE1BQUFULEVBQUF2QixZQUVBMkIsRUFBQXZHLE1BQUFtRyxFQUFBekIsV0FFQXlCLEVBQUF4QixlQUFBNEIsRUFBQU0sUUFBQVYsRUFBQXhCLGNBRUE0QixFQUFBbFUsT0FBQSxJQUFBa1UsRUFBQU8sWUFBQSxJQUFBUCxFQUFBUSxZQUFBLElBQ0FSLEVBQUF6VCxhQUFBLE9BQUEsZ0JBR0F5VCxFQUFBeFQsWUFBQXlULEdBRUFDLEVBbElBLFNBQUFoRSxFQUFBZ0QsR0FFQSxJQUFBdUIsRUFJQWIsRUFFQWMsRUFBQUMsRUFJQVQsRUFMQU4sRUFBQXhELElBR0FzRSxFQUFBOVosU0FBQStFLGNBQUEsTUFHQXVVLEVBQUF0WixTQUFBdVoseUJBR0FQLEVBQUE1QixZQUFBMEMsRUFBQUosUUFBQVYsRUFBQTVCLFdBRUEsUUFBQSxHQUVBLElBQUEsVUFBQWtCLEVBQUFJLGVBQUEsZUFBQUosRUFBQUksY0FHQU0sRUFBQTdCLFVBQUEyQyxFQUFBTixVQUFBUixFQUFBN0IsU0FFQTZCLEVBQUEvQixVQUFBNkMsRUFBQUwsTUFBQVQsRUFBQS9CLFNBQ0ErQixFQUFBOUIsV0FBQTRDLEVBQUFFLE9BQUFoQixFQUFBOUIsVUFDQThCLEVBQUF2QyxXQUFBcUQsRUFBQWhILE9BQUFrRyxFQUFBbEQsVUFDQWtELEVBQUFyQyxVQUFBbUQsRUFBQWpILE1BQUFtRyxFQUFBakQsV0FFQSxVQUFBdUMsRUFBQUksZ0JBQ0FxQixFQTdFQSxTQUFBekUsR0FFQSxJQUFBMEQsRUFFQWUsRUFBQUUsRUFEQWpCLEVBQUF4RCxJQUdBdUUsRUFBQS9aLFNBQUErRSxjQUFBLE9BRUFrVixFQUFBamEsU0FBQXVaLHlCQUlBUCxFQUFBcEQsV0FBQW1FLEVBQUFQLFVBQUFSLEVBQUFwRCxVQUVBb0QsRUFBQWhELFNBQUErRCxFQUFBRyxJQUFBbEIsRUFBQWhELFFBRUErRCxFQUFBekcsSUFBQTBGLEVBQUEvQyxPQUVBOEQsRUFBQWxILE1BQUFtRyxFQUFBbEQsU0FFQWlFLEVBQUFqSCxPQUFBa0csRUFBQWpELFVBRUFnRSxFQUFBcFUsYUFBQSxRQUFBcVQsRUFBQTlDLFVBR0E4QyxFQUFBNUMsV0FBQTJELEVBQUFOLE1BQUFULEVBQUE1QyxVQUtBLEdBSEEyRCxFQUFBN1UsT0FBQSxLQUdBLElBQUE4VCxFQUFBMUMsaUJBQUEsQ0FDQSxJQUFBNkQsRUFBQW5hLFNBQUErRSxjQUFBLEtBQ0FvVixFQUFBQyxLQUFBLElBQ0FELEVBQUF4VSxhQUFBLFFBQUEsa0JBQ0F3VSxFQUFBdlUsWUFBQW1VLEdBQ0FFLEVBQUFyVSxZQUFBdVUsUUFHQUYsRUFBQXJVLFlBQUFtVSxHQUdBLE9BQUFFLEVBb0NBSSxHQUVBUCxFQUFBbFUsWUFBQW1VLElBRUEsTUFFQSxJQUFBLFlBQUF6QixFQUFBSSxjQUNBTSxFQUFBN0IsVUFBQTJDLEVBQUFOLFVBQUFSLEVBQUE3QixTQUNBNkIsRUFBQTlCLFdBQUE0QyxFQUFBRSxPQUFBaEIsRUFBQTlCLFVBQ0E4QixFQUFBL0IsVUFBQTZDLEVBQUFMLE1BQUFULEVBQUEvQixTQUNBLE1BRUEsSUFBQSxZQUFBcUIsRUFBQUksY0FJQW9CLEVBQUFqSCxNQUFBbUcsRUFBQXpDLGVBQ0F1RCxFQUFBaEgsT0FBQWtHLEVBQUF4QyxnQkFDQXNELEVBQUFFLE9BQUFoQixFQUFBOUIsU0FFQTRDLEVBQUFuVSxhQUFBLGFBQUFxVCxFQUFBM0IsY0FJQSxNQUVBLElBQUEsY0FBQWlCLEVBQUFJLGNBQ0FvQixFQTlSQSxTQUFBeEUsR0FFQSxJQUVBNVksRUFBQTRkLEVBQUFDLEVBRkFDLEVBQUEsR0FBQUMsRUFBQSxHQUFBQyxFQUFBLEdBQUFDLEVBQUEsR0FBQUMsRUFBQSxHQUFBQyxFQUFBLEdBQUFDLEVBQUEsR0FBQUMsRUFBQSxHQUFBQyxFQUFBLEdBSUFSLEVBQUEsQ0FBQSxZQUFBLHFCQUFBLHFCQUFBLG1CQUNBQyxFQUFBLENBQUEsTUFBQSxLQUFBLFFBQUEsTUFFQUMsRUFBQSxDQUFBLFlBQUEsb0JBQUEscUJBQUEsa0JBQUEsb0JBQUEsbUJBQUEsc0JBQ0FDLEVBQUEsQ0FBQSxNQUFBLEtBQUEsUUFBQSxLQUFBLEtBQUEsSUFBQSxPQUNBQyxFQUFBLENBQUEsWUFBQSxvQkFBQSxxQkFBQSxrQkFBQSxxQkFDQUMsRUFBQSxDQUFBLE1BQUEsS0FBQSxRQUFBLEtBQUEsTUFLQTFFLEVBRkFqSixFQUFBTSxrQ0FHQStNLEVBQUEsRUFDQUcsRUFBQU8sT0FEQSxFQUNBLEdBQ0FOLEVBQUFNLE9BRkEsRUFFQSxJQUtBLElBQUF2ZSxFQUFBLEVBQUFBLEVBQUE4ZCxFQUFBemQsT0FBQUwsSUFDQW9lLEVBQUFwZSxHQUFBc0QsU0FBQStFLGNBQUEwVixFQUFBL2QsSUFDQW9lLEVBQUFwZSxHQUFBNFksR0FBQWtGLEVBQUE5ZCxHQUdBLElBQUFBLEVBQUEsRUFBQUEsRUFBQW9lLEVBQUEvZCxPQUFBLEVBQUFMLElBQ0E0ZCxFQUFBNWQsRUFBQSxFQUNBb2UsRUFBQXBlLEdBQUFrSixZQUFBa1YsRUFBQVIsSUFHQSxJQUFBNWQsRUFBQSxFQUFBQSxFQUFBZ2UsRUFBQTNkLE9BQUFMLElBQ0FxZSxFQUFBcmUsR0FBQXNELFNBQUErRSxjQUFBNFYsRUFBQWplLElBQ0FxZSxFQUFBcmUsR0FBQTRZLEdBQUFvRixFQUFBaGUsR0FHQSxJQUFBQSxFQUFBLEVBQUFBLEVBQUFxZSxFQUFBaGUsT0FBQSxFQUFBTCxJQUNBNGQsRUFBQTVkLEVBQUEsRUFFQXFlLEVBQUFyZSxHQUFBa0osWUFBQW1WLEVBQUFULElBSUEsSUFBQTVkLEVBQUEsRUFBQUEsRUFBQWtlLEVBQUE3ZCxPQUFBTCxJQUNBc2UsRUFBQXRlLEdBQUFzRCxTQUFBK0UsY0FBQThWLEVBQUFuZSxJQUNBc2UsRUFBQXRlLEdBQUE0WSxHQUFBc0YsRUFBQWxlLEdBR0EsSUFBQUEsRUFBQSxFQUFBQSxFQUFBc2UsRUFBQWplLE9BQUEsRUFBQUwsSUFDQTRkLEVBQUE1ZCxFQUFBLEVBRUFzZSxFQUFBdGUsR0FBQWtKLFlBQUFvVixFQUFBVixJQUdBUSxFQUFBLEdBQUFsVixZQUFBbVYsRUFBQSxJQUNBRCxFQUFBLEdBQUFsVixZQUFBb1YsRUFBQSxJQUVBLElBQUFFLEVBQUFKLEVBQUEsR0FNQSxPQUpBSSxFQVFBLFNBQUFBLEdBRUEsSUFBQWhjLEVBQ0EsSUFJQWljLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBSkEvQyxFQUFBeEQsSUFDQXdHLEVBQUEsR0FLQTljLEVBQUFnYyxFQUFBZSxpQkFBQSxLQUdBakQsRUFBQTdCLFFBQUFqWSxFQUFBLEdBQUF5RyxhQUFBLFFBQUFxVCxFQUFBN0IsU0FBQTZCLEVBQUE3QixRQUVBNkIsRUFBQTVCLFVBQUFsWSxFQUFBLEdBQUF5RyxhQUFBLFVBQUFxVCxFQUFBNUIsV0FBQTRCLEVBQUE1QixVQUVBK0QsRUFBQSxDQUNBZSxJQUFBLE1BR0FySixNQUFBLE9BQ0E0RyxNQUFBVCxFQUFBL0IsUUFDQWtGLE9BQUFuRCxFQUFBOUIsVUFFQWtFLEVBQUEsQ0FDQWdCLEtBQUEsZUFDQWxYLE9BQUEsSUFDQTJOLE1BQUEsT0FDQStHLFlBQUEsSUFDQUQsWUFBQSxLQUdBMEIsRUFBQSxHQUdBQyxFQUFBLENBQ0F6SSxNQUFBLE1BQ0F3SixNQUFBLHVCQUVBZCxFQUFBLENBQ0FhLEtBQUEsZUFDQWxYLE9BQUEsSUFDQTJOLE1BQUEsT0FDQStHLFlBQUEsSUFDQUQsWUFBQSxLQUdBNkIsRUFBQSxHQUdBQyxFQUFBLENBQ0FTLElBQUEsTUFDQXpDLE1BQUEsT0FDQU8sT0FBQSxPQUVBMEIsRUFBQSxDQUNBdEIsS0FBQSxJQUNBMUYsTUFBQSxPQUVBaUgsRUFBQSxDQUNBOUksTUFBQW1HLEVBQUFsRCxTQUNBaEQsT0FBQWtHLEVBQUFqRCxVQUNBL1EsTUFBQWdVLEVBQUE5QyxTQUNBNUMsSUFBQTBGLEVBQUEvQyxPQUNBaUUsSUFBQWxCLEVBQUFoRCxRQUVBNEYsRUFBQSxDQUNBL0ksTUFBQSxNQUNBd0osTUFBQSx1QkFFQVIsRUFBQSxDQUNBTyxLQUFBLGVBQ0FsWCxPQUFBLElBQ0EyTixNQUFBLE9BQ0ErRyxZQUFBLElBQ0FELFlBQUEsS0FHQW1DLEVBQUEsR0FHQUMsRUFBQSxDQUNBRyxJQUFBLE1BQ0F6QyxNQUFBLE9BQ0FPLE9BQUEsT0FHQWdDLEVBQUEsQ0FBQWIsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FJQTVGLEVBREFqSixFQUFBTSxrQ0FFQSxFQUNBd08sRUFBQWYsT0FEQSxFQUNBLElBR0EsSUFBQSxJQUFBdmUsRUFBQSxFQUFBQSxFQUFBc2YsRUFBQWpmLE9BQUFMLElBQ0EsSUFBQSxJQUFBNGYsS0FBQW5kLE9BQUFtZCxRQUFBTixFQUFBdGYsSUFDQXdDLEVBQUF4QyxHQUFBaUosYUFBQTJXLEVBQUEsR0FBQUEsRUFBQSxJQUlBLElBQUEsSUFBQTVmLEVBQUEsRUFBQUEsRUFBQXdDLEVBQUFuQyxPQUFBTCxJQUNBd0MsRUFBQXhDLEdBQUE2ZixnQkFBQSxNQUdBLE9BQUFyQixFQWxIQXNCLENBQUF0QixHQUVBQSxFQUFBdUIsU0FBQSxHQTZOQUMsR0FDQSxNQUVBLElBQUEsY0FBQXBFLEVBQUFJLGNBRUExWSxTQUFBdUksY0FBQTJFLEVBQUFVLGdCQUFBN08sT0FBQWlCLFNBQUF1SSxjQUFBMkUsRUFBQVcsZUFBQTlPLE9BS0ErYSxFQUFBakgsTUFBQW1HLEVBQUFyQyxRQUNBbUQsRUFBQWhILE9BQUFrRyxFQUFBdkMsVUFKQW9ELEdBQUEsRUFPQTdaLFNBQUF1SSxjQUFBMkUsRUFBQVUsZ0JBQUE3TyxRQUFBaWEsRUFBQWpELFdBQ0F2QyxFQUFBbUosWUFBQXJILEdBQUEsRUFBQSw2QkFXQSxPQUhBZ0UsRUFBQTFULFlBQUFrVSxHQUdBRCxPQUdBckcsRUFBQW9KLGtCQUFBLHVCQUtBdEQsRUFzQ0F1RCxDQUFBdkgsRUFBQWdELEdBRUEsSUFDQWUsRUFBQXpULFlBQUEwVCxHQUNBLE1BQUFyZCxHQUdBLE9BSUErYyxFQUFBcEIsdUJBQUFxQixFQUFBUSxNQUFBVCxFQUFBcEIsc0JBRUFvQixFQUFBckIsdUJBQUFzQixFQUFBTyxVQUFBUixFQUFBckIsc0JBRUFzQixFQUFBcEcsTUFBQW1HLEVBQUFuQixxQkFFQW1CLEVBQUFsQix5QkFBQW1CLEVBQUFTLFFBQUFWLEVBQUFsQix3QkFFQW1CLEVBQUEvVCxPQUFBLElBQUErVCxFQUFBVSxZQUFBLElBQUFWLEVBQUFXLFlBQUEsSUFDQVgsRUFBQXRULGFBQUEsT0FBQSxnQkFFQXNULEVBQUFyVCxZQUFBc1QsR0FFQUEsRUFBQXRULFlBQUF1VCxHQUVBSCxFQUFBL0IsVUFBQWtDLEVBQUFNLE1BQUFULEVBQUEvQixTQUVBK0IsRUFBQTlCLFdBQUFpQyxFQUFBYSxPQUFBaEIsRUFBQTlCLFVBT0EsT0FMQWlDLEVBQUF2VCxZQUFBd1QsR0FJQVQsRUFBQS9TLFlBQUFxVCxHQUNBTixFQTlnQkFtRSxDQUFBeEgsRUFBQWdELEdBRUEsSUFDQU0sRUFBQUQsRUFBQXNELGlCQUFBLEtBQ0EsTUFBQWhnQixHQUVBLE9BR0EsSUFBQWlmLEVBQUFsYixTQUFBK0UsY0FBQSxPQUdBLEdBQUEsVUFBQXVULEVBQUFJLGVBQUEsZUFBQUosRUFBQUksZUFBQSxjQUFBSixFQUFBSSxjQUFBLENBRUEsSUFBQXFFLEVBQUFDLEVBRUEsSUFBQSxJQUFBdGdCLEVBQUEsRUFBQUEsRUFBQWtjLEVBQUE3YixPQUFBTCxJQUVBLFFBQUFrYyxFQUFBbGMsR0FBQWdJLGFBQUEsU0FDQXFZLEVBQUFyZ0IsR0FJQSxRQUFBLEdBRUEsSUFBQSxXQUFBNGIsRUFBQUMsY0FFQU0sRUFBQVAsRUFBQUUsVUFBQUksRUFBQUEsRUFBQTdiLE9BQUEsR0FBQTZiLEVBQUFBLEVBQUE3YixPQUFBLEdBQ0EsTUFFQSxJQUFBLFVBQUF1YixFQUFBQyxjQUtBeUUsRUFGQSxVQUFBMUUsRUFBQUksY0FFQUosRUFBQUUsVUFBQUksRUFBQTdiLE9BQUEsRUFBQTZiLEVBQUE3YixPQUFBLEVBRUEsZUFBQXViLEVBQUFJLGNBQ0EsRUFJQXFFLEVBRUFsRSxFQUFBRCxFQUFBb0UsR0FDQSxNQUNBLElBQUEsYUFBQTFFLEVBQUFDLGNBS0F5RSxFQUZBMUUsRUFBQUcsV0FFQSxFQUdBLEVBRUFJLEVBQUFELEVBQUFvRSxHQU9BOUIsRUFBQXRWLFlBQUFpVCxHQUVBQyxFQUFBb0MsRUFBQWUsaUJBQUEsS0FDQWdCLEVBQUEzSCxFQUFBZ0QsRUFBQVEsR0FDQUMsRUFBQUQsRUFBQSxHQUFBb0UsZUFHQSxHQUFBLFlBQUE1RSxFQUFBSSxlQUFBLFlBQUFKLEVBQUFJLGVBQUEsY0FBQUosRUFBQUksY0FBQSxDQUdBLElBQUF5RSxFQUVBQyxFQUVBQyxFQUdBLFVBQUEvRSxFQUFBQyxlQUNBNkUsRUFBQSxFQUNBRCxFQUFBdkUsRUFBQTdiLE9BQUFxZ0IsR0FFQTlFLEVBQUFHLFlBRUEyRSxFQUFBLEVBQ0FELEVBQUF2RSxFQUFBN2IsT0FBQXFnQixJQUdBQSxFQUFBLEVBQ0FELEVBQUF2RSxFQUFBN2IsT0FBQXFnQixHQUtBdkUsRUFBQUQsRUFBQXVFLEdBRUFqQyxFQUFBdFYsWUFBQWlULEdBRUFDLEVBQUFvQyxFQUFBZSxpQkFBQSxLQUVBZ0IsRUFBQTNILEVBQUFnRCxFQUFBUSxHQUVBQyxFQUFBRCxFQUFBLEdBQUFvRSxVQUdBLFlBQUE1RSxFQUFBSSxjQUNBMkUsRUF5YUEsU0FBQS9ILEVBQUE4SCxHQUNBLElBQUE5VCxFQUFBMFAsRUFBQXNFLEVBSUFDLEVBQUFDLEVBUUEsT0FYQXhFLEVBQUF4RCxJQUNBbE0sRUFBQWtLLEVBQUFRLGlCQUNBc0osRUFBQSxLQUdBQyxFQUFBdkUsRUFBQS9DLE9BRUFzSCxFQUFBQSxFQUFBcEYsUUFBQSx5QkFBQSxVQUVBcUYsRUFBQSxLQUFBQyxFQUFBTCx3Q0FBQXBFLEVBQUFoRCxrQkFBQWdELEVBQUFsRCxxQkFBQWtELEVBQUFqRCxtQkFBQWlELEVBQUEvQyxvQ0FBQStDLEVBQUFsRCx1QkFBQWtELEVBQUFqRCx1R0FBQTBILEVBQUFMLG1DQUFBSyxFQUFBTCx5SEFBQUssRUFBQUwsOENBQUFwRSxFQUFBaEQsa0JBQUExTSxFQUFBZ0oscUJBQUFoSixFQUFBNkssa0JBQUFvSiwrQkFBQWpVLEVBQUFnSix1QkFBQWhKLEVBQUE2Syx1R0FBQXNKLEVBQUFMLDJCQUFBSyxFQUFBTCwyQkFFQUksRUF0YkFFLENBQUFwSSxFQUFBOEgsR0FDQSxZQUFBOUUsRUFBQUksY0FDQTJFLEVBd2JBLFNBQUEvSCxFQUFBOEgsR0FFQSxJQUFBcEUsRUFFQTJFLEVBQUFDLEVBQUFDLEVBQ0FQLEVBVUEsT0FaQXRFLEVBQUF4RCxJQUdBOEgsRUFBQSxLQUVBTSxFQUFBLFVBRUFDLEVBQUE3RSxFQUFBNUIsVUFBQTRCLEVBQUE1QixVQUFBcFgsU0FBQXVJLGNBQUEyRSxFQUFBWSxpQkFBQS9PLE1BR0E0ZSxFQUFBLEtBQUFGLEVBQUFMLDZCQUFBSyxFQUFBTCw2RkFBQXBFLEVBQUFsRCxxQkFBQWtELEVBQUFqRCxtQkFBQTBILEVBQUFMLDhCQUFBcEUsRUFBQTNCLHdCQUFBd0csVUFBQUosRUFBQUwsa0NBQUFLLEVBQUFMLHNCQUFBSyxFQUFBTCxZQUFBSyxFQUFBTCxpREFBQUssRUFBQUwsYUFBQUssRUFBQUwsNkJBQUFLLEVBQUFMLHFCQUFBSyxFQUFBTCxnQkFBQUssRUFBQUwsb0JBRUFPLEVBdmNBRyxDQUFBeEksRUFBQThILEdBQ0EsY0FBQTlFLEVBQUFJLGdCQUNBMkUsRUF5Y0EsU0FBQS9ILEVBQUE4SCxHQUNBLElBQUFwRSxFQUdBK0UsRUFBQVQsRUFBQTdHLEVBQUFFLEVBRkFxQyxFQUFBeEQsSUFHQThILEVBQUEsS0FFQTdHLEVBQUF6VyxTQUFBdUksY0FBQTJFLEVBQUFVLGdCQUFBN08sTUFDQTRYLEVBQUEzVyxTQUFBdUksY0FBQTJFLEVBQUFXLGVBQUE5TyxNQUVBZ2YsRUFBQSxLQUFBTixFQUFBTCw0QkFBQUssRUFBQUwsaUlBQUEzRyxrQ0FBQUUsd0RBQUE4RyxFQUFBTCw4QkFBQXBFLEVBQUEvQywrQkFBQXdILEVBQUFMLE9BQUFLLEVBQUFMLHNCQUFBSyxFQUFBTCx5SEFBQUssRUFBQUwscUJBQUFLLEVBQUFMLHNGQUNBcEUsRUFBQS9DLDRKQUFBUSxvREFBQUUsaUZBTUEsT0FBQW9ILEVBMWRBQyxDQUFBMUksRUFBQThILElBR0FyRSxFQUFBQSxFQUFBWixRQUFBLDZCQUFBa0YsRUFBQSxNQUdBWSxFQUtBLFNBQUFDLEdBQ0EsSUFBQTVJLEVBQ0EsV0FBQTRJLElBQUE1SSxFQUFBL0YsRUFBQUMsaUJBQUE1TixNQUFBLElBQ0EsVUFBQXNjLElBQUE1SSxFQUFBL0YsRUFBQUUsZ0JBQUE3TixNQUFBLElBQ0EsYUFBQXNjLElBQUE1SSxFQUFBL0YsRUFBQUcsbUJBQUE5TixNQUFBLElBQ0EsT0FBQTBULEVBVkE2SSxDQUFBN0YsRUFBQUMsZUFBQVEsR0FqSUFxRixDQUFBOUksRUFBQWdELEdBNGxCQSxTQUFBMkUsRUFBQTNILEVBQUFnRCxFQUFBUSxHQUdBLElBSUF1RixFQUVBQyxFQU5BQyxFQUFBLEdBRUFDLEVBQUEsR0FLQSxZQUFBbEcsRUFBQUksZUFBQSxZQUFBSixFQUFBSSxlQUFBLGNBQUFKLEVBQUFJLGdCQUNBNEYsR0FBQSxHQUVBLElBQUEsSUFBQTVoQixFQUFBLEVBQUFBLEVBQUFvYyxFQUFBL2IsT0FBQUwsSUFFQTZoQixFQUFBamQsS0FBQW1jLEVBQUEvZ0IsSUFFQSx3QkFBQW9jLEVBQUFwYyxHQUFBOGMsV0FDQWdGLEVBQUFsZCxLQUFBNUUsR0FJQSxJQUFBLElBQUFBLEVBQUEsRUFBQUEsRUFBQW9jLEVBQUEvYixPQUFBTCxJQUVBLFFBQUFvYyxFQUFBcGMsR0FBQTRELFVBQUEsTUFBQXdZLEVBQUFwYyxHQUFBbUIsV0FBQXlDLFdBR0EsTUFBQXdZLEVBQUFwYyxHQUFBNEQsVUFFQXdZLEVBQUFwYyxHQUFBK2hCLG1CQUFBLGNBQUFoQixFQUFBL2dCLElBQ0FvYyxFQUFBcGMsR0FBQStoQixtQkFBQSxXQUFBLE9BS0EsSUFBQUQsRUFBQXpoQixPQUVBTCxJQUFBb2MsRUFBQS9iLE9BQUEsSUFBQSxJQUFBdWhCLEdBQ0F4RixFQUFBcGMsR0FBQStoQixtQkFBQSxjQUFBaEIsRUFBQS9nQixJQUNBb2MsRUFBQXBjLEdBQUEraEIsbUJBQUEsYUFBQSxrQkFDQTNGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLFlBQUEsZUFBQWhCLEVBQUEvZ0IsSUFDQW9jLEVBQUFwYyxHQUFBK2hCLG1CQUFBLFdBQUEsUUFHQTNGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLFdBQUEsTUFDQTNGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLGNBQUFoQixFQUFBL2dCLElBQ0FvYyxFQUFBcGMsR0FBQStoQixtQkFBQSxhQUFBLE1BQ0EzRixFQUFBcGMsR0FBQStoQixtQkFBQSxZQUFBaEIsRUFBQS9nQixNQUtBQSxFQUFBOGhCLEVBQUEsSUFFQTFGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLFdBQUEsTUFDQTNGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLGNBQUFoQixFQUFBL2dCLElBQ0FvYyxFQUFBcGMsR0FBQStoQixtQkFBQSxhQUFBLE1BQ0EzRixFQUFBcGMsR0FBQStoQixtQkFBQSxZQUFBaEIsRUFBQS9nQixNQUdBMmhCLEVBQUEzaEIsR0FBQThoQixFQUFBLEdBQUFBLEVBQUEsSUFDQTFGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLFdBQUEsTUFDQTNGLEVBQUFwYyxHQUFBK2hCLG1CQUFBLGNBQUFoQixFQUFBWSxJQUNBdkYsRUFBQXBjLEdBQUEraEIsbUJBQUEsYUFBQSxNQUNBM0YsRUFBQXBjLEdBQUEraEIsbUJBQUEsWUFBQWhCLEVBQUFZLEtBR0EzaEIsSUFBQW9jLEVBQUEvYixPQUFBLElBQ0ErYixFQUFBcGMsR0FBQXVYLFVBQUEsS0FBQXdKLEVBQUFZLEdBQUEsNENBQUFaLEVBQUFZLE1BVUEsT0FBQXZGLEVBS0EsU0FBQTJFLEVBQUFMLEdBQ0EsSUFBQXNCLEVBQUFDLEVBSUEsT0FIQUQsRUFBQSxLQUVBQyxFQUZBLEtBRUFDLE9BQUEsQ0FBQXhCLElBQ0F1QixFQU9BLFNBQUFWLEVBQUEzSSxFQUFBSSxHQUlBLElBQUFxRCxFQUVBQSxFQUFBckQsRUFFQSxJQUFBbUosRUFBQSxJQUFBQyxZQUFBLElBQUF4SixFQUFBLENBQ0FuUixLQUFBLFNBQUFDLEdBYUEsT0FWQXlhLEVBQUExZCxHQUFBLFdBQUEsU0FBQTRkLEdBQ0F2TCxFQUFBb0osa0JBQUEsc0JBR0FpQyxFQUFBMWQsR0FBQSxTQUFBLFNBQUFsRixPQU1BOGMsS0E2SkEsTUFBQSxDQUdBaUcsWUFBQSxTQUFBbEssR0FFQSxJQUFBbUssRUFBQUMsRUFXQSxPQVZBRCxFQUFBbkssRUFBQTFXLE9BQUFrWCxHQUdBNEosRUFEQXBLLEVBQUFxSyxTQUNBLFVBQ0FySyxFQUFBc0ssU0FDQSxRQUtBLEdBQ0EsS0FBQUgsRUFBQW5PLFNBQUEsT0FDQXVILEVBQUE0RyxHQUNBLE1BQ0EsS0FBQUEsRUFBQW5PLFNBQUEsUUExS0EsU0FBQXdFLEVBQUErSixFQUFBQyxFQUFBQyxHQUNBLElBQUF2RyxFQUFBLEdBQ0FBLEVBQUF4RCxJQUNBLElBRUF1RCxFQUZBelAsRUFBQSxHQU1BLE9BTEFBLEVBQUFrSyxFQUFBUSxrQkFLQSxHQUNBLEtBQUFzQixFQUFBeEUsU0FBQSxhQUVBaUksRUFBQSxPQUFBQyxFQUFBcEQscUJBQUF0TSxFQUFBNEksOEJBQUE1SSxFQUFBNkksdUJBQ0EsTUFDQSxLQUFBbUQsRUFBQXhFLFNBQUEsYUFDQWlJLEVBQUEsT0FBQUMsRUFBQXBELHFCQUFBdE0sRUFBQWdKLGtDQUFBaEosRUFBQTZLLDJCQUNBLE1BQ0EsS0FBQW1CLEVBQUF4RSxTQUFBLGFBQ0FpSSxFQUFBLE9BQUFDLEVBQUFwRCxxQkFBQXRNLEVBQUFpSixrQ0FBQWpKLEVBQUE4SywyQkFDQSxNQUNBLEtBQUFrQixFQUFBeEUsU0FBQSxhQUFBd0UsRUFBQXhFLFNBQUEsYUFBQXdFLEVBQUF4RSxTQUFBLFlBRUFpSSxFQURBQyxFQUFBdkMsU0FDQSxNQUFBdUMsRUFBQTdCLHFCQUFBNkIsRUFBQXZDLDJCQUVBLE1BQUF1QyxFQUFBN0IsZUFFQSxNQUNBLEtBQUE3QixFQUFBeEUsU0FBQSxlQUNBaUksRUFBQSxTQUFBQyxFQUFBMUIsdUJBQUEwQixFQUFBekIsbUNBQUF5QixFQUFBdkIsMkJBQ0EsTUFDQSxLQUFBbkMsRUFBQXhFLFNBQUEsZUFDQWlJLEVBQUEsU0FBQUMsRUFBQTFCLHVCQUFBaE8sRUFBQWdKLGlDQUFBMEcsRUFBQXZCLDJCQUNBLE1BQ0EsS0FBQW5DLEVBQUF4RSxTQUFBLGVBQ0FpSSxFQUFBLFNBQUFDLEVBQUExQix1QkFBQWhPLEVBQUFpSixpQ0FBQXlHLEVBQUF2QiwyQkFNQXNCLEVBQUFqSSxTQUFBLE9BQUFpSSxFQUFBQSxFQUFBWixRQUFBLE1BQUEsTUFFQThGLEVBQUEzSSxFQUFBeUQsR0FpSUF5RyxDQUFBUCxHQUNBLE1BQ0EsS0FBQUEsRUFBQW5PLFNBQUEsUUFoSUEsU0FBQW1PLEVBQUFDLEdBSUEsSUFBQTVWLEVBQUF5UCxFQUFBMEcsRUFBQUMsRUFlQSxTQUFBQyxFQUFBRixFQUFBQyxFQUFBUixHQUVBLElBQUFVLEVBQUFDLEVBQUFDLEVBK0JBLE9BNUJBTCxHQUFBQyxHQWtCQUUsRUFBQSxRQUNBQyxFQUFBLFNBRUE5RyxFQURBLFVBQUFtRyxFQUNBVSxFQUFBLEtBQUFILEVBQUFHLFlBQUFGLEVBQUEsSUFDQSxTQUFBUixFQUNBVSxFQUFBLEtBQUFILEVBQUFHLGVBQUFGLEVBQUEsT0FFQUQsRUFBQSxNQUFBQyxJQXZCQUUsRUFBQUgsRUFBQSxRQUFBLFNBR0FLLEVBQUFMLEdBQUFDLEVBR0EzRyxFQURBLFVBQUFtRyxFQUNBVSxFQUFBLEtBQUFFLEVBQUEsS0FDQSxTQUFBWixFQUNBVSxFQUFBLEtBQUFFLEVBQUEsT0FFQUEsR0FnQkEvRyxFQUdBLE9BakRBL1ksU0FBQXVJLGNBQUEsSUFBQTBXLEdBQ0FjLGlCQUFBQyxFQVFBUCxFQUFBQyxFQUFBLEdBRUFwVyxFQUFBa0ssRUFBQVEsZ0JBQUEsSUFzQ0EsR0FFQSxJQUFBLDJCQUFBaUwsRUFDQVEsRUFBQW5XLEVBQUE0SSxLQUNBd04sRUFBQXBXLEVBQUE2SSxLQUNBNEcsRUFBQTRHLEVBQUFGLEVBQUFDLEVBQUFSLEdBQ0EsTUFDQSxJQUFBLDJCQUFBRCxFQUNBUSxFQUFBblcsRUFBQWdKLFNBQ0FvTixFQUFBcFcsRUFBQTZLLFNBQ0E0RSxFQUFBNEcsRUFBQUYsRUFBQUMsRUFBQVIsR0FDQSxNQUNBLElBQUEsMkJBQUFELEVBQ0FRLEVBQUFuVyxFQUFBaUosU0FDQW1OLEVBQUFwVyxFQUFBOEssU0FDQTJFLEVBQUE0RyxFQUFBRixFQUFBQyxFQUFBUixHQUNBLE1BRUEsSUFBQSxpQ0FBQUQsRUFDQVEsRUFBQW5XLEVBQUE0SSxLQUNBNkcsRUFBQTRHLEVBQUFGLEVBQUFDLEVBQUFSLEdBQ0EsTUFDQSxJQUFBLGtDQUFBRCxFQUNBUyxFQUFBcFcsRUFBQTZJLEtBQ0E0RyxFQUFBNEcsRUFBQUYsRUFBQUMsRUFBQVIsR0FDQSxNQUNBLElBQUEsaUNBQUFELEVBQ0FRLEVBQUFuVyxFQUFBZ0osU0FDQXlHLEVBQUE0RyxFQUFBRixFQUFBQyxFQUFBUixHQUNBLE1BQ0EsSUFBQSxrQ0FBQUQsRUFDQVMsRUFBQXBXLEVBQUE2SyxTQUNBNEUsRUFBQTRHLEVBQUFGLEVBQUFDLEVBQUFSLEdBQ0EsTUFDQSxJQUFBLGlDQUFBRCxFQUNBUSxFQUFBblcsRUFBQWlKLFNBQ0F3RyxFQUFBNEcsRUFBQUYsRUFBQUMsRUFBQVIsR0FDQSxNQUNBLElBQUEsa0NBQUFELEVBQ0FTLEVBQUFwVyxFQUFBOEssU0FDQTJFLEVBQUE0RyxFQUFBRixFQUFBQyxFQUFBUixHQUtBakIsRUFBQWdCLEVBQUFsRyxHQTZCQWtILENBQUFoQixFQUFBQyxHQUtBLE9BQUFELEdBSUFpQixRQUFBLGNBOXJDQSxHQXNzQ0ExTSxFQUFBLFNBQUEyTSxFQUFBQyxHQUdBLE1BQUE1VyxFQUFBNFcsRUFBQWxQLHlCQUNBcEcsRUFBQXNWLEVBQUFqUCx3QkFDQTVHLEVBQUE2VixFQUFBaFAsd0JBQ0E5RSxFQUFBOFQsRUFBQTlPLHNCQUNBM0UsRUFBQXlULEVBQUE3TyxxQkFDQTdGLEVBQUEwVSxFQUFBL08sbUJBQ0FuRSxFQUFBa1QsRUFBQTVPLHFCQUVBakMsR0FEQTZRLEVBQUEzTywwQkFDQTJPLEVBQUExTyxzQkFDQXRCLEVBQUFnUSxFQUFBek8sd0JBVUEsSUFBQTBPLEVBQUEsU0FBQXZMLEdBRUF0QixFQUFBb0osa0JBQUE5SCxJQXlTQSxTQUFBd0wsRUFBQXhMLEdBSUE5VSxTQUFBdUksY0FBQSxzQkFBQTFLLFdBQUFpSSxZQUFBOUYsU0FBQXVJLGNBQUEsdUJBR0F1TSxFQUFBeUwsa0JBQ0F6TCxFQUFBMEwsaUJBRUEsSUFRQWpsQixFQVJBdVosRUFBQTJMLGFBQUFDLE1BUUEsR0FVQSxHQUFBbmxCLEVBQUEwQyxLQUFBMGlCLE1BQUEsV0FBQSxDQU1BLElBRUFDLEVBRkFDLEVBQUEsSUFBQUMsV0FFQUQsRUFBQUUsUUFBQUgsRUFpRUFybEIsRUFoRUEsU0FBQVUsR0FFQSxJQUFBc1EsRUFBQSxJQUFBeVUsTUFNQSxJQUFBQyxFQUpBMVUsRUFBQStJLEdBQUEsVUFHQS9JLEVBQUErRyxJQUFBclgsRUFBQW1DLE9BQUE4aUIsT0FHQUQsRUFBQUwsRUFBQXhmLEtBRUFwQixTQUFBdUksY0FBQWlCLEVBQUFDLGFBQUErSSxZQUFBeU8sRUFHQWpoQixTQUFBdUksY0FBQW9FLEVBQUFDLFVBQUE1SCxNQUFBcU8sUUFBQSxPQTRCQSxTQUFBOUcsRUFBQXJPLEdBSUEsSUFBQWlqQixFQUFBbmhCLFNBQUErRSxjQUFBLE9BRUFvYyxFQUFBN0wsR0FBQSxvQkFFQXRWLFNBQUFvaEIsZUFBQSxjQUFBQyxhQUFBRixFQUFBLE1BRUFuaEIsU0FBQW9oQixlQUFBLHFCQUFBQyxhQUFBOVUsRUFBQSxNQUlBdk0sU0FBQXVJLGNBQUErRCxFQUFBQyxRQUFBdkgsTUFBQXFPLFFBQUEsT0FDQW5WLEVBQUFxTyxHQUdBK1UsQ0FBQS9VLEdBNUNBLFdBS0E2RyxXQUFBLEtBRUE3RyxFQUFBd1UsUUFFQS9nQixTQUFBdUksY0FBQW9FLEVBQUFDLFVBQUE1SCxNQUFBcU8sUUFBQSxPQUdBclQsU0FBQXVJLGNBQUFvRSxFQUFBRSxjQUFBN0gsTUFBQXFPLFFBQUEsT0FHQTlHLEVBQUF2SCxNQUFBcU8sUUFBQSxhQUdBa08sTUFJQSxVQTJCQVYsRUFBQVcsY0FBQWptQixTQTRDQSxTQUFBa21CLEVBQUEzTSxHQUVBQSxFQUFBeUwsa0JBSUF6TCxFQUFBMEwsaUJBQ0ExTCxFQUFBMkwsYUFBQWlCLFdBQUEsT0FNQSxTQUFBQyxFQUFBN00sR0FFQThNLEdBQUE1aEIsU0FBQW9oQixlQUFBcmxCLEtBQUF1WixJQUVBdlosS0FBQXFHLFNBS0EsU0FBQXlmLEVBQUEvTSxHQUVBLElBQUF4TCxFQUNBQSxFQUFBa0ssRUFBQVEsaUJBQ0E4TixLQUFBQyxFQUFBaG1CLEtBQUF1WixJQUdBLFNBQUF3TSxNQUFBLFNBQUFBLEtBQ0EvbEIsS0FBQWdELE1BQUEsR0FHQWhELEtBQUFnRCxNQUFBdUssRUFBQXdZLE1BSUEsU0FBQUUsRUFBQWxOLEdBR0FBLEVBQUExVyxPQUVBVyxNQU9BLFNBQUFrakIsRUFBQW5OLEdBS0EsSUFBQThNLEVBQUE1aEIsU0FBQW9oQixlQUFBcmxCLEtBQUF1WixJQUNBNE0sRUFBQSxHQUNBQSxFQUFBOWpCLE9BQUF3akIsRUFBQXRNLEdBRUEsSUFFQSxJQUFBNk0sRUFBQSxHQUVBLElBQUEsSUFBQXpsQixFQUFBLEVBQUFBLEVBQUF5bEIsRUFBQXBsQixPQUFBTCxJQUVBc0QsU0FBQXVJLGNBQUE0WixFQUFBemxCLElBT0EsTUFBQTBsQixJQUlBLEdBQUEsVUFBQXJELE1BQUE5Z0IsS0FDQSxRQUFBLEdBQ0EsS0FBQTJqQixFQUFBdE0sR0FBQXhFLFNBQUEsT0FJQSxJQUFBZ1AsRUFFQXhXLEVBS0FBLEVBQUFrSyxFQUFBUSxpQkFFQWtPLEVBQUFKLEtBQUEsT0FFQWhDLEVBQUFuTixTQUFBaVAsRUFBQXRNLEdBQUExVCxPQUFBLElBRUFnZ0IsRUFBQXRNLEdBQUF4RSxTQUFBLFVBQUFnUCxHQUFBQSxHQUVBQSxFQUFBeFcsRUFBQTRJLEtBQUE0TixFQUNBb0MsRUFBQXBDLElBQUFBLEVBQ0F1QyxFQUFBSCxJQVFBSSxFQUFBSixRQUtBLFNBQUFuRCxNQUFBOWdCLE1BR0EsYUFBQThnQixNQUFBOWdCLE9BRkE2VyxFQUFBMEwsZUFlQSxTQUFBK0IsRUFBQXpOLEdBRUEsSUFFQSxJQUFBcU4sRUFDQUEsRUFBQWhqQixPQUFBeVYsT0FBQXhFLEdBQ0EsSUFBQSxJQUFBMVQsRUFBQSxFQUFBQSxFQUFBeWxCLEVBQUFwbEIsT0FBQUwsSUFFQXNELFNBQUFvaEIsZUFBQWUsRUFBQXpsQixJQUNBa1UsVUFBQTRSLFNBQUEsVUFJQSxNQUFBSixJQU1BLEdBRkFLLFFBQUEzTixFQUFBNE4sT0FBQTVOLEVBQUE2TixTQUFBN04sRUFBQXZSLElBRUEsR0FBQWtmLFNBQUEsSUFBQUEsUUFBQSxDQUNBLElBQUFiLEVBQUFnQixFQUNBdFosRUFBQTRZLEVBQUEsR0FFQTVZLEVBQUFrSyxFQUFBUSxpQkFFQTROLEVBQUE1aEIsU0FBQW9oQixlQUFBcmxCLEtBQUF1WixJQUVBNE0sRUFBQTlqQixPQUFBd2pCLEVBQUF0TSxHQUNBNE0sRUFBQXBDLElBQUEvakIsS0FBQWdELE1BQ0FtakIsRUFBQUosS0FBQUMsRUFBQWhtQixLQUFBdVosSUFFQXNOLEVBQUEsSUFBQUgsVUFFQSxHQUFBQSxVQUVBLEtBQUExbUIsS0FBQWdELE9BQUFoRCxLQUFBZ0QsT0FBQXVLLEVBQUE0WSxFQUFBSixNQVNBTyxFQUFBSCxJQUdBVSxHQUFBOU4sRUFBQTBMLGlCQUVBemtCLEtBQUFxRyxXQUdBLFNBQUE4ZixFQUFBSixNQUFBLFNBQUFJLEVBQUFKLE9BQ0FjLEVBQ0E3bUIsS0FBQXFHLFVBRUFyRyxLQUFBZ0QsTUFBQSxHQUNBaEQsS0FBQXNLLFNBSUFpYyxFQUFBSixJQXhCQSxTQUFBQSxFQUFBSixNQUFBLFNBQUFJLEVBQUFKLE9BQ0EvbEIsS0FBQThtQixPQUFBLFdBQ0E5bUIsS0FBQWdELE1BQUEsTUErQkEsU0FBQStqQixFQUFBaE8sR0FFQSxJQUFBZ04sRUFBQWlCLEVBRUFqQixFQUFBQyxFQUFBaG1CLEtBQUF1WixJQUVBME4sTUFBQWxPLEVBQUE0TixPQUFBNU4sRUFBQTZOLFNBQUE3TixFQUFBdlIsSUFJQSxJQUFBeWYsUUFFQSxTQUFBbEIsR0FBQSxTQUFBQSxHQUNBL2xCLEtBQUFnRCxNQUFBLEdBQ0FoRCxLQUFBc0ssU0FHQTBjLEVBQUF2UCxFQUFBeVAsa0JBQ0EsWUFBQW5CLEVBQ0FpQixFQUFBLEdBQUFobkIsS0FBQWdELE1BQUFna0IsRUFBQSxHQUFBaG5CLEtBQUFnRCxNQUFBaUIsU0FBQXVJLGNBQUFtRCxFQUFBQyxlQUFBc0gsWUFFQSxhQUFBNk8sRUFDQWlCLEVBQUEsR0FBQWhuQixLQUFBZ0QsTUFBQWdrQixFQUFBLEdBQUFobkIsS0FBQWdELE1BQUFpQixTQUFBdUksY0FBQW1ELEVBQUFVLG9CQUFBNkcsWUFDQSxhQUFBNk8sSUFDQWlCLEVBQUEsR0FBQWhuQixLQUFBZ0QsTUFBQWdrQixFQUFBLEdBQUFobkIsS0FBQWdELE1BQUFpQixTQUFBdUksY0FBQW1ELEVBQUFXLG9CQUFBNEcsZUFZQSxTQUFBb1AsRUFBQUgsR0FFQSxNQUFBOWpCLE9BQUFBLEVBQUEwakIsS0FBQUEsRUFBQWhDLElBQUFBLEdBQUFvQyxFQUNBLElBQUFnQixFQUNBLElBQUFySixFQUNBQSxHQUFBLEVBQ0EsSUFBQXZRLEVBQ0FBLEVBQUFrSyxFQUFBUSxpQkFNQSxHQTJnQkEsU0FBQW1QLEdBRUEsSUFBQXRKLEdBRUFsSCxTQUFBd1EsRUFBQSxLQUFBQSxFQUFBLEdBQUEsR0FBQUEsRUFBQSxFQUNBdEosR0FBQSxHQUdBc0osRUFBQXhRLFNBQUF3USxHQUNBdEosR0FBQSxHQUdBLE9BQUFBLEVBdmhCQXVKLENBQUF0RCxHQUVBb0QsRUFBQSxrQkFDQXJKLEdBQUEsT0FHQSxRQUFBLEdBQ0EsSUFBQSxZQUFBaUksRUFFQWhDLEVBQUF4VyxFQUFBNEksT0FFQTROLEVBZkEsS0FpQkFqRyxHQUFBLEVBQ0FxSixFQUFBLGlDQUtBckosR0FBQSxHQUVBLE1BRUEsSUFBQSxTQUFBaUksRUFFQWhDLEVBQUF4VyxFQUFBMEksVUFFQTZILEdBQUEsRUFDQXFKLEVBQUEsdUJBMkJBLE9BUEFySixFQUVBckcsRUFBQW9KLGtCQUFBc0csR0FHQXJKLEdBQUEsRUFFQUEsRUFNQSxTQUFBeUksRUFBQUosR0FHQSxJQUFBL1AsRUFBQUQsRUFBQW1SLEVBQUFDLEVBRUFoYSxFQUFBLEdBQ0FBLEVBQUFrSyxFQUFBUSxpQkFHQSxNQUFBNVYsT0FBQUEsRUFBQTBqQixLQUFBQSxFQUFBaEMsSUFBQUEsR0FBQW9DLEVBRUEsUUFBQSxHQUVBLElBQUEsWUFBQUosRUFDQXVCLEVBQUEsQ0FBQXZCLEVBQUFoQyxHQUNBd0QsRUFBQSxHQUNBLE1BQ0EsSUFBQSxTQUFBeEIsRUFFQTNQLEVBQUEyTixHQUFBLEVBQUF4VyxFQUFBK0ssT0FBQSxJQUVBZ1AsRUFBQSxDQUFBdkIsRUFBQWhDLEdBQ0F3RCxFQUFBLENBQUEsT0FBQW5SLEdBRUEsTUFDQSxJQUFBLFNBQUEyUCxFQUVBNVAsRUFBQTROLEVBQUF4VyxFQUFBK0ssT0FBQSxHQUNBZ1AsRUFBQSxDQUFBdkIsRUFBQWhDLEdBQ0F3RCxFQUFBLENBQUEsT0FBQXBSLEdBQ0EsTUFDQSxJQUFBLGFBQUE0UCxHQUFBLGFBQUFBLEVBRUF1QixFQUFBLENBQUF2QixFQUFBaEMsR0FDQXdELEVBQUEsSUFZQSxZQUFBQyxHQUVBLElBQUF6QixFQUFBaEMsRUFFQSxJQUFBLElBQUFwakIsRUFBQSxFQUFBQSxFQUFBNm1CLEVBQUF4bUIsT0FBQUwsSUFHQSxPQUZBb2xCLEVBQUF5QixFQUFBN21CLEdBQUEsR0FDQW9qQixFQUFBeUQsRUFBQTdtQixHQUFBLElBQ0EsR0FDQSxLQUFBb2xCLEVBRUEsTUFDQSxJQUFBLFlBQUFBLEVBQ0E5aEIsU0FBQXVJLGNBQUErRCxFQUFBRSxXQUFBeEgsTUFBQTZOLE1BQUFpTixFQUFBLEtBR0FqTSxhQUFBMlAsUUFBQSxVQUFBMUQsR0FJQSxNQUNBLElBQUEsU0FBQWdDLEVBQ0E5aEIsU0FBQXVJLGNBQUErRCxFQUFBQyxRQUFBdkgsTUFBQTZOLE1BQUFpTixFQUFBLEtBQ0EsTUFDQSxJQUFBLFNBQUFnQyxFQUNBOWhCLFNBQUF1SSxjQUFBK0QsRUFBQUMsUUFBQXZILE1BQUE4TixPQUFBZ04sRUFBQSxLQUNBLE1BQ0EsSUFBQSxhQUFBZ0MsRUFDQTloQixTQUFBdUksY0FBQW1ELEVBQUFVLG9CQUFBekcsYUFBQSxnQkFBQW1hLEdBRUFqTSxhQUFBMlAsUUFBQSxXQUFBMUQsR0FDQSxNQUNBLElBQUEsYUFBQWdDLEVBQ0E5aEIsU0FBQXVJLGNBQUFtRCxFQUFBVyxvQkFBQTFHLGFBQUEsZ0JBQUFtYSxHQUVBak0sYUFBQTJQLFFBQUEsV0FBQTFELElBeENBMkQsQ0FBQUosRUFBQUMsR0FFQS9CLElBZ0RBLFNBQUFBLElBQ0EsSUFDQXZQLEVBQUFDLEVBQUF5UixFQUNBWCxFQUZBelosRUFBQSxHQXdCQSxJQUFBcWEsRUFBQUMsRUFTQSxPQTlCQXRhLEVBQUFrSyxFQUFBUSxnQkFBQSxHQUdBMFAsRUFBQTluQixPQUFBOFcsaUJBQUExUyxTQUFBdUksY0FBQStELEVBQUFFLFlBR0F1VyxFQUFBdlAsRUFBQXlQLGtCQUNBRixFQUFBLElBRUEvUSxFQUFBK1EsRUFBQSxHQUNBL2lCLFNBQUF1SSxjQUFBK0QsRUFBQUUsV0FBQXhILE1BQUE2TixNQUFBa1EsRUFBQSxHQUFBLE1BR0EvUSxFQUFBVyxTQUFBK1EsRUFBQTlRLGlCQUFBLFNBQUEsSUFHQVgsRUFBQVUsU0FBQStRLEVBQUE5USxpQkFBQSxVQUFBLElBTUEsSUFBQXRKLEVBQUE0SSxNQUNBeVIsRUFBQXJhLEVBQUE4SSxNQUNBd1IsRUFBQXRhLEVBQUErSSxRQUVBc1IsRUFBQXJhLEVBQUE0SSxLQUNBMFIsRUFBQXRhLEVBQUE2SSxPQUdBLEdBSUEsS0FBQXdSLEdBQUEzUixHQUFBMUksRUFBQStJLE1BQUFKLEVBQ0EwUixFQUFBcmEsRUFBQThJLE1BQ0F3UixFQUFBdGEsRUFBQStJLE1BS0EsTUFJQSxLQUFBc1IsRUFBQTNSLEdBQUE0UixFQUFBM1IsRUFFQTNJLEVBQUE0SSxLQUFBRixFQUVBMUksRUFBQTZJLEtBQUEwUixLQUFBQyxNQUFBLEVBQUF4YSxFQUFBK0ssT0FBQSxHQUFBL0ssRUFBQTRJLE1BRUFELEVBQUEzSSxFQUFBNkksS0FFQSxNQUlBLEtBQUF3UixHQUFBM1IsR0FBQTRSLEVBQUEzUixFQUVBQSxFQUFBM0ksRUFBQTZJLEtBQUE3SSxFQUFBK0ksTUFFQS9JLEVBQUE0SSxLQUFBNUksRUFBQThJLE1BS0EsTUFHQSxLQUFBdVIsRUFBQTNSLEdBQUE0UixFQUFBM1IsRUFFQTNJLEVBQUE0SSxLQUFBRixFQUVBMUksRUFBQTZJLEtBQUEwUixLQUFBQyxNQUFBLEVBQUF4YSxFQUFBK0ssT0FBQSxHQUFBL0ssRUFBQTRJLE1BRUFELEVBQUEzSSxFQUFBNkksTUFXQSxTQUFBRixFQUFBQyxFQUFBQyxHQUtBLElBQUE0UixFQUNBQyxFQUlBN1IsR0FOQSxJQVFBNFIsR0FEQTlSLEVBUEEsS0FRQSxLQUdBQSxFQUFBRSxFQUNBNFIsRUFBQTVSLEVBQUEsS0FFQTZSLEVBQUFELEVBQ0EvakIsU0FBQXVJLGNBQUErRCxFQUFBQyxRQUFBdkgsTUFBQTZOLE1BQUFYLEVBQUEsS0FDQWxTLFNBQUF1SSxjQUFBK0QsRUFBQUMsUUFBQXZILE1BQUE4TixPQUFBWCxFQUFBLEtBQ0FuUyxTQUFBdUksY0FBQStELEVBQUFFLFdBQUF4SCxNQUFBOE4sT0FBQWIsRUFBQSxLQUNBalMsU0FBQXVJLGNBQUErRCxFQUFBRyxhQUFBekgsTUFBQThOLE9BQUFpUixFQUFBLEtBQ0EvakIsU0FBQXVJLGNBQUErRCxFQUFBSSxjQUFBMUgsTUFBQThOLE9BQUFrUixFQUFBLEtBRUE1RCxFQUFBck0sa0JBN0JBa1EsQ0FBQWhTLEVBQUEzSSxFQUFBNEksS0FBQTVJLEVBQUE2SSxNQXNDQSxTQUFBK1IsSUFFQSxJQUFBNWEsRUFBQWtLLEVBQUFRLGlCQUNBLElBQUFtUSxFQUFBQyxFQUFBMUwsRUFJQSxHQUZBMVksU0FBQXVJLGNBQUFvRSxFQUFBRyxjQUFBOEQsVUFBQXlULE9BQUEsVUFFQXJrQixTQUFBdUksY0FBQW9FLEVBQUFHLGNBQUE4RCxVQUFBNFIsU0FBQSxVQUFBLENBSUEyQixFQUFBLENBQUFqWCxFQUFBRyxvQ0FBQUgsRUFBQU0sK0JBQUFOLEVBQUEwQixtQ0FDQXdWLEVBQUEsR0FDQSxJQUFBLElBQUExbkIsRUFBQSxFQUFBQSxFQUFBeW5CLEVBQUFwbkIsT0FBQUwsSUFDQXNELFNBQUF1SSxjQUFBNGIsRUFBQXpuQixJQUFBK0IsaUJBQUEsUUFBQTZsQixHQUFBLEdBSUEsSUFBQUMsRUFBQSxDQUFBLDJCQUFBLDJCQUFBLDJCQUFBLDhCQUNBLElBQUEsSUFBQTduQixFQUFBLEVBQUFBLEVBQUE2bkIsRUFBQXhuQixPQUFBTCxJQUNBc0QsU0FBQXVJLGNBQUFnYyxFQUFBN25CLElBQUFzSSxNQUFBcU8sUUFBQSxPQUlBcUYsRUFBQTFZLFNBQUF1SSxjQUFBLG1DQUNBbVEsRUFBQThMLFFBR0F4a0IsU0FBQXVJLGNBQUEyRSxFQUFBd0Isa0JBQUEzUCxNQUFBLEdBQUF1SyxFQUFBNEksS0FFQWxTLFNBQUF1SSxjQUFBMkUsRUFBQTRCLHlCQUFBL1AsTUFBQSxHQUFBdUssRUFBQTBJLFFBQ0FoUyxTQUFBdUksY0FBQTJFLEVBQUEyQix5QkFBQTlQLE1BQUEsZUFRQSxTQUFBdWxCLEVBQUF2RixHQUVBLElBQ0EwRixFQUFBQyxFQURBL2lCLEVBQUE2UixFQUFBUSxpQkFJQTJRLEVBQUEsR0FpQkEsR0FYQUYsR0FEQUEsR0FEQUEsRUFBQTFGLEVBQUEzZ0IsT0FBQWtYLElBQ0E2QyxRQUFBLE1BQUEsUUFDQUEsUUFBQSxNQUFBLFFBQ0F1TSxFQUFBMWtCLFNBQUFvaEIsZUFBQXFELElBQ0FoUCxRQUFBaVAsRUFBQWpQLFNBQUEsRUFBQWlQLEVBQUFqUCxTQUFBLEVBTUF6VixTQUFBdUksY0FBQTJFLEVBQUE0Qix5QkFBQS9QLE1BQUEsR0FBQTRDLEVBQUFxUSxRQUNBaFMsU0FBQXVJLGNBQUEyRSxFQUFBMkIseUJBQUE5UCxNQUFBLGNBRUEsMkNBQUEybEIsRUFBQXBQLEdBRUEsR0FEQXFQLEVBQUEsQ0FBQSwyQkFBQSwyQkFBQSwyQkFBQSw4QkFDQUQsRUFBQWpQLFFBQ0EsSUFBQSxJQUFBL1ksRUFBQSxFQUFBQSxFQUFBaW9CLEVBQUE1bkIsT0FBQUwsSUFDQXNELFNBQUF1SSxjQUFBb2MsRUFBQWpvQixJQUFBc0ksTUFBQXFPLFFBQUEsYUFHQSxJQUFBLElBQUEzVyxFQUFBLEVBQUFBLEVBQUFpb0IsRUFBQTVuQixPQUFBTCxJQUNBc0QsU0FBQXVJLGNBQUFvYyxFQUFBam9CLElBQUFzSSxNQUFBcU8sUUFBQSxPQVNBLFNBQUF1UixFQUFBN0YsR0FFQSxJQUFBOEYsRUFBQSxHQVlBLEdBWEFBLEVBQUEsR0FBQTdrQixTQUFBdUksY0FBQWdILEVBQUFJLDJCQUNBa1YsRUFBQSxHQUFBN2tCLFNBQUF1SSxjQUFBZ0gsRUFBQUssMkJBQ0FpVixFQUFBLEdBQUE3a0IsU0FBQXVJLGNBQUFnSCxFQUFBTSwyQkFDQWdWLEVBQUEsR0FBQTdrQixTQUFBdUksY0FBQWdILEVBQUFPLDBCQUNBK1UsRUFBQSxHQUFBN2tCLFNBQUF1SSxjQUFBZ0gsRUFBQVEsMEJBQ0E4VSxFQUFBLEdBQUE3a0IsU0FBQXVJLGNBQUFnSCxFQUFBUywwQkFDQTZVLEVBQUEsR0FBQTdrQixTQUFBdUksY0FBQWdILEVBQUFVLDZCQUNBNFUsRUFBQSxHQUFBN2tCLFNBQUF1SSxjQUFBZ0gsRUFBQVcsNkJBQ0EyVSxFQUFBLEdBQUE3a0IsU0FBQXVJLGNBQUFnSCxFQUFBWSw2QkFHQSxJQUFBNE8sRUFBQTNnQixPQUFBa1gsSUFBQXBJLEVBQUFDLGVBQ0EsSUFBQSxJQUFBelEsRUFBQSxFQUFBQSxHQUFBLEVBQUFBLElBQ0FYLEtBQUFnRCxNQUFBOGxCLEVBQUFub0IsR0FBQWtVLFVBQUFDLElBQUEsVUFBQWdVLEVBQUFub0IsR0FBQWtVLFVBQUFJLE9BQUEsZUFFQSxHQUFBLElBQUErTixFQUFBM2dCLE9BQUFrWCxLQUFBcEksRUFBQU8sY0FFQSxJQUFBLElBQUEvUSxFQUFBLEVBQUFBLEdBQUEsRUFBQUEsSUFDQVgsS0FBQWdELE1BQUE4bEIsRUFBQW5vQixHQUFBa1UsVUFBQUMsSUFBQSxVQUFBZ1UsRUFBQW5vQixHQUFBa1UsVUFBQUksT0FBQSxlQUVBLEdBQUEsSUFBQStOLEVBQUEzZ0IsT0FBQWtYLEtBQUFwSSxFQUFBc0IsaUJBRUEsSUFBQSxJQUFBOVIsRUFBQSxFQUFBQSxHQUFBLEVBQUFBLElBQ0FYLEtBQUFnRCxNQUFBOGxCLEVBQUFub0IsR0FBQWtVLFVBQUFDLElBQUEsVUFBQWdVLEVBQUFub0IsR0FBQWtVLFVBQUFJLE9BQUEsVUEySEEsU0FBQThULElBR0EsSUFFQUMsRUFGQUMsRUFBQXBwQixPQUFBcXBCLFNBQUE3SyxLQUFBLGFBQUEsRUFLQTJLLEVBQUFucEIsT0FBQXNwQixLQUFBRixFQUFBLGVBQ0Esc0tBNkJBLFNBQUFqRCxFQUFBck0sR0FDQSxJQUFBeVAsRUFBQSxDQUNBblQsUUFBQSxrQkFDQUUsS0FBQSxtQkFDQUMsS0FBQSxvQkFDQUcsU0FBQSx3QkFDQUMsU0FBQSx5QkFLQSxPQUZBcFQsT0FBQWltQixLQUFBRCxHQUFBRSxLQUFBOWhCLEdBQUE0aEIsRUFBQTVoQixLQUFBbVMsR0E4RUEsT0FoNUJBMVYsU0FBQXZCLGlCQUFBLG9CQUFBLFdBSUEsTUFBQTZtQixFQUFBdGxCLFNBQUF1SSxjQUFBLFNBRUF2SSxTQUFBdkIsaUJBQUEsV0FBQSxTQUFBc2dCLEdBQ0FBLEVBQUF3RyxRQUFBeEcsRUFBQUssVUFFQWtHLEVBQUExVSxVQUFBQyxJQUFBLG9CQXRaQSxXQUdBLFNBQUEyVSxFQUFBQyxFQUFBM1EsRUFBQTRRLEVBQUFDLEdBR0FGLEVBQUFobkIsaUJBQUFxVyxFQUFBNFEsRUFBQUMsR0FHQSxJQUFBQyxFQUFBem1CLE9BQUF5VixPQUFBbEosR0FDQSxJQUFBa1csRUFDQSxJQUFBLElBQUFsbEIsRUFBQSxFQUFBQSxFQUFBa3BCLEVBQUE3b0IsT0FBQUwsSUFFQWtsQixFQUFBNWhCLFNBQUF1SSxjQUFBcWQsRUFBQWxwQixJQUVBOG9CLEVBQUE1RCxFQUFBLGFBQUF2QixHQUFBLEdBR0EsSUFBQXdGLEVBQUExbUIsT0FBQXlWLE9BQUFySyxHQUNBLElBQUEsSUFBQTdOLEVBQUEsRUFBQUEsRUFBQW1wQixFQUFBOW9CLE9BQUFMLElBRUFrbEIsRUFBQTVoQixTQUFBdUksY0FBQXNkLEVBQUFucEIsSUFFQThvQixFQUFBNUQsRUFBQSxhQUFBdkIsR0FBQSxHQUdBLElBQUF5RixFQUFBM21CLE9BQUF5VixPQUFBOUosR0FDQSxJQUFBLElBQUFwTyxFQUFBLEVBQUFBLEVBQUFvcEIsRUFBQS9vQixPQUFBTCxJQUVBa2xCLEVBQUE1aEIsU0FBQXVJLGNBQUF1ZCxFQUFBcHBCLElBRUE4b0IsRUFBQTVELEVBQUEsYUFBQXZCLEdBQUEsR0FJQSxJQUFBMEYsRUFBQTVtQixPQUFBeVYsT0FBQTFILEdBQ0EsSUFBQSxJQUFBeFEsRUFBQSxFQUFBQSxFQUFBcXBCLEVBQUFocEIsT0FBQUwsSUFDQWtsQixFQUFBNWhCLFNBQUF1SSxjQUFBd2QsRUFBQXJwQixJQUVBOG9CLEVBQUE1RCxFQUFBLGFBQUF2QixHQUFBLEdBSUEsSUFBQTJGLEVBQUFDLEVBRUEsSUFBQSxJQUFBdnBCLEVBQUEsRUFBQUEsRUFBQXFwQixFQUFBaHBCLE9BQUFMLElBQ0FzcEIsRUFBQUQsRUFBQXJwQixHQUVBc3BCLEVBQUFsVixTQUFBLGFBRUFrVixFQUFBQSxFQUFBN04sUUFBQSxRQUFBLElBRUE2TixFQUFBQSxFQUFBN04sUUFBQSxZQUFBLFVBR0E2TixHQUFBLFNBR0FDLEVBQUFqbUIsU0FBQXVJLGNBQUF5ZCxHQUVBUixFQUFBUyxFQUFBLGFBQUE1RixHQUFBLEdBR0EsSUFBQTZGLEVBQUEvbUIsT0FBQXlWLE9BQUFyRixHQUNBLElBQUEsSUFBQTdTLEVBQUEsRUFBQUEsRUFBQXdwQixFQUFBbnBCLE9BQUFMLElBQ0FrbEIsRUFBQTVoQixTQUFBdUksY0FBQTJkLEVBQUF4cEIsSUFDQThvQixFQUFBNUQsRUFBQSxhQUFBdkIsR0FBQSxHQXNWQThGLE9BR0FubUIsU0FBQXZCLGlCQUFBLFNBQUEsU0FBQXNnQixHQUdBLEdBQUFBLEVBQUF3RyxRQUFBeEcsRUFBQUssUUFBQSxDQUNBLElBQUFnSCxFQUFBcFosRUFDQUEsRUFBQWhOLFNBQUF1SSxjQUFBb0UsRUFBQUssWUFDQXNZLEVBQUExVSxVQUFBSSxPQUFBLG9CQUVBb1YsRUFBQXBtQixTQUFBdUksY0FBQTZILEVBQUFDLFlBQ0ErVixFQUFBblMsVUFBQSxHQUNBakgsRUFBQTRELFVBQUE0UixTQUFBLFdBQUF4VixFQUFBNEQsVUFBQUksT0FBQSxVQS9WQSxXQUdBLFNBQUFxVixFQUFBWixFQUFBM1EsRUFBQTRRLEVBQUFDLEdBR0FGLEVBQUE5bUIsb0JBQUFtVyxFQUFBNFEsRUFBQUMsR0FHQSxJQUFBQyxFQUFBem1CLE9BQUF5VixPQUFBbEosR0FDQSxJQUFBa1csRUFDQSxJQUFBLElBQUFsbEIsRUFBQSxFQUFBQSxFQUFBa3BCLEVBQUE3b0IsT0FBQUwsSUFFQWtsQixFQUFBNWhCLFNBQUF1SSxjQUFBcWQsRUFBQWxwQixJQUdBMnBCLEVBQUF6RSxFQUFBLGFBQUF2QixHQUFBLEdBR0EsSUFBQXdGLEVBQUExbUIsT0FBQXlWLE9BQUFySyxHQUNBLElBQUEsSUFBQTdOLEVBQUEsRUFBQUEsRUFBQW1wQixFQUFBOW9CLE9BQUFMLElBRUFrbEIsRUFBQTVoQixTQUFBdUksY0FBQXNkLEVBQUFucEIsSUFFQTJwQixFQUFBekUsRUFBQSxhQUFBdkIsR0FBQSxHQUdBLElBQUF5RixFQUFBM21CLE9BQUF5VixPQUFBOUosR0FDQSxJQUFBLElBQUFwTyxFQUFBLEVBQUFBLEVBQUFvcEIsRUFBQS9vQixPQUFBTCxJQUVBa2xCLEVBQUE1aEIsU0FBQXVJLGNBQUF1ZCxFQUFBcHBCLElBRUEycEIsRUFBQXpFLEVBQUEsYUFBQXZCLEdBQUEsR0FJQSxJQUFBMEYsRUFBQTVtQixPQUFBeVYsT0FBQTFILEdBQ0EsSUFBQSxJQUFBeFEsRUFBQSxFQUFBQSxFQUFBcXBCLEVBQUFocEIsT0FBQUwsSUFDQWtsQixFQUFBNWhCLFNBQUF1SSxjQUFBd2QsRUFBQXJwQixJQUVBMnBCLEVBQUF6RSxFQUFBLGFBQUF2QixHQUFBLEdBSUEsSUFBQTJGLEVBQUFDLEVBRUEsSUFBQSxJQUFBdnBCLEVBQUEsRUFBQUEsRUFBQXFwQixFQUFBaHBCLE9BQUFMLElBQ0FzcEIsRUFBQUQsRUFBQXJwQixHQUVBc3BCLEVBQUFsVixTQUFBLGFBRUFrVixFQUFBQSxFQUFBN04sUUFBQSxRQUFBLElBRUE2TixFQUFBQSxFQUFBN04sUUFBQSxZQUFBLFVBR0E2TixHQUFBLFNBR0FDLEVBQUFqbUIsU0FBQXVJLGNBQUF5ZCxHQUVBSyxFQUFBSixFQUFBLGFBQUE1RixHQUFBLEdBR0EsSUFBQTZGLEVBQUEvbUIsT0FBQXlWLE9BQUFyRixHQUNBLElBQUEsSUFBQTdTLEVBQUEsRUFBQUEsRUFBQXdwQixFQUFBbnBCLE9BQUFMLElBQ0FrbEIsRUFBQTVoQixTQUFBdUksY0FBQTJkLEVBQUF4cEIsSUFDQTJwQixFQUFBekUsRUFBQSxhQUFBdkIsR0FBQSxHQTZSQWlHLFVBdTNCQSxDQUdBN1MsbUJBQUEsV0FDQThOLEtBSUE3TixZQUFBLFdBQ0F3USxLQVFBdEgsa0JBQUEsU0FBQTlILEdBSUEsSUFBQW9PLEVBQUFxRCxFQUFBQyxFQUFBQyxFQUFBL1YsRUFBQUMsRUFBQStWLEVBRUF4RCxFQUFBcE8sRUFFQSxpQkFBQSxJQUVBbkUsRUFBQSxJQUFBbUUsRUFBQTFXLE9BQUFrWCxHQUVBNE4sRUFBQSxPQUFBcE8sRUFBQTFXLE9BQUFrWCxHQUFBNkMsUUFBQSxNQUFBLEtBQ0FvTyxFQUFBLE9BR0E3VixFQUFBLElBQUF3UyxFQUFBdGhCLE1BQUEsRUFBQSxHQUFBLFdBRUE0a0IsRUFsUkEsU0FBQXRELEdBQ0EsSUFBQTVaLEVBSUFrZCxFQUhBbGQsRUFBQWtLLEVBQUFRLGlCQUtBd1MsRUFBQSxHQUVBLE1BQUFHLEVBQUEsQ0FFQUMsZ0JBQUEsb0NBRUFDLGdCQUFBLHlFQUNBQyxvQkFBQSxtRUFBQXhkLEVBQUEwSSxnREFDQStVLHFCQUFBLHdDQUNBQyx3QkFBQSwrRUFBQTFkLEVBQUEwSSxZQUVBaVYsOEJBQUEsaUVBQ0FDLG1CQUFBLGtFQUNBQyx1QkFBQSwyREFDQUMsOEJBQUEsc0ZBSUFDLG9CQUFBLHlJQUNBQyxtQkFBQSwySkFDQUMsbUJBQUEsc0tBQ0FDLG1CQUFBLHFLQUNBQyxxQkFBQSx1SkFDQUMsc0JBQUEsdUpBQ0FDLG1CQUFBLHFFQUNBQyxtQkFBQSxzRUFDQUMsbUJBQUEsc0VBQ0FDLDBCQUFBLDhFQUNBQywwQkFBQSwrRUFDQUMsMkJBQUEsMEtBQ0FDLGlDQUFBLGtKQUNBQyxrQ0FBQSxxSkFDQUMsd0JBQUEsNkpBQ0FDLHFCQUFBLGtFQUNBQywyQkFBQSxnS0FDQUMsaUNBQUEsa0pBQ0FDLGtDQUFBLHFKQUNBQywyQkFBQSxpS0FDQUMsaUNBQUEsa0pBQ0FDLGtDQUFBLHFKQUNBQyxxQkFBQSw2TEFDQUMseUJBQUEscUVBQ0FDLHdCQUFBLG9FQUNBQywyQkFBQSx1RUFDQUMsc0JBQUEsMENBQ0FDLDRCQUFBLDBDQUNBQyxzQkFBQSx1R0FDQUMsNEJBQUEsdUdBQ0FDLHdCQUFBLHFIQUNBQyw4QkFBQSxxSEFDQUMsb0JBQUEsd0hBQ0FDLDBCQUFBLHdIQUNBQyxpQ0FBQSx1R0FDQUMsdUNBQUEsdUdBQ0FDLDJCQUFBLCtHQUNBQyxpQ0FBQSwrR0FDQUMscUJBQUEsMERBQ0FDLDJCQUFBLDBEQUNBQyxzQkFBQSwwREFDQUMsNEJBQUEsMERBQ0FDLHFCQUFBLG1HQUNBQywyQkFBQSxvR0FDQUMsdUJBQUEsNEpBQ0FDLDZCQUFBLHVKQUNBQyxxQkFBQSxNQUNBQywyQkFBQSxNQUNBQywwQkFBQSxNQUNBQyxnQ0FBQSxNQUNBQyx5QkFBQSxNQUNBQyw4QkFBQSxNQUNBQyx1QkFBQSxNQUNBQyw2QkFBQSxNQUNBQyx5QkFBQSxNQUNBQywrQkFBQSxNQUNBQyx3QkFBQSxnSEFDQUMsOEJBQUEsZ0hBQ0FDLHdCQUFBLE1BQ0FDLDhCQUFBLE1BQ0FDLHdCQUFBLG9FQUNBQyw4QkFBQSxvRUFDQUMsMEJBQUEsc0tBQ0FDLGdDQUFBLGlLQUNBQyw4QkFBQSxNQUNBQyxvQ0FBQSxNQUNBQyxnQ0FBQSx1RkFDQUMsc0NBQUEsc0ZBQ0FDLGdDQUFBLE1BQ0FDLHNDQUFBLE1BQ0FDLGdDQUFBLHFFQUNBQyxzQ0FBQSxxRUFDQUMsa0NBQUEsdUtBQ0FDLGdEQUFBLG1LQUdBLElBQUEsSUFBQXZvQixFQUFBeEUsS0FBQUksT0FBQW1kLFFBQUFxSyxHQUNBcGpCLElBQUEyZixJQUNBc0QsRUFBQXpuQixHQUdBLE9BQUF5bkIsRUF3S0FHLENBQUF6RCxHQUdBLFFBQUFBLEVBQUF0aEIsTUFBQSxFQUFBLElBQ0E2a0IsRUFBQSxLQUNBRixFQUFBLE9BQ0EsUUFBQXJELEVBQUF0aEIsTUFBQSxFQUFBLEtBQ0E2a0IsRUFBQSxJQUNBRixFQUFBLE9BS0F2bUIsU0FBQXVJLGNBQUFtSSxHQUFBdUQsVUFBQXVTLEVBRUEsUUFBQUQsRUFFQWhkLEVBQUFpSCxvQkFBQSxFQUFBRSxFQUFBQyxHQUdBcEgsRUFBQWlILG9CQUFBLEVBQUFFLEdBQUEsR0FHQSxRQUFBNlYsR0FBQSxRQUFBQSxJQUNBRyxFQUFBdFQsV0FBQSxLQUlBN0osRUFBQWlILG9CQUFBLEVBQUFFLEdBQUEsSUFDQStWLEtBVUF6UyxlQUFBLFdBRUEsT0F6SEEsV0FFQSxJQTdCQStYLEVBQUFDLEVBZUFDLEVBZEFDLEVBQ0FDLEVBMkJBN2lCLEVBQUEsR0FPQSxPQU5BQSxFQUFBQyxFQUFBc0ksb0JBR0F3QyxRQWpDQTBYLEVBaUNBemlCLEVBQUE4SSxNQWpDQTRaLEVBaUNBMWlCLEVBQUErSSxNQWhDQTZaLEVBQUFILEVBQUFDLEVBY0FDLEVBVkEsU0FBQUYsRUFBQUMsR0FBQSxHQUFBQSxFQUFBRCxFQUFBLENBRUEsSUFBQUssRUFBQUwsRUFDQUEsRUFBQUMsRUFDQUEsRUFBQUksRUFBQSxLQUFBLEdBQUFKLEdBQUEsQ0FFQSxJQUFBSyxFQUFBTixFQUFBQyxFQUNBRCxFQUFBQyxFQUNBQSxFQUFBSyxFQUNBLE9BQUFOLEVBQ0FPLENBQUFQLEVBQUFDLEdBYkFHLEVBa0JBQSxFQUhBSixFQUFBRSxFQUdBLE1BRkFELEVBQUFDLEVBS0EsQ0FBQUMsRUFBQUMsSUFXQTdpQixFQUFBNkssU0FBQTBQLEtBQUFDLE1BQUF4YSxFQUFBZ0osVUFBQSxFQUFBaEosRUFBQStLLE9BQUEsS0FDQS9LLEVBQUE4SyxTQUFBeVAsS0FBQUMsTUFBQXhhLEVBQUFpSixVQUFBLEVBQUFqSixFQUFBK0ssT0FBQSxLQUNBL0ssRUErR0FpakIsSUFNQXRKLGdCQUFBLFdBRUEsSUFBQXRQLEVBQUEsR0FBQW9QLEVBQUEsR0FJQXBQLEVBQUEsQ0FBQSxVQUFBLFdBQUEsWUFDQSxJQUFBLElBQUFqWCxFQUFBLEVBQUFBLEVBQUFpWCxFQUFBNVcsT0FBQUwsSUFDQW1YLGFBQUFDLFFBQUFILEVBQUFqWCxJQUFBcW1CLEVBQUF6aEIsS0FBQXVTLGFBQUFDLFFBQUFILEVBQUFqWCxLQUFBcW1CLEVBQUF6aEIsTUFBQSxHQUlBLE9BQUF5aEIsR0FJQXlKLEtBQUEsV0FJQSxJQUFBQyxFQUFBdFosRUFFQXNaLEVBQUE3d0IsT0FBQXFwQixTQUFBN0ssS0FFQSxTQUFBcVMsRUFBQXJYLFVBQUFxWCxFQUFBMXZCLE9BQUEsS0FDQWlELFNBQUF1SSxjQUFBLHFCQUFBdkQsTUFBQXFPLFFBQUEsT0FDQXJULFNBQUF1SSxjQUFBLHVCQUFBdkQsTUFBQXFPLFFBQUEsT0FDQXJULFNBQUF1SSxjQUFBLG9CQUFBdkQsTUFBQXFPLFFBQUEsUUFJQXJULFNBQUF1SSxjQUFBb0UsRUFBQUcsY0FBQThELFVBQUFJLE9BQUEsVUEvdkNBLFdBS0EsSUFBQXBFLEVBQUE1TSxTQUFBdUksY0FBQStELEVBQUFJLGNBYUEsU0FBQThZLEVBQUFDLEVBQUEzUSxFQUFBNFEsRUFBQUMsR0FHQUYsRUFBQWhuQixpQkFBQXFXLEVBQUE0USxFQUFBQyxHQWZBL1ksRUFBQW5PLGlCQUFBLFdBQUFnakIsR0FBQSxHQUdBN1UsRUFBQW5PLGlCQUFBLE9BQUE2aEIsR0FBQSxHQUtBdGdCLFNBQUF1SSxjQUFBb0UsRUFBQU0sZUFDQXhPLGlCQUFBLFFBQUFxbUIsR0FBQSxHQVlBLE1BQUE0SCxFQUFBLENBQUFoaEIsRUFBQUUsYUFBQUYsRUFBQUcsYUFBQUgsRUFBQUksYUFBQUosRUFBQVMsYUFBQVQsRUFBQVEsYUFBQVIsRUFBQU8sY0FDQSxJQUFBLElBQUF2UCxFQUFBLEVBQUFBLEVBQUFnd0IsRUFBQTN2QixPQUFBTCxJQUVBZ3dCLEVBQUFod0IsR0FBQXNELFNBQUF1SSxjQUFBbWtCLEVBQUFod0IsSUFDQThvQixFQUFBa0gsRUFBQWh3QixHQUFBLFFBQUF1bEIsR0FBQSxHQUlBLE1BQUEwSyxFQUFBLENBQUFqaEIsRUFBQUMsY0FBQUQsRUFBQVUsbUJBQUFWLEVBQUFXLG9CQUNBLElBQUEsSUFBQTNQLEVBQUEsRUFBQUEsRUFBQWl3QixFQUFBNXZCLE9BQUFMLElBRUFpd0IsRUFBQWp3QixHQUFBc0QsU0FBQXVJLGNBQUFva0IsRUFBQWp3QixJQUNBOG9CLEVBQUFtSCxFQUFBandCLEdBQUEsUUFBQXNsQixHQUFBLEdBSUEsTUFBQTRLLEVBQUEsQ0FBQWxoQixFQUFBQyxjQUFBRCxFQUFBSyxlQUFBTCxFQUFBTSxnQkFBQU4sRUFBQVUsbUJBQUFWLEVBQUFXLG9CQUNBLElBQUEsSUFBQTNQLEVBQUEsRUFBQUEsRUFBQWt3QixFQUFBN3ZCLE9BQUFMLElBRUFrd0IsRUFBQWx3QixHQUFBc0QsU0FBQXVJLGNBQUFxa0IsRUFBQWx3QixJQUVBOG9CLEVBQUFvSCxFQUFBbHdCLEdBQUEsVUFBQTZsQixHQUFBLEdBQ0FpRCxFQUFBb0gsRUFBQWx3QixHQUFBLFFBQUFvbUIsR0FBQSxHQUNBMEMsRUFBQW9ILEVBQUFsd0IsR0FBQSxRQUFBaWxCLEdBQUEsR0FDQTZELEVBQUFvSCxFQUFBbHdCLEdBQUEsT0FBQW1sQixHQUFBLEdBSUEsTUFBQWdMLEVBQUEsQ0FBQXRpQixFQUFBQyxvQkFBQUQsRUFBQUksb0JBQUFKLEVBQUFLLG9CQUFBRSxFQUFBQyx5QkFBQUQsRUFBQUUsMEJBQUFGLEVBQUFNLHlCQUFBTixFQUFBTywwQkFBQVAsRUFBQVEseUJBQUFSLEVBQUFTLDJCQUVBLElBQUEsSUFBQTdPLEVBQUEsRUFBQUEsRUFBQW13QixFQUFBOXZCLE9BQUFMLElBRUFtd0IsRUFBQW53QixHQUFBc0QsU0FBQXVJLGNBQUFza0IsRUFBQW53QixJQUdBOG9CLEVBQUFxSCxFQUFBbndCLEdBQUEsUUFBQTZZLEVBQUF5SixhQUFBLEdBSUEsTUFBQThOLEVBQUEsQ0FBQXZpQixFQUFBQyxvQkFBQUQsRUFBQUksb0JBQUFKLEVBQUFLLG9CQUFBRSxFQUFBQyx5QkFBQUQsRUFBQUUsMEJBQUFGLEVBQUFNLHlCQUFBTixFQUFBTywwQkFBQVAsRUFBQVEseUJBQUFSLEVBQUFTLDJCQUVBLElBQUEsSUFBQTdPLEVBQUEsRUFBQUEsRUFBQW93QixFQUFBL3ZCLE9BQUFMLElBRUFvd0IsRUFBQXB3QixHQUFBc0QsU0FBQXVJLGNBQUF1a0IsRUFBQXB3QixJQUVBOG9CLEVBQUFzSCxFQUFBcHdCLEdBQUEsYUFBQTZZLEVBQUF3WCxXQUFBLEdBS0EsTUFBQUMsRUFBQSxDQUFBOWYsRUFBQUMsZUFBQUQsRUFBQU8sY0FBQVAsRUFBQXNCLGtCQUNBLElBQUEsSUFBQTlSLEVBQUEsRUFBQUEsRUFBQXN3QixFQUFBandCLE9BQUFMLElBRUFzd0IsRUFBQXR3QixHQUFBc0QsU0FBQXVJLGNBQUF5a0IsRUFBQXR3QixJQUNBOG9CLEVBQUF3SCxFQUFBdHdCLEdBQUEsUUFBQWtvQixHQUFBLEdBSUEsSUFBQXFJLEVBQUEsQ0FBQXpqQixFQUFBUSxjQUNBLElBQUEsSUFBQXROLEVBQUEsRUFBQUEsRUFBQXV3QixFQUFBbHdCLE9BQUFMLElBRUF1d0IsRUFBQXZ3QixHQUFBc0QsU0FBQXVJLGNBQUEwa0IsRUFBQXZ3QixJQUNBOG9CLEVBQUF5SCxFQUFBdndCLEdBQUEsUUFBQXduQixHQUFBLEdBSUEsSUFBQSxJQUFBeG5CLEtBQUE2UyxFQUFBLENBRUEsSUFBQTJkLEVBQ0EzZCxFQUFBNGQsZUFBQXp3QixLQUNBd3dCLEVBQUFsdEIsU0FBQXVJLGNBQUFnSCxFQUFBN1MsSUFDQThvQixFQUFBMEgsRUFBQSxRQUFBM1gsRUFBQXlKLGFBQUEsSUFLQSxJQUFBLElBQUF0aUIsS0FBQXdRLEVBQUEsQ0FDQSxJQUFBd0wsRUFFQSxTQUFBeEwsRUFBQXhRLEdBQUEwWSxVQUFBLEVBQUEsS0FDQXNELEVBQUExWSxTQUFBdUksY0FBQTJFLEVBQUF4USxJQUVBOG9CLEVBQUE5TSxFQUFBLFFBQUFuUCxFQUFBc0wsa0JBQUEsS0FtcENBdVksR0FHQXB0QixTQUFBdUksY0FBQStELEVBQUFDLFNBR0E0RyxFQUFBLFVBQ0FpTixFQUFBbE4sVUFFQUMsRUFBQSxVQUlBaU4sRUFBQWxOLE9BQUFDLEtBNTdDQSxDQWc4Q0FvQyxFQUFBaE0sR0FFQWlLLEVBQUFnWixPQWh1R0EsR0M3RUE1d0IsT0FBQXlOLFFBQUEsU0FBQTBWLEdBQ0EsSUFBQXNPLEVBQ0EsR0FBQSxpQkFBQXRPLEVBQUEzZ0IsT0FBQW9iLFVBQUEsQ0FFQTZULEVBQUFydEIsU0FBQWtVLHVCQUFBLFdBRUEsSUFBQSxJQUFBeFgsRUFBQSxFQUFBQSxFQUFBMndCLEVBQUF0d0IsT0FBQUwsSUFDQTJ3QixFQUFBM3dCLEdBQUFzSSxNQUFBcU8sUUFBQSxRQUdBLFlBQUEwTCxFQUFBM2dCLE9BQUFvYixZQUNBdUYsRUFBQTNnQixPQUFBNEcsTUFBQXFPLFFBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIGNsaXBib2FyZC5qcyB2MS41LjE2XHJcbiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanNcclxuICpcclxuICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGFcclxuICovXHJcbihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc31nLkNsaXBib2FyZCA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIERPQ1VNRU5UX05PREVfVFlQRSA9IDk7XHJcblxyXG4vKipcclxuICogQSBwb2x5ZmlsbCBmb3IgRWxlbWVudC5tYXRjaGVzKClcclxuICovXHJcbmlmIChFbGVtZW50ICYmICFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XHJcbiAgICB2YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcclxuXHJcbiAgICBwcm90by5tYXRjaGVzID0gcHJvdG8ubWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ubXNNYXRjaGVzU2VsZWN0b3IgfHxcclxuICAgICAgICAgICAgICAgICAgICBwcm90by5vTWF0Y2hlc1NlbGVjdG9yIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIGNsb3Nlc3QgcGFyZW50IHRoYXQgbWF0Y2hlcyBhIHNlbGVjdG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxyXG4gKi9cclxuZnVuY3Rpb24gY2xvc2VzdCAoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IERPQ1VNRU5UX05PREVfVFlQRSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSByZXR1cm4gZWxlbWVudDtcclxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGNsb3Nlc3Q7XHJcblxyXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxudmFyIGNsb3Nlc3QgPSByZXF1aXJlKCcuL2Nsb3Nlc3QnKTtcclxuXHJcbi8qKlxyXG4gKiBEZWxlZ2F0ZXMgZXZlbnQgdG8gYSBzZWxlY3Rvci5cclxuICpcclxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxlY3RvclxyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHVzZUNhcHR1cmVcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gZGVsZWdhdGUoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrLCB1c2VDYXB0dXJlKSB7XHJcbiAgICB2YXIgbGlzdGVuZXJGbiA9IGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyRm4sIHVzZUNhcHR1cmUpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lckZuLCB1c2VDYXB0dXJlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyBjbG9zZXN0IG1hdGNoIGFuZCBpbnZva2VzIGNhbGxiYWNrLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuZXIoZWxlbWVudCwgc2VsZWN0b3IsIHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUuZGVsZWdhdGVUYXJnZXQgPSBjbG9zZXN0KGUudGFyZ2V0LCBzZWxlY3Rvcik7XHJcblxyXG4gICAgICAgIGlmIChlLmRlbGVnYXRlVGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoZWxlbWVudCwgZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGRlbGVnYXRlO1xyXG5cclxufSx7XCIuL2Nsb3Nlc3RcIjoxfV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhcmd1bWVudCBpcyBhIEhUTUwgZWxlbWVudC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLm5vZGUgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50XHJcbiAgICAgICAgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBsaXN0IG9mIEhUTUwgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxyXG4gKiBAcmV0dXJuIHtCb29sZWFufVxyXG4gKi9cclxuZXhwb3J0cy5ub2RlTGlzdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWRcclxuICAgICAgICAmJiAodHlwZSA9PT0gJ1tvYmplY3QgTm9kZUxpc3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nKVxyXG4gICAgICAgICYmICgnbGVuZ3RoJyBpbiB2YWx1ZSlcclxuICAgICAgICAmJiAodmFsdWUubGVuZ3RoID09PSAwIHx8IGV4cG9ydHMubm9kZSh2YWx1ZVswXSkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGFyZ3VtZW50IGlzIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcclxuICogQHJldHVybiB7Qm9vbGVhbn1cclxuICovXHJcbmV4cG9ydHMuc3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXHJcbiAgICAgICAgfHwgdmFsdWUgaW5zdGFuY2VvZiBTdHJpbmc7XHJcbn07XHJcblxyXG4vKipcclxuICogQ2hlY2sgaWYgYXJndW1lbnQgaXMgYSBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHZhbHVlXHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAqL1xyXG5leHBvcnRzLmZuID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcclxufTtcclxuXHJcbn0se31dLDQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG52YXIgaXMgPSByZXF1aXJlKCcuL2lzJyk7XHJcbnZhciBkZWxlZ2F0ZSA9IHJlcXVpcmUoJ2RlbGVnYXRlJyk7XHJcblxyXG4vKipcclxuICogVmFsaWRhdGVzIGFsbCBwYXJhbXMgYW5kIGNhbGxzIHRoZSByaWdodFxyXG4gKiBsaXN0ZW5lciBmdW5jdGlvbiBiYXNlZCBvbiBpdHMgdGFyZ2V0IHR5cGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fEhUTUxDb2xsZWN0aW9ufE5vZGVMaXN0fSB0YXJnZXRcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuICogQHJldHVybiB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gbGlzdGVuKHRhcmdldCwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIGlmICghdGFyZ2V0ICYmICF0eXBlICYmICFjYWxsYmFjaykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBhcmd1bWVudHMnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWlzLnN0cmluZyh0eXBlKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpcy5mbihjYWxsYmFjaykpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlyZCBhcmd1bWVudCBtdXN0IGJlIGEgRnVuY3Rpb24nKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXMubm9kZSh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGUodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpcy5ub2RlTGlzdCh0YXJnZXQpKSB7XHJcbiAgICAgICAgcmV0dXJuIGxpc3Rlbk5vZGVMaXN0KHRhcmdldCwgdHlwZSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXMuc3RyaW5nKHRhcmdldCkpIHtcclxuICAgICAgICByZXR1cm4gbGlzdGVuU2VsZWN0b3IodGFyZ2V0LCB0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nLCBIVE1MRWxlbWVudCwgSFRNTENvbGxlY3Rpb24sIG9yIE5vZGVMaXN0Jyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgSFRNTCBlbGVtZW50XHJcbiAqIGFuZCByZXR1cm5zIGEgcmVtb3ZlIGxpc3RlbmVyIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBub2RlXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbk5vZGUobm9kZSwgdHlwZSwgY2FsbGJhY2spIHtcclxuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGNhbGxiYWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBsaXN0IG9mIEhUTUwgZWxlbWVudHNcclxuICogYW5kIHJldHVybnMgYSByZW1vdmUgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Tm9kZUxpc3R8SFRNTENvbGxlY3Rpb259IG5vZGVMaXN0XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3Rlbk5vZGVMaXN0KG5vZGVMaXN0LCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChub2RlTGlzdCwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBjYWxsYmFjayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBBZGQgYW4gZXZlbnQgbGlzdGVuZXIgdG8gYSBzZWxlY3RvclxyXG4gKiBhbmQgcmV0dXJucyBhIHJlbW92ZSBsaXN0ZW5lciBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IHNlbGVjdG9yXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAqIEByZXR1cm4ge09iamVjdH1cclxuICovXHJcbmZ1bmN0aW9uIGxpc3RlblNlbGVjdG9yKHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjaykge1xyXG4gICAgcmV0dXJuIGRlbGVnYXRlKGRvY3VtZW50LmJvZHksIHNlbGVjdG9yLCB0eXBlLCBjYWxsYmFjayk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGlzdGVuO1xyXG5cclxufSx7XCIuL2lzXCI6MyxcImRlbGVnYXRlXCI6Mn1dLDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5mdW5jdGlvbiBzZWxlY3QoZWxlbWVudCkge1xyXG4gICAgdmFyIHNlbGVjdGVkVGV4dDtcclxuXHJcbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ1NFTEVDVCcpIHtcclxuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSU5QVVQnIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICdURVhUQVJFQScpIHtcclxuICAgICAgICBlbGVtZW50LmZvY3VzKCk7XHJcbiAgICAgICAgZWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCBlbGVtZW50LnZhbHVlLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIHNlbGVjdGVkVGV4dCA9IGVsZW1lbnQudmFsdWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuXHJcbiAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsZW1lbnQpO1xyXG4gICAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICBzZWxlY3Rpb24uYWRkUmFuZ2UocmFuZ2UpO1xyXG5cclxuICAgICAgICBzZWxlY3RlZFRleHQgPSBzZWxlY3Rpb24udG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2VsZWN0ZWRUZXh0O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdDtcclxuXHJcbn0se31dLDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xyXG5mdW5jdGlvbiBFICgpIHtcclxuICAvLyBLZWVwIHRoaXMgZW1wdHkgc28gaXQncyBlYXNpZXIgdG8gaW5oZXJpdCBmcm9tXHJcbiAgLy8gKHZpYSBodHRwczovL2dpdGh1Yi5jb20vbGlwc21hY2sgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vc2NvdHRjb3JnYW4vdGlueS1lbWl0dGVyL2lzc3Vlcy8zKVxyXG59XHJcblxyXG5FLnByb3RvdHlwZSA9IHtcclxuICBvbjogZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBjdHgpIHtcclxuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcblxyXG4gICAgKGVbbmFtZV0gfHwgKGVbbmFtZV0gPSBbXSkpLnB1c2goe1xyXG4gICAgICBmbjogY2FsbGJhY2ssXHJcbiAgICAgIGN0eDogY3R4XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICBvbmNlOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2ssIGN0eCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIgKCkge1xyXG4gICAgICBzZWxmLm9mZihuYW1lLCBsaXN0ZW5lcik7XHJcbiAgICAgIGNhbGxiYWNrLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcclxuICAgIH07XHJcblxyXG4gICAgbGlzdGVuZXIuXyA9IGNhbGxiYWNrXHJcbiAgICByZXR1cm4gdGhpcy5vbihuYW1lLCBsaXN0ZW5lciwgY3R4KTtcclxuICB9LFxyXG5cclxuICBlbWl0OiBmdW5jdGlvbiAobmFtZSkge1xyXG4gICAgdmFyIGRhdGEgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XHJcbiAgICB2YXIgZXZ0QXJyID0gKCh0aGlzLmUgfHwgKHRoaXMuZSA9IHt9KSlbbmFtZV0gfHwgW10pLnNsaWNlKCk7XHJcbiAgICB2YXIgaSA9IDA7XHJcbiAgICB2YXIgbGVuID0gZXZ0QXJyLmxlbmd0aDtcclxuXHJcbiAgICBmb3IgKGk7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBldnRBcnJbaV0uZm4uYXBwbHkoZXZ0QXJyW2ldLmN0eCwgZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfSxcclxuXHJcbiAgb2ZmOiBmdW5jdGlvbiAobmFtZSwgY2FsbGJhY2spIHtcclxuICAgIHZhciBlID0gdGhpcy5lIHx8ICh0aGlzLmUgPSB7fSk7XHJcbiAgICB2YXIgZXZ0cyA9IGVbbmFtZV07XHJcbiAgICB2YXIgbGl2ZUV2ZW50cyA9IFtdO1xyXG5cclxuICAgIGlmIChldnRzICYmIGNhbGxiYWNrKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBldnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGV2dHNbaV0uZm4gIT09IGNhbGxiYWNrICYmIGV2dHNbaV0uZm4uXyAhPT0gY2FsbGJhY2spXHJcbiAgICAgICAgICBsaXZlRXZlbnRzLnB1c2goZXZ0c1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZW1vdmUgZXZlbnQgZnJvbSBxdWV1ZSB0byBwcmV2ZW50IG1lbW9yeSBsZWFrXHJcbiAgICAvLyBTdWdnZXN0ZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL2xhemRcclxuICAgIC8vIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL3Njb3R0Y29yZ2FuL3RpbnktZW1pdHRlci9jb21taXQvYzZlYmZhYTliYzk3M2IzM2QxMTBhODRhMzA3NzQyYjdjZjk0Yzk1MyNjb21taXRjb21tZW50LTUwMjQ5MTBcclxuXHJcbiAgICAobGl2ZUV2ZW50cy5sZW5ndGgpXHJcbiAgICAgID8gZVtuYW1lXSA9IGxpdmVFdmVudHNcclxuICAgICAgOiBkZWxldGUgZVtuYW1lXTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IEU7XHJcblxyXG59LHt9XSw3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcclxuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcclxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xyXG4gICAgICAgIGRlZmluZShbJ21vZHVsZScsICdzZWxlY3QnXSwgZmFjdG9yeSk7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgZmFjdG9yeShtb2R1bGUsIHJlcXVpcmUoJ3NlbGVjdCcpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIG1vZCA9IHtcclxuICAgICAgICAgICAgZXhwb3J0czoge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZhY3RvcnkobW9kLCBnbG9iYWwuc2VsZWN0KTtcclxuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkQWN0aW9uID0gbW9kLmV4cG9ydHM7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9zZWxlY3QpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgX3NlbGVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZWxlY3QpO1xyXG5cclxuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogb2JqXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqO1xyXG4gICAgfSA6IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcclxuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICB9KCk7XHJcblxyXG4gICAgdmFyIENsaXBib2FyZEFjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZEFjdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmRBY3Rpb24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWZpbmVzIGJhc2UgcHJvcGVydGllcyBwYXNzZWQgZnJvbSBjb25zdHJ1Y3Rvci5cclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG5cclxuXHJcbiAgICAgICAgX2NyZWF0ZUNsYXNzKENsaXBib2FyZEFjdGlvbiwgW3tcclxuICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9wdGlvbnMnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9wdGlvbnMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlciA9IG9wdGlvbnMuZW1pdHRlcjtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIgPSBvcHRpb25zLnRyaWdnZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnaW5pdFNlbGVjdGlvbicsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0U2VsZWN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RmFrZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFyZ2V0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdEZha2UnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0RmFrZSgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGlzUlRMID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGlyJykgPT0gJ3J0bCc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVGYWtlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVGYWtlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlSGFuZGxlciA9IGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2spIHx8IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IHpvb21pbmcgb24gaU9TXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmZvbnRTaXplID0gJzEycHQnO1xyXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgYm94IG1vZGVsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlciA9ICcwJztcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUucGFkZGluZyA9ICcwJztcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luID0gJzAnO1xyXG4gICAgICAgICAgICAgICAgLy8gTW92ZSBlbGVtZW50IG91dCBvZiBzY3JlZW4gaG9yaXpvbnRhbGx5XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc3R5bGVbaXNSVEwgPyAncmlnaHQnIDogJ2xlZnQnXSA9ICctOTk5OXB4JztcclxuICAgICAgICAgICAgICAgIC8vIE1vdmUgZWxlbWVudCB0byB0aGUgc2FtZSBwb3NpdGlvbiB2ZXJ0aWNhbGx5XHJcbiAgICAgICAgICAgICAgICB2YXIgeVBvc2l0aW9uID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgd2luZG93LnNjcm9sbFRvKDAsIHlQb3NpdGlvbikpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5mYWtlRWxlbS5zdHlsZS50b3AgPSB5UG9zaXRpb24gKyAncHgnO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKCdyZWFkb25seScsICcnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFrZUVsZW0udmFsdWUgPSB0aGlzLnRleHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGV4dCA9ICgwLCBfc2VsZWN0Mi5kZWZhdWx0KSh0aGlzLmZha2VFbGVtKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAncmVtb3ZlRmFrZScsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVGYWtlKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFrZUhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZha2VFbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmZha2VFbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZha2VFbGVtID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnc2VsZWN0VGFyZ2V0JyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdFRhcmdldCgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gKDAsIF9zZWxlY3QyLmRlZmF1bHQpKHRoaXMudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29weVRleHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnY29weVRleHQnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29weVRleHQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3VjY2VlZGVkID0gdm9pZCAwO1xyXG5cclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VlZGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXN1bHQoc3VjY2VlZGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnaGFuZGxlUmVzdWx0JyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZVJlc3VsdChzdWNjZWVkZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5lbWl0KHN1Y2NlZWRlZCA/ICdzdWNjZXNzJyA6ICdlcnJvcicsIHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHRoaXMuYWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc2VsZWN0ZWRUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRoaXMudHJpZ2dlcixcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbjogdGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnY2xlYXJTZWxlY3Rpb24nLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5ibHVyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUZha2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnYWN0aW9uJyxcclxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAnY29weSc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aW9uID0gYWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hY3Rpb24gIT09ICdjb3B5JyAmJiB0aGlzLl9hY3Rpb24gIT09ICdjdXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwiYWN0aW9uXCIgdmFsdWUsIHVzZSBlaXRoZXIgXCJjb3B5XCIgb3IgXCJjdXRcIicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ3RhcmdldCcsXHJcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCAmJiAodHlwZW9mIHRhcmdldCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodGFyZ2V0KSkgPT09ICdvYmplY3QnICYmIHRhcmdldC5ub2RlVHlwZSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjb3B5JyAmJiB0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFBsZWFzZSB1c2UgXCJyZWFkb25seVwiIGluc3RlYWQgb2YgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hY3Rpb24gPT09ICdjdXQnICYmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdyZWFkb25seScpIHx8IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBcInRhcmdldFwiIHZhbHVlLCB1c2UgYSB2YWxpZCBFbGVtZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgICAgIHJldHVybiBDbGlwYm9hcmRBY3Rpb247XHJcbiAgICB9KCk7XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmRBY3Rpb247XHJcbn0pO1xyXG5cclxufSx7XCJzZWxlY3RcIjo1fV0sODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XHJcbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoWydtb2R1bGUnLCAnLi9jbGlwYm9hcmQtYWN0aW9uJywgJ3RpbnktZW1pdHRlcicsICdnb29kLWxpc3RlbmVyJ10sIGZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGZhY3RvcnkobW9kdWxlLCByZXF1aXJlKCcuL2NsaXBib2FyZC1hY3Rpb24nKSwgcmVxdWlyZSgndGlueS1lbWl0dGVyJyksIHJlcXVpcmUoJ2dvb2QtbGlzdGVuZXInKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBtb2QgPSB7XHJcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBmYWN0b3J5KG1vZCwgZ2xvYmFsLmNsaXBib2FyZEFjdGlvbiwgZ2xvYmFsLnRpbnlFbWl0dGVyLCBnbG9iYWwuZ29vZExpc3RlbmVyKTtcclxuICAgICAgICBnbG9iYWwuY2xpcGJvYXJkID0gbW9kLmV4cG9ydHM7XHJcbiAgICB9XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChtb2R1bGUsIF9jbGlwYm9hcmRBY3Rpb24sIF90aW55RW1pdHRlciwgX2dvb2RMaXN0ZW5lcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBfY2xpcGJvYXJkQWN0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NsaXBib2FyZEFjdGlvbik7XHJcblxyXG4gICAgdmFyIF90aW55RW1pdHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aW55RW1pdHRlcik7XHJcblxyXG4gICAgdmFyIF9nb29kTGlzdGVuZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ29vZExpc3RlbmVyKTtcclxuXHJcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IG9ialxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xyXG4gICAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xyXG4gICAgICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcclxuICAgICAgICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICB9KCk7XHJcblxyXG4gICAgZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkge1xyXG4gICAgICAgIGlmICghc2VsZikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XHJcbiAgICAgICAgICAgIGNvbnN0cnVjdG9yOiB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogc3ViQ2xhc3MsXHJcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIENsaXBib2FyZCA9IGZ1bmN0aW9uIChfRW1pdHRlcikge1xyXG4gICAgICAgIF9pbmhlcml0cyhDbGlwYm9hcmQsIF9FbWl0dGVyKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd8SFRNTEVsZW1lbnR8SFRNTENvbGxlY3Rpb258Tm9kZUxpc3R9IHRyaWdnZXJcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIENsaXBib2FyZCh0cmlnZ2VyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlwYm9hcmQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENsaXBib2FyZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENsaXBib2FyZCkpLmNhbGwodGhpcykpO1xyXG5cclxuICAgICAgICAgICAgX3RoaXMucmVzb2x2ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIF90aGlzLmxpc3RlbkNsaWNrKHRyaWdnZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZWZpbmVzIGlmIGF0dHJpYnV0ZXMgd291bGQgYmUgcmVzb2x2ZWQgdXNpbmcgaW50ZXJuYWwgc2V0dGVyIGZ1bmN0aW9uc1xyXG4gICAgICAgICAqIG9yIGN1c3RvbSBmdW5jdGlvbnMgdGhhdCB3ZXJlIHBhc3NlZCBpbiB0aGUgY29uc3RydWN0b3IuXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcclxuICAgICAgICAgKi9cclxuXHJcblxyXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDbGlwYm9hcmQsIFt7XHJcbiAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPcHRpb25zJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPcHRpb25zKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdHlwZW9mIG9wdGlvbnMuYWN0aW9uID09PSAnZnVuY3Rpb24nID8gb3B0aW9ucy5hY3Rpb24gOiB0aGlzLmRlZmF1bHRBY3Rpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldCA9IHR5cGVvZiBvcHRpb25zLnRhcmdldCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGFyZ2V0IDogdGhpcy5kZWZhdWx0VGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0ID0gdHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdGlvbnMudGV4dCA6IHRoaXMuZGVmYXVsdFRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ2xpc3RlbkNsaWNrJyxcclxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxpc3RlbkNsaWNrKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIgPSAoMCwgX2dvb2RMaXN0ZW5lcjIuZGVmYXVsdCkodHJpZ2dlciwgJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2soZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnb25DbGljaycsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyID0gZS5kZWxlZ2F0ZVRhcmdldCB8fCBlLmN1cnJlbnRUYXJnZXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbmV3IF9jbGlwYm9hcmRBY3Rpb24yLmRlZmF1bHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdGhpcy5hY3Rpb24odHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnRhcmdldCh0cmlnZ2VyKSxcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0aGlzLnRleHQodHJpZ2dlciksXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcclxuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyOiB0aGlzXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnZGVmYXVsdEFjdGlvbicsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0QWN0aW9uKHRyaWdnZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRBdHRyaWJ1dGVWYWx1ZSgnYWN0aW9uJywgdHJpZ2dlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGtleTogJ2RlZmF1bHRUYXJnZXQnLFxyXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVmYXVsdFRhcmdldCh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSBnZXRBdHRyaWJ1dGVWYWx1ZSgndGFyZ2V0JywgdHJpZ2dlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBrZXk6ICdkZWZhdWx0VGV4dCcsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWZhdWx0VGV4dCh0cmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QXR0cmlidXRlVmFsdWUoJ3RleHQnLCB0cmlnZ2VyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXHJcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpcGJvYXJkQWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkQWN0aW9uID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIENsaXBib2FyZDtcclxuICAgIH0oX3RpbnlFbWl0dGVyMi5kZWZhdWx0KTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byByZXRyaWV2ZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3VmZml4XHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlVmFsdWUoc3VmZml4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGF0dHJpYnV0ZSA9ICdkYXRhLWNsaXBib2FyZC0nICsgc3VmZml4O1xyXG5cclxuICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBDbGlwYm9hcmQ7XHJcbn0pO1xyXG5cclxufSx7XCIuL2NsaXBib2FyZC1hY3Rpb25cIjo3LFwiZ29vZC1saXN0ZW5lclwiOjQsXCJ0aW55LWVtaXR0ZXJcIjo2fV19LHt9LFs4XSkoOClcclxufSk7IiwiLyohXHJcbiAqIGNsaXBib2FyZC5qcyB2MS41LjE2XHJcbiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanNcclxuICpcclxuICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGFcclxuICovXHJcbiFmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5DbGlwYm9hcmQ9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZSx0LG47cmV0dXJuIGZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIG8oYSxjKXtpZighblthXSl7aWYoIXRbYV0pe3ZhciBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWMmJmwpcmV0dXJuIGwoYSwhMCk7aWYocilyZXR1cm4gcihhLCEwKTt2YXIgcz1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2ErXCInXCIpO3Rocm93IHMuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixzfXZhciB1PW5bYV09e2V4cG9ydHM6e319O3RbYV1bMF0uY2FsbCh1LmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFthXVsxXVtlXTtyZXR1cm4gbyhuP246ZSl9LHUsdS5leHBvcnRzLGUsdCxuLGkpfXJldHVybiBuW2FdLmV4cG9ydHN9Zm9yKHZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYT0wO2E8aS5sZW5ndGg7YSsrKW8oaVthXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlLHQpe2Zvcig7ZSYmZS5ub2RlVHlwZSE9PW87KXtpZihlLm1hdGNoZXModCkpcmV0dXJuIGU7ZT1lLnBhcmVudE5vZGV9fXZhciBvPTk7aWYoRWxlbWVudCYmIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpe3ZhciByPUVsZW1lbnQucHJvdG90eXBlO3IubWF0Y2hlcz1yLm1hdGNoZXNTZWxlY3Rvcnx8ci5tb3pNYXRjaGVzU2VsZWN0b3J8fHIubXNNYXRjaGVzU2VsZWN0b3J8fHIub01hdGNoZXNTZWxlY3Rvcnx8ci53ZWJraXRNYXRjaGVzU2VsZWN0b3J9dC5leHBvcnRzPWl9LHt9XSwyOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlLHQsbixpLHIpe3ZhciBhPW8uYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIobixhLHIpLHtkZXN0cm95OmZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4sYSxyKX19fWZ1bmN0aW9uIG8oZSx0LG4saSl7cmV0dXJuIGZ1bmN0aW9uKG4pe24uZGVsZWdhdGVUYXJnZXQ9cihuLnRhcmdldCx0KSxuLmRlbGVnYXRlVGFyZ2V0JiZpLmNhbGwoZSxuKX19dmFyIHI9ZShcIi4vY2xvc2VzdFwiKTt0LmV4cG9ydHM9aX0se1wiLi9jbG9zZXN0XCI6MX1dLDM6W2Z1bmN0aW9uKGUsdCxuKXtuLm5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJmUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCYmMT09PWUubm9kZVR5cGV9LG4ubm9kZUxpc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpO3JldHVybiB2b2lkIDAhPT1lJiYoXCJbb2JqZWN0IE5vZGVMaXN0XVwiPT09dHx8XCJbb2JqZWN0IEhUTUxDb2xsZWN0aW9uXVwiPT09dCkmJlwibGVuZ3RoXCJpbiBlJiYoMD09PWUubGVuZ3RofHxuLm5vZGUoZVswXSkpfSxuLnN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFN0cmluZ30sbi5mbj1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT09dH19LHt9XSw0OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlLHQsbil7aWYoIWUmJiF0JiYhbil0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50c1wiKTtpZighYy5zdHJpbmcodCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nXCIpO2lmKCFjLmZuKG4pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGlyZCBhcmd1bWVudCBtdXN0IGJlIGEgRnVuY3Rpb25cIik7aWYoYy5ub2RlKGUpKXJldHVybiBvKGUsdCxuKTtpZihjLm5vZGVMaXN0KGUpKXJldHVybiByKGUsdCxuKTtpZihjLnN0cmluZyhlKSlyZXR1cm4gYShlLHQsbik7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdHJpbmcsIEhUTUxFbGVtZW50LCBIVE1MQ29sbGVjdGlvbiwgb3IgTm9kZUxpc3RcIil9ZnVuY3Rpb24gbyhlLHQsbil7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcih0LG4pLHtkZXN0cm95OmZ1bmN0aW9uKCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9fX1mdW5jdGlvbiByKGUsdCxuKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLGZ1bmN0aW9uKGUpe2UuYWRkRXZlbnRMaXN0ZW5lcih0LG4pfSkse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGUsZnVuY3Rpb24oZSl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbil9KX19fWZ1bmN0aW9uIGEoZSx0LG4pe3JldHVybiBsKGRvY3VtZW50LmJvZHksZSx0LG4pfXZhciBjPWUoXCIuL2lzXCIpLGw9ZShcImRlbGVnYXRlXCIpO3QuZXhwb3J0cz1pfSx7XCIuL2lzXCI6MyxkZWxlZ2F0ZToyfV0sNTpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGkoZSl7dmFyIHQ7aWYoXCJTRUxFQ1RcIj09PWUubm9kZU5hbWUpZS5mb2N1cygpLHQ9ZS52YWx1ZTtlbHNlIGlmKFwiSU5QVVRcIj09PWUubm9kZU5hbWV8fFwiVEVYVEFSRUFcIj09PWUubm9kZU5hbWUpZS5mb2N1cygpLGUuc2V0U2VsZWN0aW9uUmFuZ2UoMCxlLnZhbHVlLmxlbmd0aCksdD1lLnZhbHVlO2Vsc2V7ZS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmUuZm9jdXMoKTt2YXIgbj13aW5kb3cuZ2V0U2VsZWN0aW9uKCksaT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2kuc2VsZWN0Tm9kZUNvbnRlbnRzKGUpLG4ucmVtb3ZlQWxsUmFuZ2VzKCksbi5hZGRSYW5nZShpKSx0PW4udG9TdHJpbmcoKX1yZXR1cm4gdH10LmV4cG9ydHM9aX0se31dLDY6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKCl7fWkucHJvdG90eXBlPXtvbjpmdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy5lfHwodGhpcy5lPXt9KTtyZXR1cm4oaVtlXXx8KGlbZV09W10pKS5wdXNoKHtmbjp0LGN0eDpufSksdGhpc30sb25jZTpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaSgpe28ub2ZmKGUsaSksdC5hcHBseShuLGFyZ3VtZW50cyl9dmFyIG89dGhpcztyZXR1cm4gaS5fPXQsdGhpcy5vbihlLGksbil9LGVtaXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSksbj0oKHRoaXMuZXx8KHRoaXMuZT17fSkpW2VdfHxbXSkuc2xpY2UoKSxpPTAsbz1uLmxlbmd0aDtmb3IoaTtpPG87aSsrKW5baV0uZm4uYXBwbHkobltpXS5jdHgsdCk7cmV0dXJuIHRoaXN9LG9mZjpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuZXx8KHRoaXMuZT17fSksaT1uW2VdLG89W107aWYoaSYmdClmb3IodmFyIHI9MCxhPWkubGVuZ3RoO3I8YTtyKyspaVtyXS5mbiE9PXQmJmlbcl0uZm4uXyE9PXQmJm8ucHVzaChpW3JdKTtyZXR1cm4gby5sZW5ndGg/bltlXT1vOmRlbGV0ZSBuW2VdLHRoaXN9fSx0LmV4cG9ydHM9aX0se31dLDc6W2Z1bmN0aW9uKHQsbixpKXshZnVuY3Rpb24obyxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLmFtZCllKFtcIm1vZHVsZVwiLFwic2VsZWN0XCJdLHIpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkpcihuLHQoXCJzZWxlY3RcIikpO2Vsc2V7dmFyIGE9e2V4cG9ydHM6e319O3IoYSxvLnNlbGVjdCksby5jbGlwYm9hcmRBY3Rpb249YS5leHBvcnRzfX0odGhpcyxmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfXZhciBvPW4odCkscj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7aSh0aGlzLGUpLHRoaXMucmVzb2x2ZU9wdGlvbnModCksdGhpcy5pbml0U2VsZWN0aW9uKCl9cmV0dXJuIGEoZSxbe2tleTpcInJlc29sdmVPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLmFjdGlvbj10LmFjdGlvbix0aGlzLmVtaXR0ZXI9dC5lbWl0dGVyLHRoaXMudGFyZ2V0PXQudGFyZ2V0LHRoaXMudGV4dD10LnRleHQsdGhpcy50cmlnZ2VyPXQudHJpZ2dlcix0aGlzLnNlbGVjdGVkVGV4dD1cIlwifX0se2tleTpcImluaXRTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbiBlKCl7dGhpcy50ZXh0P3RoaXMuc2VsZWN0RmFrZSgpOnRoaXMudGFyZ2V0JiZ0aGlzLnNlbGVjdFRhcmdldCgpfX0se2tleTpcInNlbGVjdEZha2VcIix2YWx1ZTpmdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcyxuPVwicnRsXCI9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5yZW1vdmVGYWtlKCksdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHQucmVtb3ZlRmFrZSgpfSx0aGlzLmZha2VIYW5kbGVyPWRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKXx8ITAsdGhpcy5mYWtlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksdGhpcy5mYWtlRWxlbS5zdHlsZS5mb250U2l6ZT1cIjEycHRcIix0aGlzLmZha2VFbGVtLnN0eWxlLmJvcmRlcj1cIjBcIix0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmc9XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5tYXJnaW49XCIwXCIsdGhpcy5mYWtlRWxlbS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy5mYWtlRWxlbS5zdHlsZVtuP1wicmlnaHRcIjpcImxlZnRcIl09XCItOTk5OXB4XCI7dmFyIGk9d2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3RoaXMuZmFrZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsd2luZG93LnNjcm9sbFRvKDAsaSkpLHRoaXMuZmFrZUVsZW0uc3R5bGUudG9wPWkrXCJweFwiLHRoaXMuZmFrZUVsZW0uc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIixcIlwiKSx0aGlzLmZha2VFbGVtLnZhbHVlPXRoaXMudGV4dCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuc2VsZWN0ZWRUZXh0PSgwLG8uZGVmYXVsdCkodGhpcy5mYWtlRWxlbSksdGhpcy5jb3B5VGV4dCgpfX0se2tleTpcInJlbW92ZUZha2VcIix2YWx1ZTpmdW5jdGlvbiBlKCl7dGhpcy5mYWtlSGFuZGxlciYmKGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSx0aGlzLmZha2VIYW5kbGVyPW51bGwsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPW51bGwpLHRoaXMuZmFrZUVsZW0mJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuZmFrZUVsZW09bnVsbCl9fSx7a2V5Olwic2VsZWN0VGFyZ2V0XCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3RoaXMuc2VsZWN0ZWRUZXh0PSgwLG8uZGVmYXVsdCkodGhpcy50YXJnZXQpLHRoaXMuY29weVRleHQoKX19LHtrZXk6XCJjb3B5VGV4dFwiLHZhbHVlOmZ1bmN0aW9uIGUoKXt2YXIgdD12b2lkIDA7dHJ5e3Q9ZG9jdW1lbnQuZXhlY0NvbW1hbmQodGhpcy5hY3Rpb24pfWNhdGNoKGUpe3Q9ITF9dGhpcy5oYW5kbGVSZXN1bHQodCl9fSx7a2V5OlwiaGFuZGxlUmVzdWx0XCIsdmFsdWU6ZnVuY3Rpb24gZSh0KXt0aGlzLmVtaXR0ZXIuZW1pdCh0P1wic3VjY2Vzc1wiOlwiZXJyb3JcIix7YWN0aW9uOnRoaXMuYWN0aW9uLHRleHQ6dGhpcy5zZWxlY3RlZFRleHQsdHJpZ2dlcjp0aGlzLnRyaWdnZXIsY2xlYXJTZWxlY3Rpb246dGhpcy5jbGVhclNlbGVjdGlvbi5iaW5kKHRoaXMpfSl9fSx7a2V5OlwiY2xlYXJTZWxlY3Rpb25cIix2YWx1ZTpmdW5jdGlvbiBlKCl7dGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSx7a2V5OlwiZGVzdHJveVwiLHZhbHVlOmZ1bmN0aW9uIGUoKXt0aGlzLnJlbW92ZUZha2UoKX19LHtrZXk6XCJhY3Rpb25cIixzZXQ6ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcImNvcHlcIjtpZih0aGlzLl9hY3Rpb249dCxcImNvcHlcIiE9PXRoaXMuX2FjdGlvbiYmXCJjdXRcIiE9PXRoaXMuX2FjdGlvbil0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJhY3Rpb25cIiB2YWx1ZSwgdXNlIGVpdGhlciBcImNvcHlcIiBvciBcImN1dFwiJyl9LGdldDpmdW5jdGlvbiBlKCl7cmV0dXJuIHRoaXMuX2FjdGlvbn19LHtrZXk6XCJ0YXJnZXRcIixzZXQ6ZnVuY3Rpb24gZSh0KXtpZih2b2lkIDAhPT10KXtpZighdHx8XCJvYmplY3RcIiE9PShcInVuZGVmaW5lZFwiPT10eXBlb2YgdD9cInVuZGVmaW5lZFwiOnIodCkpfHwxIT09dC5ub2RlVHlwZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiB2YWx1ZSwgdXNlIGEgdmFsaWQgRWxlbWVudCcpO2lmKFwiY29weVwiPT09dGhpcy5hY3Rpb24mJnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFwidGFyZ2V0XCIgYXR0cmlidXRlLiBQbGVhc2UgdXNlIFwicmVhZG9ubHlcIiBpbnN0ZWFkIG9mIFwiZGlzYWJsZWRcIiBhdHRyaWJ1dGUnKTtpZihcImN1dFwiPT09dGhpcy5hY3Rpb24mJih0Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpfHx0Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgXCJ0YXJnZXRcIiBhdHRyaWJ1dGUuIFlvdSBjYW5cXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCBcInJlYWRvbmx5XCIgb3IgXCJkaXNhYmxlZFwiIGF0dHJpYnV0ZXMnKTt0aGlzLl90YXJnZXQ9dH19LGdldDpmdW5jdGlvbiBlKCl7cmV0dXJuIHRoaXMuX3RhcmdldH19XSksZX0oKTtlLmV4cG9ydHM9Y30pfSx7c2VsZWN0OjV9XSw4OltmdW5jdGlvbih0LG4saSl7IWZ1bmN0aW9uKG8scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZS5hbWQpZShbXCJtb2R1bGVcIixcIi4vY2xpcGJvYXJkLWFjdGlvblwiLFwidGlueS1lbWl0dGVyXCIsXCJnb29kLWxpc3RlbmVyXCJdLHIpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGkpcihuLHQoXCIuL2NsaXBib2FyZC1hY3Rpb25cIiksdChcInRpbnktZW1pdHRlclwiKSx0KFwiZ29vZC1saXN0ZW5lclwiKSk7ZWxzZXt2YXIgYT17ZXhwb3J0czp7fX07cihhLG8uY2xpcGJvYXJkQWN0aW9uLG8udGlueUVtaXR0ZXIsby5nb29kTGlzdGVuZXIpLG8uY2xpcGJvYXJkPWEuZXhwb3J0c319KHRoaXMsZnVuY3Rpb24oZSx0LG4saSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gYShlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fWZ1bmN0aW9uIGMoZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49XCJkYXRhLWNsaXBib2FyZC1cIitlO2lmKHQuaGFzQXR0cmlidXRlKG4pKXJldHVybiB0LmdldEF0dHJpYnV0ZShuKX12YXIgcz1vKHQpLHU9byhuKSxmPW8oaSksZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4pe3IodGhpcyx0KTt2YXIgaT1hKHRoaXMsKHQuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpLmNhbGwodGhpcykpO3JldHVybiBpLnJlc29sdmVPcHRpb25zKG4pLGkubGlzdGVuQ2xpY2soZSksaX1yZXR1cm4gYyh0LGUpLGQodCxbe2tleTpcInJlc29sdmVPcHRpb25zXCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLmFjdGlvbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFjdGlvbj90LmFjdGlvbjp0aGlzLmRlZmF1bHRBY3Rpb24sdGhpcy50YXJnZXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgdC50YXJnZXQ/dC50YXJnZXQ6dGhpcy5kZWZhdWx0VGFyZ2V0LHRoaXMudGV4dD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRleHQ/dC50ZXh0OnRoaXMuZGVmYXVsdFRleHR9fSx7a2V5OlwibGlzdGVuQ2xpY2tcIix2YWx1ZTpmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7dGhpcy5saXN0ZW5lcj0oMCxmLmRlZmF1bHQpKHQsXCJjbGlja1wiLGZ1bmN0aW9uKGUpe3JldHVybiBuLm9uQ2xpY2soZSl9KX19LHtrZXk6XCJvbkNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24gZSh0KXt2YXIgbj10LmRlbGVnYXRlVGFyZ2V0fHx0LmN1cnJlbnRUYXJnZXQ7dGhpcy5jbGlwYm9hcmRBY3Rpb24mJih0aGlzLmNsaXBib2FyZEFjdGlvbj1udWxsKSx0aGlzLmNsaXBib2FyZEFjdGlvbj1uZXcgcy5kZWZhdWx0KHthY3Rpb246dGhpcy5hY3Rpb24obiksdGFyZ2V0OnRoaXMudGFyZ2V0KG4pLHRleHQ6dGhpcy50ZXh0KG4pLHRyaWdnZXI6bixlbWl0dGVyOnRoaXN9KX19LHtrZXk6XCJkZWZhdWx0QWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24gZSh0KXtyZXR1cm4gbChcImFjdGlvblwiLHQpfX0se2tleTpcImRlZmF1bHRUYXJnZXRcIix2YWx1ZTpmdW5jdGlvbiBlKHQpe3ZhciBuPWwoXCJ0YXJnZXRcIix0KTtpZihuKXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pfX0se2tleTpcImRlZmF1bHRUZXh0XCIsdmFsdWU6ZnVuY3Rpb24gZSh0KXtyZXR1cm4gbChcInRleHRcIix0KX19LHtrZXk6XCJkZXN0cm95XCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3RoaXMubGlzdGVuZXIuZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uJiYodGhpcy5jbGlwYm9hcmRBY3Rpb24uZGVzdHJveSgpLHRoaXMuY2xpcGJvYXJkQWN0aW9uPW51bGwpfX1dKSx0fSh1LmRlZmF1bHQpO2UuZXhwb3J0cz1ofSl9LHtcIi4vY2xpcGJvYXJkLWFjdGlvblwiOjcsXCJnb29kLWxpc3RlbmVyXCI6NCxcInRpbnktZW1pdHRlclwiOjZ9XX0se30sWzhdKSg4KX0pOyIsIi8vICFWQSBSRUJPT1QgMTIvMjkvMTlcclxuLy8gPT09PT09PT09PT09PT09PT09PVxyXG4vLyBTZWUgQzpcXFVzZXJzXFxWQU5BXFxPbmVEcml2ZVxcV2hpdHR5UmV2aWV3XzEyLjMwLjE5LmRvY3hcclxuXHJcbi8vICFWQSBHRU5FUkFMIE5PVEVTXHJcbi8qICFWQSAgLSBBcHJpbCBSZWJvb3QgTm90ZXNcclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICFWQSAwNS4xOC4yMFxyXG5TdGF0dXM6XHJcbkRPTkU6IEltcGxlbWVudCBBTFQrQ1RSTCtIb3ZlciB0b29sdGlwcy5cclxuRE9ORTogQXBwTWVzc2FnZSBpbXBsZW1lbnRhdGlvbiBtb3N0bHkgZG9uZSwgYnV0IHRoZSB0b29sdGlwIGltcGxlbWVudGF0aW9uIHN1Y2tzLiBNdXN0IHJldmlzaXRcclxuRE9ORTogRml4IGltZ3N3YXAgY29kZUJsb2NrIG91dHB1dDogYWx0IHRhZyBoYXMgcXVvdGVzIGZvbGxvd2luZywgYWx0IGRvZXNuJ3Qgd29yay4gVEhpcyB3YXMgZml4ZWQgaW4gYW4gZWFybGllciBjb21taXQuXHJcbkRPTkU6IHZtbGJ1dHRvbiAtIGFkZCBkZWZhdWx0IDQwLzIwMCB3aWR0aCBhbmQgaGVpZ2h0IGFzIHBlciBTdGlnIGFuZCBhZGQgZXJyb3IgaGFuZGxpbmcgaWYgb25lIG9mIHRoZSB2YWx1ZXMgaXMgb21pdHRlZC5cclxuRE9ORTogUG9wdWxhdGUgaW5wdXRzIHdpdGggZGVmYXVsdHMgaW4gdm1sYnV0dG9uIGFuZCBcclxuRE9ORTogRml4IHZpZXdlciBkb2Vzbid0IHJlc2l6ZSBob3Jpem9udGFsbHkgYW55IG1vcmUgaW4gUFJPRCBtb2RlIG9yIHNob3cgdGhlIEluc3BlY3RvcnMgLSBidXQgd29ya3MgaW4gREVWIG1vZGUuXHJcbkRPTkU6IHJ0bCBjbGFzcyBhdHRyaWJ1dGUgc2hvd3Mgd2hlbiBub3RoaW5nIGlzIGVudGVyZWQ6IGl0IHNob3VsZCBiZSBoaWRkZW4uIEZJWEVEIGluIHNldFBvc1N3aXRjaE5vZGVBdHRyaWJ1dGVzXHJcbkRPTkU6IE5vdGF0ZSBhbGwgZnVuY3Rpb25zIHdpdGggbW9kdWxlIGFuZCBwcml2YXRlL3B1YmxpY1xyXG5ET05FOiBydW4gcXVlcnlET01FbGVtZW50cyBvbmx5IG9uIGVudGVyLCBub3Qgb24gZXZlcnkga2V5cHJlc3MgLSBpbiBvcmRlciB0byBkbyB0aGlzLCBuZWVkIHRvIGdldCB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGlucHV0IHNvIHRoZSB1c2VyIGNhbiBFU0Mgb3V0IG9mIHRoZSBmaWVsZCB3aXRob3V0IGltcGxlbWVudGluZyBjaGFuZ2VkIHZhbHVlLiBSaWdodCAgbm93IHdlIGFyZSBnZXR0aW5nIHRoaXMgdmFsdWUgZnJvbSBBcHBkYXRhLiBGSVhFRCAtIE5vdyBnZXRzIHZhbHVlIGZyb20gSFRNTCBlbGVtZW50IHBsYWNlaG9sZGVyIG9yIGZyb20gbG9jYWxTdG9yYWdlXHJcbkRPTkU6IENDUCBpbnB1dCBmaWVsZHMgc2hvdWxkIHNlbGVjdCBhbGwgd2hlbiBjbGlja2VkIGluIGxpa2UgdGhleSBkbyBpbiB0aGUgdG9vbGJhciAtIG5vIHRoZXkgc2hvdWxkbid0IGZvciBub3cuIFVzZXIgc2hvdWxkIGJlIGFibGUgdG8gc2V0IHRoZSBjdXJzb3IgaW4gdGhlIGZpZWxkIGFuZCBjaGFuZ2UgYW55IHZhbHVlIHRoYXQgd2F5LlxyXG5ET05FOiBNYWtlIG1yayA9PiBib3ggZnVuY3Rpb24uLi5ub3Qgc3VyZSB3aGVyZSB0aG91Z2ggb3Igd2hldGhlciBpdCdzIG5lY2Vzc2FyeSBzaW5jZSBpdCdzIGp1c3QgYSBvbmUtbGluZXIuIExlYXZlIGl0LCBpdCdzIGp1c3QgYSBvbmUtbGluZXJcclxuRE9ORTogQ2hhbmdpbmcgSW5zcGVjdG9yIGVsZW1lbnQgaG92ZXIgY29sb3IgYmFzZWQgb24gd2hldGhlciB0aGUgU0hJRlQgb3IgQ1RSTCBrZXkgaXMgcHJlc3NlZDogSSB0cmllZCBhIG51bWJlciBvZiBhcHByb2FjaGVzIHRvIGdldHRpbmcgZGlmZmVyZW50IGhvdmVyIGNvbG9ycyBmb3IgU0hJRlQgYW5kIENUUkwgYnV0IGl0J3Mgbm90IHdvcnRoIHRoZSBoYXNzbGUuIFRoZSBzaGlmdEtleSBldmVudCBvbmx5IGZpcmVzIHdoZW4gdGhlIGtleSBpcyBwcmVzc2VkIGRvd24gb3IgdXAuIFRoZSBtb3VzZWVudGVyIGFuZCBtb3VzZWxlYXZlIGV2ZW50IG9ubHkgZmlyZXMgd2hlbiB5b3UgZW50ZXIgb3IgbGVhdmUgdGhlIGVsZW1lbnQuIFRyeWluZyB0byB0cmFwIHRoZSBTSElGVCBwcmVzcyBlaXRoZXIgd2hpbGUgU0hJRlQgaXMgcHJlc3NlZCBvdXRzaWRlIHRoZSBlbGVtZW50IHdoaWxlIHRoZSBlbGVtZW50IGlzIGVudGVyZWQgT1Igd2hpbGUgdGhlIG1vdXNlIGlzIGluc2lkZSB0aGUgZWxlbWVudCBwcm92ZWQgdG9vIG11Y2ggZm9yIG1lLiBBbGwgdGhhdCBpcyBldmVuIHdvcnNlIGJlY2F1c2UgaWYgdGhlIGZvY3VzIGlzbid0IGluIHRoZSBXaXR0eSB3aW5kb3csIHdoaWNoIGl0IGlzIG5vdCBtb3N0IG9mIHRoZSB0aW1lIHdoaWxlIHRoZSB1c2VyIHN3aXRjaGVzIGJhY2sgYW5kIGZvcnRoIHRvIHRoZSBlZGl0b3IsIHRoZW4gdGhlIG1vdXNlIGV2ZW50cyB3b24ndCBmaXJlLiBQbHVzLCB0aGUga2V5cHJlc3MgZXZlbnRzIGRvbid0IGFwcGVhciB0byBmaXJlIG9uIG5vbi1pbnB1dCBlbGVtZW50cywgc28geW91J2QgaGF2ZSB0byB0cmFwIHRoZSBrZXlwcmVzcyBvbiB0aGUgZG9jdW1lbnQgYW5kIHRoZW4gSSBkb24ndCBldmVuIGtub3cgaG93IHlvdSdkIGRyaWxsIGRvd24gdG8gbGltaXQgaXQgdG8gdGhlIEluc3BlY3RvciBlbGVtZW50LiBJbiBzaG9ydCAtIHdlJ3JlIGdvaW5nIHdpdGggYSBzaW5nbGUgZ29sZCBDU1MgaG92ZXIgd2hpY2ggd29ya3MgZXZlbiBpZiBXaXR0eSBkb2Vzbid0IGhhdmUgdGhlIGZvY3VzLiBUaGUgcmVzdCB3ZSdsbCBoYXZlIHRvIGRvIHdpdGggdG9vbHRpcHMuIFRoaXMgaXRlbSBpcyBjbG9zZWQuXHJcbkRPTkU6IFJlbW92ZSBhbGwgYm9vdHN0cmFwIHRvb2x0aXBzXHJcbkRPTkU6IEZpbmlzaCBhZGRpbmcgdG9vbHRpcCBzdHJpbmdzIC0gc29tZSBUQkQgc3RyaW5ncyByZW1haW5cclxuRE9ORTogQWRkIGFuaW1hdGlvbiB0byB0b29sdGlwc1xyXG5ET05FOiBGaXggdG9vbHRpcCBjdXJzb3Igbm90IGNoYW5naW5nIHRvIGhlbHAgY3Vyc29yIG9uIERpc3BsYXkgU2l6ZSBhbmQgb3RoZXIgZWxlbWVudHMgd2l0aCBjbGlwYm9hcmQgY2xpY2tzLiBUaGF0IGlzIG5vdCBnb2luZyB0byBoYXBwZW4gc2luY2UgdGhlIGNsaXBib2FyZCBjbGlja3Mgb24gdGhlIGxhYmVsIGFyZSBnb3Zlcm5lZCBieSB0aGUgaG92ZXIgcHNldWRvZWxlbWVudCB3aGljaCBvdmVycmlkZXMgdGhlIG1vdXNlZW50ZXIgZXZlbnQsIEkgdGhpbmsuIENsb3NlZC5cclxuRE9ORTogQ2FuY2VsIHRvb2x0aXBzIHdoZW4gZXJyb3IgbWVzc2FnZSBpcyBkaXNwbGF5ZWQuXHJcbkRPTkU6IEZJeCBxdWlya3Mgd2l0aCBlcnJvciBtZXNzYWdlcyAtIGZpcnN0IG9uZSBhZnRlciByZWZyZXNoIGRpc3BsYXlzIGxhdGUsIG1lc3NhZ2VzIGRvbid0IGNhbmNlbCB3aGVuIGxlYXZpbmcgdGhlIHRhcmdldCBlbGVtZW50LiBQcm9iYWJseSBlbnRhaW5zIGVuYWJsaW5nIHRoZSBibG9ja2luZyBlbGVtZW50IGFib3ZlIHRoZSB0b29sYmFyIGJ1dHRvbnMgZm9yIGh0ZSBkdXJhdGlvbiBvZiB0aGUgZXJyb3IvbXNnIGRpc3BsYXkuXHJcbkRPTkU6IEZpeCB0aGUgQ1NTIFJ1bGUgYnV0dG9ucyBkaXNhcHBlYXJpbmcgd2hlbiBob3ZlcmVkIG9yIGNsaWNrZWQuIEl0J3MgYmVjYXVzZSB0aGV5IGdldCB0aGUgY2xhc3MgdHRpcCBmb3Igc29tZSByZWFzb24uIHR0aXAgY2xhc3MgZGVsZXRlZCwgZGVwcmVjYXRlZC5cclxuRE9ORTogQ29tbWVudCBhbmQgY2xlYW4gdXAgYXBwTWVzc2FnZXMuXHJcblxyXG5cclxuXHJcblxyXG5cclxuVE9ETzogTm8gdG9vbHRpcCBhdmFpbGFibGUgZm9yIHBvc3N3aXRjaCBhbmQgaW1nc3dhcFxyXG5UT0RPOiBUb29sdGlwcyBkb24ndCBhcHBlYXIgb24gY2hlY2tib3hlc1xyXG5UT0RPOiBBZGQgZXJyb3IgdG8gdm1sYnV0dG9uIGhlaWdodCBub3QgbWF0Y2hpbmcgaW1nIGhlaWdodFxyXG5UT0RPOiBBZGQgZXJyb3IgaGFuZGxpbmcgYW5kIHRoZSBpc0VyciBhcmd1bWVudCB0byBtYWtlVGROb2RlIGFuZCBtYWtlVGFibGVOb2RlIHNvIHRoYXQgdGhlIENsaXBib2FyZCBvYmplY3QgY2FuIGRpc2Nlcm4gYmV0d2VlbiBzdWNjZXNzIG1lc3NhZ2VzIGFuZCAnYWxlcnQnIG1lc3NhZ2VzLCBpLmUuIHdoZW4gdGhlIENsaXBib2FyZCBvdXRwdXQgc2hvdWxkIGJlIHJldmlld2VkIGJ5IHRoZSB1c2VyIGZvciBzb21lIHJlYXNvbiwgaS5lLiB3aGVuIHZtbGJ1dHRvbiBoZWlnaHQgZG9lc24ndCBtYXRjaCB0aGUgaGVpZ2h0IG9mIHRoZSBsb2FkZWQgaW1hZ2UuIEkgZG9uJ3QgdGhpbmsgdGhpcyBpcyBwb3NzaWJsZSBkdWUgdG8gQ2xpcGJvYXJkIG9iamVjdCBjb25zdHJhaW50c1xyXG5UT0RPOiBEZXRlcm1pbmUgd2hldGhlciB0aGUgcGFyZW50IHRhYmxlIGNsYXNzIG9yIHdyYXBwZXIgdGFibGUgY2xhc3MgaXMgb3V0cHV0IHRvIENTUy4gSXQgc2hvdWxkIGJlIHRoZSBwYXJlbnQgdGFibGUgY2xhc3MsIG9yIGV2ZW4gYm90aC5cclxuVE9ETzogY3VySW1nIGRvZXNuJ3QgcmVzaXplIGJhY2sgaWYgeW91IGNoYW5nZSB2aWV3ZXJXIHRvIHNtYWxsZXIgdGhhbiBjdXJJbWcgYW5kIHRoZW4gY2hhbmdlIGl0IGJhY2suIEl0IHNob3VsZCBmb2xsb3cgdGhlIHNpemUgb2Ygdmlld2VyVyBzaG91bGRuJ3QgaXQ/IE1heWJlIG5vdC4uLlxyXG5ET05FOiBNYWtlIGJnY29sb3IgYWRkIHRoZSBoYXNoIGlmIGl0J3Mgbm90IGluIHRoZSB2YWx1ZS4gRG9uJ3QgZG8gdGhhdCwgbmVlZCB0byBhbGxvdyBmb3Igbm9uLWhhc2ggdmFsdWVzIGxpa2UgY29sb3IgYWxpYXNlc1xyXG5ET05FOiBGaXggdGFibGUgd2lkdGg6IGRvZXNuJ3QgcmVmbGVjdCB3aGF0J3MgaW4gdG9vbGJhciB2aWV3ZXIgd2lkdGggZmllbGQuIEZJWEVEIC0gQXBwZWFycyB0byB3b3JrIGFzIGRlc2lnbmVkLCBpbWdXIGluIFBhcmVudCB0YWJsZSB3aWR0aCBhbmQgdmlld2VyVyBpbiBXcmFwcGVyIHRhYmxlIHdpZHRoXHJcblxyXG5cclxuRXJyb3IgSGFuZGxpbmdcclxuLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG5cclxuVE9ETzogVGhlIENTUyBvdXRwdXQgd2lsbCBuZWVkIHRvIGJlIHJldmlzaXRlZCBmb3IgdGQgYW5kIHRhYmxlLlxyXG5UT0RPOiBUaGVyZSdzIGFuIGlzc3VlIHdpdGggd2hhdCB0byBkbyBpZiB0aGUgdXNlciBncm93cyB0aGUgaW1hZ2UgcGFzdCB0aGUgdmlld2VyIGhlaWdodCwgYnV0IG5vdCBwYXN0IHRoZSB2aWV3ZXIgd2lkdGguIEN1cnJlbnRseSwgdGhlIGltYWdlIGhlaWdodCBDQU4gZ3JvdyBwYXN0IHRoZSB2aWV3ZXIgaGVpZ2h0OyB0aGUgb25seSBsaW1pdGF0aW9uIGlzIHRoYXQgaXQgY2FuJ3QgZ3JvdyBwYXN0IHRoZSB2aWV3ZXIgd2lkdGguIFRoYXQncyBubyBnb29kLlxyXG5UT0RPOiBGaXggSW5jbHVkZSB3cmFwcGVyIHRhYmxlIG9wdGlvbnMgZG9uJ3QgYXBwZWFyIGlmIHRoZSBDQ1AgaXMgY2xvc2VkIGFuZCByZS1vcGVuZWQgXHJcblRPRE86IEFzc2lnbiB0YWIgb3JkZXJcclxuXHJcblxyXG4vKiAhVkEgIC0gRm9yIENvbnNpZGVyYXRpb25cclxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5UT0RPOiBBZGQgc29tZSBraW5kIG9mIGZsdWlkIG9wdGlvbiB0byB0aGUgaW1nIG9wdGlvbnMuIENlcmJlcnVzIGhhcmQgY29kZXMgaXQgaW50byB0aGUgaW1nIHRhZy4gVGhhdCBuZWVkcyB0byBiZSB0ZXN0ZWQuIExpdG11cyBvdmVycmlkZXMgdGhlIHdpZHRoIGFuZCBoZWlnaHQgc3R5bGUgcHJvcGVydGllcyBpbiB0aGUgQ1NTIG1lZGlhIHF1ZXJpZXMuIE5lZWQgdG8gdGVzdCBiZWZvcmUgdGhhdCBpcyBpbXBsZW1lbnRlZCAtIGJ1dCB0aGVyZSdzIG5vIHJlYXNvbiB0byBpbmNsdWRlIGEgZmx1aWQgb3B0aW9uIGlmIHRoYXQncyBzZXR0YWJsZSBpbiBDU1MuXHJcblRPRE86IHJld3JpdGUgZ2V0QXBwZGF0YSB0byBvbmx5IHF1ZXJ5IHNwZWNpZmljIGl0ZW1zIGluIHRoZSBhcnJheSwgb3IgYXQgbGVhc3QgdXNlIGRlc3RydWN0dXJpbmcgdG8gb25seSBtYWtlIGEgY29uc3Qgb3V0IG9mIHdoaWNoIGV2ZXIgQXBwZGF0YSBwcm9wZXJ0eSBpcyBuZWVkZWQgaW4gdGhlIHJlc3BlY3RpdmUgZnVuY3Rpb24uXHJcblRPRDA6IFRoaW5rIGFib3V0IG1ha2luZyBnZXRBcHBkYXRhIG9ubHkgcXVlcnkgYSBzcGVjaWZpYyBwcm9wZXJ0eSBpZiBwb3NzaWJsZS5cclxuVE9ETzogQ0NQIG51bWVyaWMgaW5wdXQgZmllbHMgbmVlZCBhbiBpbnB1dCB2YWxpZGF0b3JcclxuVE9ETzogRml4IGJlaW5nIGFibGUgdG8gcmVzaXplIHZpZXdlclcgc21hbGxlciB0aGFuIGltZ1cgLSBjdXJyZW50IGJlaGF2aW9yIGlzIGltZ3cgcmVzaXplcyB3aXRoIHZpZXdlclcuIElmIHRoYXQncyB0aGUgZGVzaXJlZCBiZWhhdmlvciwgaW1nVyBzdGlsbCBkb2Vzbid0IHdyaXRlIHRoZSB1ZHBhdGVkIHdpZHRoIHRvIEFwcGRhdGEsIHRoYXQgbmVlZHMgdG8gYmUgZml4ZWQuXHJcblRPRE86IEZpeCBidWcgLSBsb2FkIDQwMFgxMDAwLCBtdWx0aXBsZSBjbGljayBvbiArNTAsIERpc3BsYXkgU2l6ZSBzaG93cyA0NTAgYnV0IHRoZSBpbWcgZG9lc24ndCBncm93Li4uXHJcblRPRE86IFBhcmVudCB0YWJsZSBjbGFzcyBhdHQgb25seSBzaG93cyBpbiBDQiBvdXRwdXQgaWYgV3JhcHBlciBpcyBzZWxlY3RlZCwgbm90IGluIGp1c3QgdGhlIFBhcnRlbnQgdGFibGUgb3V0cHV0LlxyXG5UT0RPOiBGaXgsIHdoZW4gaW1nTlcgaXMgZ3JlYXRlciB0aGFuIGltZ1cgdGhlIGltZ05XIHNpemUgZmxhc2hlcyBiZWZvcmUgcmVzaXppbmcgdG8gdGhlIHZpZXdlciBzaXplLiBUaGlzIGlzIHByb2JhYmx5IGJlY2F1c2Ugb2YgdGhlIHNldHRpbWVvdXQsIHdoaWNoIG1pZ2h0IG5vdCBiZSBuZWNlc3NzYXJ5IGlmIHRoZSBvbmxvYWQgZnVuY3Rpb24gaXMgcnVubmluZy5cclxuVE9ETzogVEhlIENDUCBzaG91bGQgc3RvcmUgYWxsIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgb3B0aW9ucyBhbmQgcmVzdG9yZSB0aGVtIHdoZW5ldmVyIHRoZSBjY3AgaXMgb3BlbmVkIC0tIEkgdGhpbmsuIE5vdCBzdXJlIGlmIHRoaXMgaXMgdGhlIHJpZ2h0IGJlaGF2aW9yLi4udGhpbmsgYm91dCBpdC4gUHJvYmFibHkgbm90LiBJIHRoaW5rIGl0IGRvZXMgdGhpcyBhbnl3YXkuIFxyXG5UT0RPOiBBc3NpZ24ga2V5Ym9hcmQgIHNob3J0Y3V0c1xyXG5cclxuXHJcblxyXG5cclxuKi9cclxuLy9TQ1JJUFQgU1RBUlRcclxuLy9QQUdFIFNFVFVQIFNUQVJUXHJcblxyXG4vLyBOYW1lc3BhY2VcclxudmFyIFdpdHR5ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgLy8gIVZBIFJ1biBvbiBwYWdlIGxvYWRcclxuICAvLyBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpIHtcclxuICAvLyAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgXHJcbiAgLy8gICAgIC8vICFWQSBEb24ndCBmb3JnZXQgeW91IGNhbid0IHVzZSBidXR0b24gYWxpYXNlcyBoZXJlLi5cclxuICAvLyAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J0bi1jY3AtbWFrZS10ZC10YWcnKS5jbGljaygpO1xyXG5cclxuICAvLyAgIH0sIDUwMCk7XHJcbiAgLy8gfSk7XHJcblxyXG4gIC8vICFWQSBUZXN0IGZ1bmN0aW9uIHRvIGlkZW50aWZ5IHRoZSB0YXJnZXQgb2YgdGhlIG1vdXNlY2xpY2tcclxuICAvLyB3aW5kb3cub25jbGljayA9IGUgPT4ge1xyXG4gIC8vICAgY29uc29sZS5sb2coJ0NsaWNrZWQgZWxlbWVudCcpO1xyXG4gIC8vICAgY29uc29sZS5sb2coZS50YXJnZXQpO1xyXG4gIC8vIH07XHJcblxyXG4gIC8vICFWQSBDbGljayBvbiBXaXR0eSBsb2dvIHRvIHJ1biB0ZXN0IGZ1bmN0aW9uXHJcbiAgLy8gdmFyIHRlc3RidXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVzdG1lJyk7XHJcbiAgLy8gZnVuY3Rpb24gcnVuTWUoZXZ0KSB7XHJcbiAgLy8gICBjb25zb2xlLmxvZygncnVuTWUgcnVubmluZycpO1xyXG4gIC8vICAgdGVzdGJ1dC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gIC8vIH1cclxuXHJcblxyXG4gIHZhciB0ZXN0YnV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rlc3RtZScpO1xyXG4gIHZhciB0ZXN0YnV0MiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZXN0bWUyJyk7XHJcbiAgdmFyIGFkZE1lID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zb2xlLmxvZygnZXZlbnQgbGlzdGVuZXInKTtcclxuICB9O1xyXG5cclxuICB2YXIgZm9vO1xyXG4gIGZvbyA9IHRydWU7XHJcblxyXG4gIHRlc3RidXQub25jbGljayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZm9vID0gIWZvbztcclxuICAgIGNvbnNvbGUubG9nKCdmb28gaXM6ICcgKyBmb28pO1xyXG4gICAgZm9vID8gIHRlc3RidXQyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTWUsIGZhbHNlKSA6IHRlc3RidXQyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTWUsIGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gIC8vICFWQSBHTE9CQUxcclxuICBsZXQgbXlPYmplY3QgPSB7fTtcclxuICBteU9iamVjdC52YXJpYWJsZSA9ICdUaGlzIGlzIGEgc3RyaW5nJztcclxuXHJcblxyXG4gIC8vICFWQSBJbml0aWFsaXplIEFwcGRhdGEgb2JqZWN0XHJcbiAgbGV0IEFwcGRhdGEgPSB7fTtcclxuXHJcblxyXG4gIHZhciBVSUNvbnRyb2xsZXIgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG5cclxuXHJcbiAgICAvLyAhVkEgRWxlbWVudCBBbGlhc2VzXHJcbiAgICAvLyAhVkEgVUlDb250cm9sbGVyOiBJbnNwZWN0b3IgSUQgc3RyaW5nc1xyXG4gICAgY29uc3QgaW5zcGVjdG9yRWxlbWVudHMgPSB7XHJcbiAgICAgIGluc0ZpbGVuYW1lOiAnI2lucy1maWxlbmFtZScsXHJcbiAgICAgIGluc0Rpc3BsYXk6ICcjaW5zLWRpc3BsYXktc2l6ZScsXHJcbiAgICAgIGluc0Rpc2tzaXplOiAnI2lucy1kaXNrLXNpemUnLFxyXG4gICAgICBpbnNBc3BlY3Q6ICcjaW5zLWFzcGVjdCcsXHJcbiAgICAgIGluc1NtYWxsUGhvbmVzOiAnI2lucy1zbWFsbC1waG9uZXMnLFxyXG4gICAgICBpbnNMYXJnZVBob25lczogJyNpbnMtbGFyZ2UtcGhvbmVzJyxcclxuICAgICAgaW5zUmV0aW5hOiAnI2lucy1yZXRpbmEnLFxyXG4gICAgICBidG5Ub2dnbGVDY3A6ICcjYnRuLXRvZ2dsZS1jY3AnLFxyXG4gICAgICAvLyAhVkEgQnJhbmNoOiBpbnNwZWN0b3JDbGlwYm9hcmRPdXRwdXQgKDA1MTMyMClcclxuICAgICAgc3BuRGlzcGxheVNpemVIZWlnaHQ6ICcjc3BuLWRpc3BsYXktc2l6ZS1oZWlnaHQnLFxyXG4gICAgICBzcG5EaXNwbGF5U2l6ZVdpZHRoOiAnI3Nwbi1kaXNwbGF5LXNpemUtd2lkdGgnLFxyXG4gICAgICBzcG5TbWFsbFBob25lc0hlaWdodDogJyNzcG4tc21hbGwtcGhvbmVzLWhlaWdodCcsXHJcbiAgICAgIHNwblNtYWxsUGhvbmVzV2lkdGg6ICcjc3BuLXNtYWxsLXBob25lcy13aWR0aCcsXHJcbiAgICAgIHNwbkxhcmdlUGhvbmVzSGVpZ2h0OiAnI3Nwbi1sYXJnZS1waG9uZXMtaGVpZ2h0JyxcclxuICAgICAgc3BuTGFyZ2VQaG9uZXNXaWR0aDogJyNzcG4tbGFyZ2UtcGhvbmVzLXdpZHRoJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaW5zcGVjdG9yTGFiZWxzID0ge1xyXG4gICAgICBpbnNEaXNwbGF5U2l6ZUxhYmVsOiAnI2lucy1kaXNwbGF5LXNpemUtbGFiZWwnLFxyXG4gICAgICBpbnNEaXNrU2l6ZUxhYmVsOiAnI2lucy1kaXNrLXNpemUtbGFiZWwnLFxyXG4gICAgICBpbnNBc3BlY3RMYWJlbDogJyNpbnMtYXNwZWN0LWxhYmVsJyxcclxuICAgICAgaW5zU21hbGxQaG9uZXNMYWJlbDogJyNpbnMtc21hbGwtcGhvbmVzLWxhYmVsJyxcclxuICAgICAgaW5zTGFyZ2VQaG9uZXNMYWJlbDogJyNpbnMtbGFyZ2UtcGhvbmVzLWxhYmVsJyxcclxuICAgICAgaW5zUmV0aW5hTGFiZWw6ICcjaW5zLXJldGluYS1sYWJlbCdcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgaW5zcGVjdG9yVmFsdWVzID0ge1xyXG4gICAgICBpbnNEaXNwbGF5U2l6ZVdpZHRoVmFsdWU6ICcjaW5zLWRpc3BsYXktc2l6ZS13aWR0aC12YWx1ZScsXHJcbiAgICAgIGluc0Rpc3BsYXlTaXplSGVpZ2h0VmFsdWU6ICcjaW5zLWRpc3BsYXktc2l6ZS1oZWlnaHQtdmFsdWUnLFxyXG4gICAgICBpbnNEaXNrU2l6ZVdpZHRoVmFsdWU6ICcjaW5zLWRpc2stc2l6ZS13aWR0aC12YWx1ZScsXHJcbiAgICAgIGluc0Rpc2tTaXplSGVpZ2h0VmFsdWU6ICcjaW5zLWRpc2stc2l6ZS1oZWlnaHQtdmFsdWUnLFxyXG4gICAgICBpbnNBc3BlY3RWYWx1ZTogJyNpbnMtYXNwZWN0LXZhbHVlJyxcclxuICAgICAgaW5zU21hbGxQaG9uZXNXaWR0aFZhbHVlOiAnI2lucy1zbWFsbC1waG9uZXMtd2lkdGgtdmFsdWUnLFxyXG4gICAgICBpbnNTbWFsbFBob25lc0hlaWdodFZhbHVlOiAnI2lucy1zbWFsbC1waG9uZXMtaGVpZ2h0LXZhbHVlJyxcclxuICAgICAgaW5zTGFyZ2VQaG9uZXNXaWR0aFZhbHVlOiAnI2lucy1sYXJnZS1waG9uZXMtd2lkdGgtdmFsdWUnLFxyXG4gICAgICBpbnNMYXJnZVBob25lc0hlaWdodFZhbHVlOiAnI2lucy1sYXJnZS1waG9uZXMtaGVpZ2h0LXZhbHVlJyxcclxuICAgICAgaW5zUmV0aW5hV2lkdGhWYWx1ZTogJyNpbnMtcmV0aW5hLXdpZHRoLXZhbHVlJyxcclxuICAgICAgaW5zUmV0aW5hSGVpZ2h0VmFsdWU6ICcjaW5zLXJldGluYS1oZWlnaHQtdmFsdWUnLFxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLy8gIVZBIFVJQ29udHJvbGxlcjogdG9vbEJ1dHRvbiBJRCBTdHJpbmdzXHJcbiAgICBjb25zdCB0b29sYmFyRWxlbWVudHMgPSB7XHJcbiAgICAgIGlwdFRiclZpZXdlclc6ICcjaXB0LXRici12aWV3ZXJ3JyxcclxuICAgICAgYnRuVGJySW5jcjUwOiAnI2J0bi10YnItaW5jcjUwJyxcclxuICAgICAgYnRuVGJySW5jcjEwOiAnI2J0bi10YnItaW5jcjEwJyxcclxuICAgICAgYnRuVGJySW5jcjAxOiAnI2J0bi10YnItaW5jcjAxJyxcclxuICAgICAgaXB0VGJySW1nV2lkdGg6ICcjaXB0LXRici1pbWd3aWR0aCcsXHJcbiAgICAgIGlwdFRickltZ0hlaWdodDogJyNpcHQtdGJyLWltZ2hlaWdodCcsXHJcbiAgICAgIGJ0blRickRlY3IwMTonI2J0bi10YnItZGVjcjAxJyxcclxuICAgICAgYnRuVGJyRGVjcjEwOiAnI2J0bi10YnItZGVjcjEwJyxcclxuICAgICAgYnRuVGJyRGVjcjUwOiAnI2J0bi10YnItZGVjcjUwJyxcclxuICAgICAgaXB0VGJyU1Bob25lc1dpZHRoOiAnI2lwdC10YnItc3Bob25lcy13aWR0aCcsXHJcbiAgICAgIGlwdFRickxQaG9uZXNXaWR0aDogJyNpcHQtdGJyLWxwaG9uZXMtd2lkdGgnLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyFWQSBJZiB3ZSBzZXBhcmF0ZSB0aGlzIG91dCBpbnRvIFVJIG9iamVjdHMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBvYmplY3RzIHdlIHdhbnQgdG8gY3JlYXRlLCB0aGVuIHdlIGNhbiBqdXN0IGxvb3AgdGhyb3VnaCB0aGVtIHJhdGhlciB0aGFuIGRlZmluZSBlYWNoIHByb3BlcnR5IHNlcGFyYXRlbHkuIFNvLCBkeW5hbWljRWxlbWVudHMgYXJlIHRob3NlIHRoYXQgcmVzaXplIGJhc2VkIG9uIHRoZSBjdXJyZW50IGltYWdlLi4uIGJ1dCBJIGhhdmVuJ3QgZmlndXJlZCBvdXQgaG93IHRvIGxvb3AgdGhyb3VnaCB0aGVtIHlldC5cclxuICAgIC8vICFWQSBVSUNvbnRyb2xsZXI6IGR5bmFtaWNSZWdpb25zXHJcbiAgICBjb25zdCBkeW5hbWljUmVnaW9ucyA9IHtcclxuICAgICAgY3VySW1nOiAnI2N1ci1pbWcnLFxyXG4gICAgICBpbWdWaWV3ZXI6ICcjbWFpbi1pbWFnZS12aWV3ZXInLFxyXG4gICAgICBpbWdWaWV3cG9ydDogJyNpbWFnZS12aWV3cG9ydCcsXHJcbiAgICAgIGFwcENvbnRhaW5lcjogJyNhcHAtY29udGFpbmVyJyxcclxuICAgIH07XHJcblxyXG4gICAgLy8gIVZBIFVJQ29udHJvbGxlcjogc3RhdGljUmVnaW9uc1xyXG4gICAgY29uc3Qgc3RhdGljUmVnaW9ucyA9IHtcclxuICAgICAgZHJvcEFyZWE6ICcjZHJvcC1hcmVhJyxcclxuICAgICAgdGJyQ29udGFpbmVyOiAnI3Rvb2xiYXItY29udGFpbmVyJyxcclxuICAgICAgY2NwQ29udGFpbmVyOiAnI2NjcCcsXHJcbiAgICAgIG1zZ0NvbnRhaW5lcjogJyNtc2ctY29udGFpbmVyJyxcclxuICAgICAgYXBwQmxvY2tlcjogJyNhcHAtYmxvY2tlcicsXHJcbiAgICAgIGhkcklzb2xhdGVBcHA6ICcuaGVhZGVyLWlzb2xhdGUtYXBwJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyAhVkEgIFVJQ29udHJvbGxlcjogY2NwVXNlcklucHV0IElEIFN0cmluZ3NcclxuICAgIC8vICFWQSBpbWdBbmNob3IgaXMganVzdCBhIGZsYWcgZm9yIHRoZSBzdGF0dXMgb2YgdGhlIGNoZWNrYm94LiBUaGUgYWN0dWFsIHByb3BTdHJpbmdzIGhhdmUgdG8gaGF2ZSBhbiBPcGVuIGFuZCBDbG9zZSBwcm9wZXJ0eS5cclxuICAgIGNvbnN0IGNjcFVzZXJJbnB1dCA9IHtcclxuICAgICAgLy8gIVZBIE5vdCByZW5hbWluZyB0aGUgY2hlY2tib3gvY2hlY2ttYXJrcyBiZWNhdXNlIHRoZXkgYWxyZWFkeSBoYXZlIGNvZGUgdGhhdCBxdWVyaWVzIHRoZSBsYXN0IHRocmVlIGNoYXJhY3RlcnMgdG8gZGV0ZXJtaW5lIGlmIG1yayBvciBib3guLi5cclxuICAgICAgLy8gIVZBIElNRyB0YWcgdXNlciBpbnB1dFxyXG4gICAgICBpcHRDY3BJbWdDbGFzczogJyNpcHQtY2NwLWltZy1jbGFzcycsXHJcbiAgICAgIGlwdENjcEltZ0FsdDogJyNpcHQtY2NwLWltZy1hbHQnLFxyXG4gICAgICBzcG5DY3BJbWdJbmNsdWRlV2lkdGhIZWlnaHRDaGVja21yazogJyNzcG4tY2NwLWltZy1pbmNsdWRlLXdpZHRoLWhlaWdodC1jaGVja21yaycsXHJcbiAgICAgIHNlbENjcEltZ0FsaWduOiAnI3NlbC1jY3AtaW1nLWFsaWduJyxcclxuICAgICAgaXB0Q2NwSW1nUmVsUGF0aDogJyNpcHQtY2NwLWltZy1yZWxwYXRoJyxcclxuICAgICAgc3BuQ2NwSW1nSW5jbHVkZUFuY2hvckNoZWNrbXJrOiAnI3Nwbi1jY3AtaW1nLWluY2x1ZGUtYW5jaG9yLWNoZWNrbXJrJyxcclxuICAgICAgLy8gIVZBIFREIHRhZyB1c2VyIGlucHV0XHJcbiAgICAgIGlwdENjcFRkQ2xhc3M6ICcjaXB0LWNjcC10ZC1jbGFzcycsXHJcbiAgICAgIHNlbENjcFRkQWxpZ246ICcjc2VsLWNjcC10ZC1hbGlnbicsXHJcbiAgICAgIHNlbENjcFRkVmFsaWduOiAnI3NlbC1jY3AtdGQtdmFsaWduJyxcclxuICAgICAgaXB0Q2NwVGRIZWlnaHQ6ICcjaXB0LWNjcC10ZC1oZWlnaHQnLFxyXG4gICAgICBpcHRDY3BUZFdpZHRoOiAnI2lwdC1jY3AtdGQtd2lkdGgnLFxyXG4gICAgICBpcHRDY3BUZEJnQ29sb3I6ICcjaXB0LWNjcC10ZC1iZ2NvbG9yJyxcclxuICAgICAgaXB0Q2NwVGRGb250Q29sb3I6ICcjaXB0LWNjcC10ZC1mb250Y29sb3InLFxyXG4gICAgICBpcHRDY3BUZEJvcmRlckNvbG9yOiAnI2lwdC1jY3AtdGQtYm9yZGVyY29sb3InLFxyXG4gICAgICBpcHRDY3BUZEJvcmRlclJhZGl1czogJyNpcHQtY2NwLXRkLWJvcmRlcnJhZGl1cycsXHJcbiAgICAgIHJkb0NjcFRkQmFzaWM6ICcjcmRvLWNjcC10ZC1iYXNpYycsXHJcbiAgICAgIHJkb0NjcFRkRXhjbHVkZWltZzogJyNyZG8tY2NwLXRkLWV4Y2x1ZGVpbWcnLFxyXG4gICAgICByZG9DY3BUZEltZ3N3YXA6ICcjcmRvLWNjcC10ZC1pbWdzd2FwJyxcclxuICAgICAgcmRvQ2NwVGRQb3Nzd2l0Y2g6ICcjcmRvLWNjcC10ZC1wb3Nzd2l0Y2gnLFxyXG4gICAgICByZG9DY3BUZEJnaW1hZ2U6ICcjcmRvLWNjcC10ZC1iZ2ltYWdlJyxcclxuICAgICAgcmRvQ2NwVGRWbWxidXR0b246ICcjcmRvLWNjcC10ZC12bWxidXR0b24nLFxyXG4gICAgICAvLyAhVkEgVEFCTEUgdGFnIHVzZXIgaW5wdXRcclxuICAgICAgaXB0Q2NwVGFibGVDbGFzczogJyNpcHQtY2NwLXRhYmxlLWNsYXNzJyxcclxuICAgICAgc2VsQ2NwVGFibGVBbGlnbjogJyNzZWwtY2NwLXRhYmxlLWFsaWduJyxcclxuICAgICAgaXB0Q2NwVGFibGVXaWR0aDogJyNpcHQtY2NwLXRhYmxlLXdpZHRoJyxcclxuICAgICAgLy8gIVZBIE5vdCBpbiB1c2UgeWV0XHJcbiAgICAgIC8vIHRhYmxlTWF4V2lkdGg6ICcjaXB0LWNjcC10YWJsZS1tYXgtd2lkdGgnLFxyXG4gICAgICBpcHRDY3BUYWJsZUJnQ29sb3I6ICcjaXB0LWNjcC10YWJsZS1iZ2NvbG9yJyxcclxuICAgICAgc3BuQ2NwVGFibGVJbmNsdWRlV3JhcHBlckNoZWNrbXJrOiAnI3Nwbi1jY3AtdGFibGUtaW5jbHVkZS13cmFwcGVyLWNoZWNrbXJrJyxcclxuICAgICAgaXB0Q2NwVGFibGVXcmFwcGVyQ2xhc3M6ICcjaXB0LWNjcC10YWJsZS13cmFwcGVyLWNsYXNzJyxcclxuICAgICAgaXB0Q2NwVGFibGVXcmFwcGVyV2lkdGg6ICcjaXB0LWNjcC10YWJsZS13cmFwcGVyLXdpZHRoJyxcclxuICAgICAgc2VsQ2NwVGFibGVXcmFwcGVyQWxpZ246ICcjc2VsLWNjcC10YWJsZS13cmFwcGVyLWFsaWduJyxcclxuICAgICAgaXB0Q2NwVGFibGVXcmFwcGVyQmdDb2xvcjogJyNpcHQtY2NwLXRhYmxlLXdyYXBwZXItYmdjb2xvcicsXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyAhVkEgQ0NQIEVsZW1lbnRzIHVzZWQgZm9yIHRvb2x0aXBzLiBUaGlzIGlzIGEgZGlmZmVyZW50IGxpc3QgdGhhbiB0aGUgQ0NQVXNlcklucHV0IGVsZW1lbnRzIGFsdGhvdWdoIHNvbWUgYXJlIGR1cGxpY2F0ZWQuIFRoZSBlbGVtZW50IHRoYXQgdHJpZ2dlcnMgdGhlIHRvb2x0aXAgaGFzIHRvIGJlIHRoZSBwYXJlbnQgZWxlbWVudCBvZiB0aGUgaW5wdXQgb3IgY2hlY2tib3ggZWxlbWVudCwgb3RoZXJ3aXNlIGlmIHRoZSB1c2VyIGhvdmVycyBvdmVyIGEgbGFiZWwgaW5zdGVhZCBvZiB0aGUgYWN0dWFsIGlucHV0IGVsZW1lbnQsIG5vdGhpbmcgaGFwcGVucy5cclxuICAgIGNvbnN0IGNjcFVzZXJJbnB1dExhYmVscyA9IHtcclxuICAgICAgc2VsQ2NwSW1nQWxpZ25MYWJlbDogJyNzZWwtY2NwLWltZy1hbGlnbi1sYWJlbCcsXHJcbiAgICAgIGlwdENjcEltZ0NsYXNzTGFiZWw6ICcjaXB0LWNjcC1pbWctY2xhc3MtbGFiZWwnLFxyXG4gICAgICBpcHRDY3BJbWdSZWxwYXRoTGFiZWw6ICcjaXB0LWNjcC1pbWctcmVscGF0aC1sYWJlbCcsXHJcbiAgICAgIGlwdENjcEltZ0FsdExhYmVsOiAnI2lwdC1jY3AtaW1nLWFsdC1sYWJlbCcsXHJcbiAgICAgIGlwdENjcEltZ0luY2x1ZGVXaWR0aEhlaWdodExhYmVsOiAnI2NjcC1pbWctaW5jbHVkZS13aWR0aC1oZWlnaHQtbGFiZWwnLFxyXG4gICAgICBcclxuICAgIH07XHJcbiAgICAgIFxyXG4gICAgY29uc3QgYnRuQ2NwTWFrZUNsaXBzID0ge1xyXG4gICAgICAvLyAhVkEgQnVpbGQgSFRNTCBDbGlwYm9hcmQgQnV0dG9uc1xyXG4gICAgICAvLyAhVkEgTkVXXHJcbiAgICAgIGJ0bkNjcE1ha2VJbWdUYWc6ICcjYnRuLWNjcC1tYWtlLWltZy10YWcnLFxyXG4gICAgICAvLyBidG5DY3BJbWdCdWlsZEh0bWxDbGlwOiAnI2J0bi1jY3AtaW1nLWJ1aWxkLWh0bWwtY2xpcCcsXHJcbiAgICAgIGJ0bkNjcE1ha2VUZFRhZzogJyNidG4tY2NwLW1ha2UtdGQtdGFnJyxcclxuICAgICAgYnRuQ2NwTWFrZVRhYmxlVGFnOiAnI2J0bi1jY3AtbWFrZS10YWJsZS10YWcnLFxyXG4gICAgICBcclxuICAgICAgLy8gIVZBIE1ha2UgSW1hZ2UgQ1NTIFJ1bGUgQnV0dG9uc1xyXG4gICAgICBidG5DY3BNYWtlSW1nRHNrdHBDc3NSdWxlOiAnI2J0bi1jY3AtbWFrZS1pbWctZHNrdHAtY3NzLXJ1bGUnLFxyXG4gICAgICBidG5DY3BNYWtlSW1nU21waG5Dc3NSdWxlOiAnI2J0bi1jY3AtbWFrZS1pbWctc21waG4tY3NzLXJ1bGUnLFxyXG4gICAgICBidG5DY3BNYWtlSW1nTGdwaG5Dc3NSdWxlOiAnI2J0bi1jY3AtbWFrZS1pbWctbGdwaG4tY3NzLXJ1bGUnLFxyXG4gICAgICAvLyAhVkEgTWFrZSBUZCBDU1MgUnVsZSBCdXR0b25zXHJcbiAgICAgIGJ0bkNjcE1ha2VUZERza3RwQ3NzUnVsZTogICcjYnRuLWNjcC1tYWtlLXRkLWRza3RwLWNzcy1ydWxlJyxcclxuICAgICAgYnRuQ2NwTWFrZVRkU21waG5Dc3NSdWxlOiAnI2J0bi1jY3AtbWFrZS10ZC1zbXBobi1jc3MtcnVsZScsXHJcbiAgICAgIGJ0bkNjcE1ha2VUZExncGhuQ3NzUnVsZTogJyNidG4tY2NwLW1ha2UtdGQtbGdwaG4tY3NzLXJ1bGUnLFxyXG4gICAgICAvLyAhVkEgTWFrZSBUYWJsZSBDU1MgUnVsZSAgQnV0dG9uc1xyXG4gICAgICBidG5DY3BNYWtlVGFibGVEc2t0cENzc1J1bGU6ICAnI2J0bi1jY3AtbWFrZS10YWJsZS1kc2t0cC1jc3MtcnVsZScsXHJcbiAgICAgIGJ0bkNjcE1ha2VUYWJsZVNtcGhuQ3NzUnVsZTogJyNidG4tY2NwLW1ha2UtdGFibGUtc21waG4tY3NzLXJ1bGUnLFxyXG4gICAgICBidG5DY3BNYWtlVGFibGVMZ3BobkNzc1J1bGU6ICcjYnRuLWNjcC1tYWtlLXRhYmxlLWxncGhuLWNzcy1ydWxlJyxcclxuICAgICAgXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyAhVkEgQXBwbWVzc2FnZSBlbGVtZW50c1xyXG4gICAgY29uc3QgYXBwTWVzc2FnZUVsZW1lbnRzID0ge1xyXG4gICAgICB0aXBDb250ZW50OiAnI3RpcC1jb250ZW50JyxcclxuICAgICAgbXNnQ29udGVudDogJyNtc2ctY29udGVudCcsXHJcbiAgICAgIGVyckNvbnRlbnQ6ICcjZXJyLWNvbnRlbnQnXHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgLy8gIVZBIFJ1biB0ZXN0IGZ1bmN0aW9uIG9uIHBhZ2UgbG9hZFxyXG4gICAgLy8gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IFxyXG4gICAgLy8gICAgIC8vIHZhciBmdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0bkNjcE1ha2VDbGlwcy5idG5DY3BNYWtlVGRUYWcpO1xyXG4gICAgLy8gICAgIC8vIGZ1Zy5jbGljaygpO1xyXG5cclxuXHJcblxyXG4gICAgLy8gICB9LCA1MDApO1xyXG4gICAgLy8gfSk7XHJcblxyXG5cclxuICBcclxuXHJcblxyXG4gICAgLy8gIVZBIFVJQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICAvLyAhVkEgUmVib290OiBwYXNzaW5nIGluIEFwcGRhdGEgZnJvbSBcclxuICAgIGZ1bmN0aW9uIGV2YWxJbnNwZWN0b3JBbGVydHMoQXBwZGF0YSkge1xyXG4gICAgICAvLyAhVkEgaW5pdCBpbnNwZWN0b3IgYW5kIGZsYWdnZWQgaW5zcGVjdG9yIGxpc3RzXHJcbiAgICAgIGxldCBhbGxJbnNwZWN0b3JzID0gW107XHJcbiAgICAgIC8vICFWQSBBcnJheSB0byBob2xkIHRoZSBmbGFnZ2VkIGluc3BlY3RvciBsYWJlbHNcclxuICAgICAgbGV0IGZsYWdnZWRJbnNwZWN0b3JzID0gW107XHJcbiAgICAgIC8vICFWQSBHZXQgYWxsIHRoZSBJbnNwZWN0b3IgbGFiZWxzXHJcbiAgICAgIGFsbEluc3BlY3RvcnMgPSBVSUNvbnRyb2xsZXIuZ2V0SW5zcGVjdG9yTGFiZWxzSURzKCk7XHJcbiAgICAgIC8vICFWQSBRdWVyeSBBcHBkYXRhXHJcbiAgICAgIC8vIGxldCBBcHBkYXRhID0ge307XHJcbiAgICAgIC8vIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKGZhbHNlKTtcclxuICAgICAgLy8gIVZBIFNpemUgT24gRGlzayBpcyBOT1QgMlggdGhlIERpc3BsYXkgU2l6ZTogZmxhZyBTaXplIG9uIERpc2sgYW5kIFJldGluYVxyXG4gICAgICBpZiAoQXBwZGF0YS5pbWdOVyA8IChBcHBkYXRhLmltZ1cgKiAyKSApIHtcclxuICAgICAgICBmbGFnZ2VkSW5zcGVjdG9ycy5wdXNoKGFsbEluc3BlY3RvcnMuaW5zRGlza1NpemVMYWJlbCk7XHJcbiAgICAgIH0gXHJcbiAgICAgIC8vICFWQSBTbWFsbCBwaG9uZXMgaXNuJ3QgYXQgbGVhc3QgMlggc2l6ZSBvbiBEaXNrIGFuZCBSZXRpbmFcclxuICAgICAgaWYgKEFwcGRhdGEuaW1nTlcgPCAoQXBwZGF0YS5zUGhvbmVzVyAqIDIpICkge1xyXG4gICAgICAgIGZsYWdnZWRJbnNwZWN0b3JzLnB1c2goYWxsSW5zcGVjdG9ycy5pbnNTbWFsbFBob25lc0xhYmVsKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgTGFyZ2UgcGhvbmVzIGlzbid0IGF0IGxlYXN0IDJYIFNpemUgb24gRGlzayBhbmQgUmV0aW5hXHJcbiAgICAgIGlmIChBcHBkYXRhLmltZ05XIDwgKEFwcGRhdGEubFBob25lc1cgKiAyKSApIHtcclxuICAgICAgICBmbGFnZ2VkSW5zcGVjdG9ycy5wdXNoKGFsbEluc3BlY3RvcnMuaW5zTGFyZ2VQaG9uZXNMYWJlbCk7XHJcbiAgICAgIH0gXHJcbiAgICAgIC8vICFWQSBSZXNldCBhbGwgdGhlIGRpbSB2aWV3ZXIgYWxlcnRzIGJ5IHBhc3NpbmcgaW4gdGhlIGVudGlyZSBJbnNwZWN0b3IgYXJyYXkuIFdlJ3JlIHJ1bm5pbmcgdGhpcyBmdW5jdGlvbiB0d2ljZSBoZXJlLCBlYWNoIHRpbWUgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycyAtLSBjb3VsZCBiZSBEUlllciBidXQgaXQgd29ya3MgYW5kIFxyXG4gICAgICAvLyBVSUNvbnRyb2xsZXIud3JpdGVJbnNwZWN0b3JBbGVydHMoYWxsSW5zcGVjdG9ycywgZmFsc2UpO1xyXG4gICAgICAvLyAhVkEgTm93IHNldCB0aGUgaW5kaXZpZHVhbCBkaW0gdmlld2VyIGFsZXJ0cyBmb3IgdGhlIGN1cnJlbnQgaW1hZ2UuXHJcbiAgICAgIFVJQ29udHJvbGxlci53cml0ZUluc3BlY3RvckFsZXJ0cyhmbGFnZ2VkSW5zcGVjdG9ycyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dBcHBNZXNzYWdlcyhhcHBNZXNzQ29udGFpbmVySWQsIHRvb2x0aXBUYXJnZXQpIHtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdzaG93QXBwTWVzc2FnZXMgcnVubmluZycpO1xyXG4gICAgICAvLyAhVkEgQnJhbmNoOiBpbXBsZW1lbnRNb2RpZmllclRvb2x0aXBzICgwNTE4MjApIERFUFJFQ0FURURcclxuICAgICAgLy8gIVZBIFNob3cgdGhlIGN1cnJlbnQgYXBwTWVzc2FnZS4gSWYgdGhlIGN1cnJlbnQgYXBwTWVzc2FnZSBpcyBhIHRvb2x0aXAsIHRoZW4gc2hvdyB0aGUgaGVscCBjdXJzb3Igd2hpbGUgdGhlIG1vdXNlIGlzIGluIHRoZSB0b29sdGlwIGVsZW1lbnQuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdhcHBNZXNzQ29udGFpbmVyIGlzOiAnICsgYXBwTWVzc0NvbnRhaW5lcklkKTtcclxuICAgICAgY29uc29sZS5sb2coJ3Rvb2x0aXBUYXJnZXQgaXM6ICcgKyB0b29sdGlwVGFyZ2V0KTtcclxuXHJcblxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFwcE1lc3NDb250YWluZXJJZCkuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIGlmICghYXBwTWVzc0NvbnRhaW5lcklkLmluY2x1ZGVzKCd0aXAnKSkge1xyXG5cclxuXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdGF0aWNSZWdpb25zLmFwcEJsb2NrZXIpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgfSBcclxuXHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGhpZGVBcHBNZXNzYWdlcyhhcHBNZXNzQ29udGFpbmVySWQsIHRvb2x0aXBUYXJnZXQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2hpZGVBcHBNZXNzYWdlcyBydW5uaW5nJyk7XHJcblxyXG4gICAgICAvLyAhVkEgSGlkZSBjdXJyZW50IGFwcCBtZXNzYWdlXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygncmVtb3ZpbmcgYmxvY2tlcicpO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0YXRpY1JlZ2lvbnMuYXBwQmxvY2tlcikuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblxyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFwcE1lc3NDb250YWluZXJJZCkuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIFVJQ29udHJvbGxlciBwdWJsaWMgZnVuY3Rpb25zXHJcbiAgICByZXR1cm4ge1xyXG5cclxuICAgICAgLy8gIVZBIFVJQ29udHJvbGxlciBwdWJsaWNcclxuICAgICAgLy8gIVZBIFRoaXMgaGFzIHRvIGNhbmNlbCB0aGUgdGltZW91dHMgZm9yIHRoZSBydW5tblxyXG4gICAgICBkaXNwbGF5QXBwTWVzc2FnZXM6IGZ1bmN0aW9uIChpc1Nob3csIGFwcE1lc3NDb250YWluZXJJZCwgdG9vbHRpcFRhcmdldCkge1xyXG4gICAgICAgIC8vICFWQSBQYXNzLXRodXIgcHVibGljIGZ1bmN0aW9uIHRvIHBhc3MgZGlzcGxheSBhY3Rpb25zIHRvIHRoZSBVSUNvbnRyb2xsZXIuIElmIGlzU2hvdyBpcyB0cnVlLCBjYWxsIHNob3dBcHBNZXNzYWdlcy4gSWYgaXQncyBmYWxzZSwgY2FsbCBoaWRlQXBwTWVzc2FnZXMuIE5PVEU6IHRoZSB0b29sdGlwIGFwcE1lc3NhZ2UgaXMgdW5kaXNwbGF5ZWQgaW4gXHJcbiAgICAgICAgaXNTaG93ID8gc2hvd0FwcE1lc3NhZ2VzKGFwcE1lc3NDb250YWluZXJJZCwgdG9vbHRpcFRhcmdldCkgOiBoaWRlQXBwTWVzc2FnZXMoYXBwTWVzc0NvbnRhaW5lcklkLCB0b29sdGlwVGFyZ2V0KTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvLyAhVkEgVjIgUmV0dXJuIGFsbCB0aGUgc3RyaW5ncyBmb3IgdGhlIFVJIGVsZW1lbnQncyBJRHNcclxuICAgICAgZ2V0SW5zcGVjdG9yRWxlbWVudElEczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGluc3BlY3RvckVsZW1lbnRzO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRJbnNwZWN0b3JWYWx1ZXNJRHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBpbnNwZWN0b3JWYWx1ZXM7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEluc3BlY3RvckxhYmVsc0lEczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGluc3BlY3RvckxhYmVscztcclxuICAgICAgfSxcclxuICAgICAgLy8gIVZBIFJlYm9vdDogVGhpcyBpcyB3cm9uZyBub3cgYWZ0ZXIgcmVuYW1pbmdcclxuICAgICAgZ2V0VG9vbEJ1dHRvbklEczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRvb2xiYXJFbGVtZW50cztcclxuICAgICAgfSxcclxuICAgICAgZ2V0RHluYW1pY1JlZ2lvbklEczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGR5bmFtaWNSZWdpb25zO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRTdGF0aWNSZWdpb25JRHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBzdGF0aWNSZWdpb25zO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRDY3BVc2VySW5wdXRJRHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBjY3BVc2VySW5wdXQ7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldENjcFVzZXJJbnB1dExhYmVsSWRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gY2NwVXNlcklucHV0TGFiZWxzO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRCdG5DY3BNYWtlQ2xpcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBidG5DY3BNYWtlQ2xpcHM7XHJcbiAgICAgIH0sXHJcbiAgICAgIGdldEFwcE1lc3NhZ2VFbGVtZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIGFwcE1lc3NhZ2VFbGVtZW50cztcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vICFWQSBVSUNvbnRyb2xsZXIgcHVibGljXHJcbiAgICAgIGluaXRUb29sYmFySW5wdXRzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAhVkEgVGhpcyBpcyBjYWxsZWQgZnJvbSBpbml0ICg/ICkgYW5kIGluaXRpYWxpemVzIHRoZSB2YWx1ZXMgb2YgdGhlIHRvb2xiYXIgdmlld2VyVywgc1Bob25lc1cgYW5kIGxQaG9uZXNXIHZhbHVlcyBmcm9tIGVpdGhlciBhIGRlZmF1bHQgdmFsdWUgb3IgdGhlIGxvY2FsU3RvcmFnZSB2YWx1ZXMuIENoZWNrIGlmIHRoZXJlIGFyZSBsb2NhbFN0b3JhZ2UgdmFsdWVzLCBpZiBub3QsIGluaXRpYWxpemUgdmlld2VyVyA9IDY1MCwgc1Bob25lc1cgPSAzMjAsIGxQaG9uZXNXID0gNDE0IGFuZCB3cml0ZSB0aG9zZSB0byB0aGUgdG9vbGJhclVJLiBcclxuICAgICAgICBjb25zb2xlLmxvZygnaW5pdFRvb2xiYXJJbnB1dHMgcnVubmluZycpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gIVZBIFVJQ29udHJvbGxlciBwdWJsaWMgZ2V0QXBwZGF0YVxyXG4gICAgICAvLyAhVkEgTW92ZWQgZ2V0QXBwZGF0YSBmcm9tIGFwcENvbnRyb2xsZXIgdG8gVUlDb250cm9sbGVyIGJlY2F1c2UgQXBwZGF0YSBpcyBkZXJpdmVkIGZyb20gdGhlIERPTSBlbGVtZW50cyBhbmQgZGF0YSBwcm9wZXJ0aWVzIHRoYXQgcmVzaWRlIGluIHRoZSBET00uIFxyXG5cclxuICAgICAgLy8gIVZBIFVJQ29udHJvbGxlciBwdWJsaWNcclxuICAgICAgcXVlcnlET01FbGVtZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3F1ZXJ5RE9NRWxlbWVudHMgcnVubmluZycpO1xyXG4gICAgICAgIC8vICFWQSBORVcgVGhpcyBuZWVkcyB0byBPTkxZIHJldHVybiB0aGUgbm9uLWNhbGN1bGF0ZWQgRE9NIGVsZW1lbnRzIGFuZCBkYXRhIHByb3BlcnRpZXM6IGN1ckltZy5pbWdXLCBjdXJJbWcuaW1nVywgY3VySW1nLmltZ05XLCBjdXJJbWcuTkggYW5kIHZpZXdlclcuIEFzcGVjdCBpcyBjYWxjdWxhdGVkIHNvIHdlIGRvbid0IG5lZWQgdG8gZ2V0IHRoYXQgaGVyZSwgbGVhdmUgdGhhdCB0byBhcHBDb250cm9sbGVyLlxyXG4gICAgICAgIC8vICFWQSBORVcgV2Ugd2lsbCBnZXQgdGhlIGluZGl2aWR1YWwgcHJvcGVydGllcyBhbmQgcmV0dXJuIHRoZW0gYXMgYW4gRVM2IGFycmF5LlxyXG4gICAgICAgIC8vICFWQSBEZWNsYXJlIHRoZSBsb2NhbCB2YXJzXHJcbiAgICAgICAgLy8gIVZBIFJlYm9vdCAtIHNob3VsZCB0aGVzZSB2YXJzIGJlIHJlbmFtZWQgYWNjb3JkaW5nIHRvIHRoZSBuZXcgc2NoZW1lPyBJIGFtIGdvaW5nIHRvIHVzZSB0aGUgY29udmVudGlvbiBmbmFtZSAtIGluc0ZpbGVuYW1lIHdoZW4gdXNlZCBpbiB2YXJpYWJsZSBuYW1lLlxyXG4gICAgICAgIHZhciBmbmFtZSwgdmlld2VyVywgdmlld2VySCwgaW1nVywgaW1nSCwgaW1nTlcsIGltZ05ILCBzUGhvbmVzVywgbFBob25lc1c7XHJcbiAgICAgICAgdmFyIGVscyA9IHtmbmFtZSwgdmlld2VyVywgdmlld2VySCwgaW1nVywgaW1nSCwgaW1nTlcsIGltZ05ILCBzUGhvbmVzVywgbFBob25lc1d9O1xyXG5cclxuICAgICAgICAvLyAhVkEgR2V0IHRoZSBpbnNGaWxlbmFtZSBmcm9tIHRoZSBJbnNwZWN0b3JcclxuICAgICAgICBlbHMuZm5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvckVsZW1lbnRzLmluc0ZpbGVuYW1lKS50ZXh0Q29udGVudDtcclxuICAgICAgICAvLyAhVkEgR2V0IHRoZSBjdXJJbWcgYW5kIGltZ1ZpZXdlclxyXG4gICAgICAgIHZhciBjdXJJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGR5bmFtaWNSZWdpb25zLmN1ckltZyk7XHJcbiAgICAgICAgdmFyIGltZ1ZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuaW1nVmlld2VyKTtcclxuICAgICAgICAvLyAhVkEgR2V0IHRoZSBjb21wdXRlZCB3aWR0aCBhbmQgaGVpZ2h0IG9mIGltZ1ZpZXdlclxyXG4gICAgICAgIHZhciBjU3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoaW1nVmlld2VyKTtcclxuICAgICAgICBlbHMudmlld2VyVyA9IHBhcnNlSW50KGNTdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnd2lkdGgnKSwgMTApO1xyXG4gICAgICAgIGVscy52aWV3ZXJIID0gcGFyc2VJbnQoY1N0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdoZWlnaHQnKSwgMTApO1xyXG4gICAgICAgIC8vICFWQSBHZXQgdGhlIGRpbWVuc2lvbnMgb2YgY3VySW1nXHJcbiAgICAgICAgZWxzLmltZ1cgPSBjdXJJbWcud2lkdGg7XHJcbiAgICAgICAgZWxzLmltZ0ggPSBjdXJJbWcuaGVpZ2h0O1xyXG4gICAgICAgIGVscy5pbWdOVyA9IGN1ckltZy5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgZWxzLmltZ05IID0gY3VySW1nLm5hdHVyYWxIZWlnaHQ7XHJcblxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vICFWQSBHZXQgdGhlIGRhdGEgcHJvcGVydGllcyBmb3IgaXB0VGJyU21hbGxQaG9uZXNXIGFuZCBzUGhvbmVzSFxyXG4gICAgICAgIC8vICFWQSBUaGlzIGlzIG5vIGdvb2QuIENhbid0IHF1ZXJ5IEFwcGRhdGEgd2hlbiBpdCBkb2Vzbid0IGV4aXN0LiBUcnkgdGhpczogaWYgdGhlIGN1cnJlbnQgdmFsdWUgZG9lc24ndCBlcXVhbCB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuLi5sZXQncyBsZWF2ZSB0aGlzIGZvciBsYXRlciBhbmQgaG9wZSB0aGVyZSdzIG5vIGNhdGFzdHJvcGhlIVxyXG5cclxuICAgICAgICBlbHMuc1Bob25lc1cgPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJTUGhvbmVzV2lkdGgpLmdldEF0dHJpYnV0ZSgnZGF0YS1zcGhvbmVzdycpLCAxMCk7XHJcbiAgICAgICAgZWxzLmxQaG9uZXNXID0gcGFyc2VJbnQoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFyRWxlbWVudHMuaXB0VGJyTFBob25lc1dpZHRoKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbHBob25lc3cnKSwgMTApO1xyXG4gICAgICAgIGVscy5pcHRUYnJTUGhvbmVzV2lkdGggPyBlbHMuaXB0VGJyU1Bob25lc1dpZHRoIDogQXBwZGF0YS5pcHRUYnJTUGhvbmVzV2lkdGggPSBwYXJzZUludChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJTUGhvbmVzV2lkdGgpLnBsYWNlaG9sZGVyLCAxMCk7XHJcbiAgICAgICAgZWxzLmlwdFRickxQaG9uZXNXaWR0aCA/IGVscy5pcHRUYnJMUGhvbmVzV2lkdGggOiBBcHBkYXRhLmlwdFRickxQaG9uZXNXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRickxQaG9uZXNXaWR0aCkucGxhY2Vob2xkZXIsIDEwKTtcclxuICAgICAgICAvLyBjb25zb2xlLmRpcihlbHMpO1xyXG4gICAgICAgIHJldHVybiBlbHM7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyAhVkEgVUlDb250cm9sbGVyIHB1YmxpY1xyXG4gICAgICBpbml0VUk6IGZ1bmN0aW9uKGluaXRNb2RlKSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGRlbGF5SW5NaWxsaXNlY29uZHMgPSAxMDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaW5pdE1vZGUgaXM6ICcgKyBpbml0TW9kZSk7XHJcbiAgICAgICAgLy8gIVZBIEhlcmUgd2UgaW5pdGlhbHplIERFViBtb2RlLCBpLmUuIHJlYWRpbmcgYSBoYXJkY29kZWQgaW1hZ2UgZnJvbSB0aGUgSFRNTCBmaWxlIGluc3RlYWQgb2YgbG9hZGluZyBvbmUgbWFudWFsbHkgaW4gcHJvZHVjdGlvbiBtb2RlXHJcbiAgICAgICAgaWYgKGluaXRNb2RlID09PSAnZGV2bW9kZScpIHtcclxuICAgICAgICAgIC8vICFWQSBTZXQgYSB0aW1lb3V0IHRvIGdpdmUgdGhlIGltYWdlIHRpbWUgdG8gbG9hZFxyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gIVZBIFNob3cgdGhlIHRvb2xiYXIgYW5kIGN1ckltZyByZWdpb25cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdGF0aWNSZWdpb25zLnRickNvbnRhaW5lcikuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuY3VySW1nKS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgICAgICAgICAgLy8gIVZBICBHZXQgdGhlIGluc0ZpbGVuYW1lIG9mIHRoZSBkZXZJbWcgaW4gdGhlIEhUTUwuIFRoaXMgaXMgdGhlIG9ubHkgdGltZSB3ZSdsbCBoYXZlIGFuIGFjdHVhbCBzb3VyY2UgZmlsZSAtLSBpbiB1c2VyIG1vZGUgYWxsIHRoZSBpbWFnZXMgYXJlIGJsb2JzIC0tIHNvIHdlIGNhbiBkbyB0aGlzIGFzIGEgb25lLW9mZi5cclxuICAgICAgICAgICAgdmFyIGZuYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkeW5hbWljUmVnaW9ucy5jdXJJbWcpLnNyYztcclxuICAgICAgICAgICAgZm5hbWUgPSBmbmFtZS5zcGxpdCgnLycpO1xyXG4gICAgICAgICAgICBmbmFtZSA9IGZuYW1lW2ZuYW1lLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAvLyAhVkEgV3JpdGUgdGhlIGluc0ZpbGVuYW1lIHRvIHRoZSBET00gc28gd2UgY2FuIGFkZCBpdCBsYXRlciB0byBBcHBkYXRhLiBJdCdzIG5vdCBjb21wbGV0ZWx5IERSWSBiZWNhdXNlIGl0J3MgYWRkZWQgdG8gdGhlIERPTSBoZXJlIGFuZCBsYXRlciB0byBBcHBkYXRhLCBhbmQgdGhlbiBxdWVyaWVkIGluIHRoZSBDQ1AgZnJvbSBBcHBkYXRhLCBidXQgaXQncyBiZXR0ZXIgdGhhbiBoYXZpbmcgdG8gcXVlcnkgaXQgZnJvbSB0aGUgRE9NIGV2ZXJ5IHRpbWUgaXQncyB1c2VkIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gY2FsbC4gVGhpcyB3YXksIHdlIGNhbiBsb29wIHRocm91Z2ggQXBwZGF0YSB0byBnZXQgaXQgaWYgd2UgbmVlZCB0by5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JFbGVtZW50cy5pbnNGaWxlbmFtZSkudGV4dENvbnRlbnQgPSBmbmFtZTtcclxuICAgICAgICAgICAgLy8gIVZBIEluaXRpYWx6ZSBjYWxjVmlld2VyU2l6ZSB0byBzaXplIHRoZSBpbWFnZSB0byB0aGUgYXBwIGNvbnRhaW5lciBhcmVhc1xyXG4gICAgICAgICAgICBhcHBDb250cm9sbGVyLmluaXRDYWxjVmlld2VyU2l6ZSgpO1xyXG4gICAgICAgICAgICAvLyAhVkEgT3BlbiB0aGUgQ0NQIGJ5IGRlZmF1bHQgaW4gZGV2IG1vZGVcclxuICAgICAgICAgICAgLy8gIVZBIEZpcnN0LCBzZXQgaXQgdG8gdGhlIG9wcG9zaXRlIG9mIGhvdyB5b3Ugd2FudCB0byBzdGFydCBpdC5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdGF0aWNSZWdpb25zLmNjcENvbnRhaW5lcikuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIC8vICFWQSBUaGVuIHJ1biBpbml0Q0NQIHRvIGluaXRpYWxpemUgLSBpbml0SW5pdENDUCBpcyB0aGUgcHVibGljIGFwcENvbnRyb2xsZXIgZnVuY3Rpb24gaW5jbHVkZWQganVzdCB0byBhY2Nlc3MgYXBwY29udHJvbGxlciBwcml2YXRlIGluaXRDQ1AgZnJvbSB0aGUgVUlDb250cm9sbGVyIG1vZHVsZVxyXG4gICAgICAgICAgICBhcHBDb250cm9sbGVyLmluaXRJbml0Q0NQKCk7XHJcbiAgICAgICAgICB9LCBkZWxheUluTWlsbGlzZWNvbmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIVZBIFRoZSByZXN0IG9mIHRoZSByb3V0aW5lIGFwcGxpZXMgdG8gREVWIGFuZCBQUk9EIG1vZGVzXHJcbiAgICAgICAgLy8gIVZBIEluaXRpYWxpemUgdGhlIGlucHV0IGZpZWxkcyBmb3IgdGhlIHBlcnRpbmVudCBkZXZpY2Ugd2lkdGhzOiB2aWV3ZXJXLCBzUGhvbmVzVyBhbmQgbFBob25lc1cuIEFsc28gaW5pdGlhbGl6ZSB0aGUgZGF0YSBhdHRyaWJ1dGVzIGZvciBzcGhvbmVzdyBhbmQgbHBob25lc3cgLSB3ZSBvbmx5IHdhbnQgdG8gYWNjZXNzIHRoZSBsb2NhbFN0b3JhZ2Ugb25jZSBhbmQgdGhlIHJlc3Qgd2UgZG8gdXNpbmcgZGF0YS1hdHRyaWJ1dGVzXHJcbiAgICAgICAgbGV0IGFyciA9IFtdLCBjdXJEZXZpY2VXaWR0aHMgPSBbXTtcclxuICAgICAgICAvLyAhVkEgQ2xlYXIgbG9jYWxTdG9yYWdlIGZvciB0ZXN0aW5nIG9ubHkuXHJcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICAgICAgLy8gIVZBIElmIGxvY2FsU3RvcmFnZSBpcyBzZXQgZm9yIHZpZXdlclcsIHNQaG9uZXNXIG9yIGxnUGhvbmVzLCBhZGQgdGhlIGxvY2FsU3RvcmFnZSB2YWx1ZSB0byBjdXJEZXZpY2VXaWR0aHMsIG90aGVyd2lzZSBzZXQgdGhlIGRlZmF1bHRzIHVzZWQgd2hlbiB0aGUgYXBwIGlzIHVzZWQgZm9yIHRoZSBmaXJzdCB0aW1lIG9yIG5vIHVzZXItdmFsdWVzIGFyZSBlbnRlcmVkLlxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBhcnIgPSBbICd2aWV3ZXJXJywgJ3NQaG9uZXNXJywgJ2xQaG9uZXNXJyBdO1xyXG4gICAgICAgIC8vICFWQSBJZiB0aGVyZSdzIGxvY2FsU3RvcmFnZSwgcHVzaCBpdCB0byB0aGUgY3VyRGV2aWNlV2lkdGhzIGFycmF5LiBPdGhlcndpc2UsIHB1c2ggZmFsc2UuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFycltpXSkgPyBjdXJEZXZpY2VXaWR0aHMucHVzaChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShhcnJbaV0pKSA6IGN1ckRldmljZVdpZHRocy5wdXNoKGZhbHNlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vICFWQSBJZiB0aGVyZSdzIGEgbG9jYWxTdG9yYWdlIGZvciB2aWV3ZXJXLCBwdXQgdGhhdCB2YWx1ZSBpbnRvIHRoZSB2aWV3ZXJXIGZpZWxkIG9mIHRoZSB0b29sYmFyLCBvdGhlcndpc2UgdXNlIHRoZSBkZWZhdWx0LiBOT1RFOiBUaGUgZGVmYXVsdCBpcyBzZXQgT05MWSBpbiB0aGUgSFRNTCBlbGVtZW50J3MgcGxhY2Vob2xkZXIuIFRoZSBhZHZhbnRhZ2Ugb2YgdGhpcyBpcyB0aGF0IHdlIGNhbiBnZXQgaXQgYW55dGltZSB3aXRob3V0IGhhdmluZyB0byBzZXQgYSBnbG9iYWwgdmFyaWFibGUgb3IgbG9jYWxTdG9yYWdlIGZvciB0aGUgZGVmYXVsdC5cclxuICAgICAgICBjdXJEZXZpY2VXaWR0aHNbMF0gPyAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFyRWxlbWVudHMuaXB0VGJyVmlld2VyVykudmFsdWUgPSBjdXJEZXZpY2VXaWR0aHNbMF0gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJWaWV3ZXJXKS52YWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRiclZpZXdlclcpLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgIC8vICFWQSBJZiB0aGVyZSdzIGEgbG9jYWxTdG9yYWdlIGZvciBzUGhvbmVzVywgZ2V0IGl0LCBvdGhlcndpc2Ugc2V0IHRoZSBkZWZhdWx0IHRvIHRoZSBwbGFjZWhvbGRlciBpbiB0aGUgSFRNTCBlbGVtZW50IG9uIGluZGV4Lmh0bWwuIFRoZW4gc2V0IHRoZSB0b29sYmFyIGlucHV0IGZpZWxkIEFORCB0aGUgc3Bob25lc3cgZGF0YSBhdHRyaWJ1dGUgdG8gdGhpcyB2YWx1ZS4gTk9URTogVGhlIGRlZmF1bHQgaXMgc2V0IE9OTFkgaW4gdGhlIEhUTUwgZWxlbWVudCdzIHBsYWNlaG9sZGVyIVxyXG4gICAgICAgIGN1ckRldmljZVdpZHRoc1sxXSA/IGN1ckRldmljZVdpZHRoc1sxXSA6IGN1ckRldmljZVdpZHRoc1sxXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRiclNQaG9uZXNXaWR0aCkucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFyRWxlbWVudHMuaXB0VGJyU1Bob25lc1dpZHRoKS52YWx1ZSA9IGN1ckRldmljZVdpZHRoc1sxXTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJTUGhvbmVzV2lkdGgpLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGhvbmVzdycsIGN1ckRldmljZVdpZHRoc1sxXSk7XHJcbiAgICAgICAgLy8gIVZBIElmIHRoZXJlJ3MgYSBsb2NhbFN0b3JhZ2UgZm9yIGxQaG9uZXNXLCBnZXQgaXQsIG90aGVyd2lzZSBzZXQgdGhlIGRlZmF1bHQgdG8gdGhlIHBsYWNlaG9sZGVyZSBpbiB0aGUgSFRNTCBlbGVtZW50IGluIGluZGV4Lmh0bWwuIFRoZW4gc2V0IHRoZSB0b29sYmFyIGlucHV0IGZpZWxkIEFORCB0aGUgbHBob25lc3cgZGF0YSBhdHRyaWJ1dGUgdG8gdGhpcyB2YWx1ZS4gTk9URTogVGhlIGRlZmF1bHQgaXMgc2V0IE9OTFkgaW4gdGhlIEhUTUwgZWxlbWVudCdzIHBsYWNlaG9sZGVyIVxyXG4gICAgICAgIGN1ckRldmljZVdpZHRoc1syXSA/IGN1ckRldmljZVdpZHRoc1syXSA6IGN1ckRldmljZVdpZHRoc1syXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRickxQaG9uZXNXaWR0aCkucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFyRWxlbWVudHMuaXB0VGJyTFBob25lc1dpZHRoKS52YWx1ZSA9IGN1ckRldmljZVdpZHRoc1syXTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJMUGhvbmVzV2lkdGgpLnNldEF0dHJpYnV0ZSgnZGF0YS1scGhvbmVzdycsIGN1ckRldmljZVdpZHRoc1syXSk7XHJcblxyXG4gICAgICAgIC8vICFWQSBNYWtlIHN1cmUgdGhlIHRickNvbnRhaW5lciBpcyBvZmYgYW5kIHRoZSBkcm9wQXJlYSBpcyBvbi5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0YXRpY1JlZ2lvbnMuZHJvcEFyZWEpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdGF0aWNSZWdpb25zLnRickNvbnRhaW5lcikuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvckVsZW1lbnRzLmJ0blRvZ2dsZUNjcCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHJcbiAgICAgICAgLy8gIVZBIEluc3BlY3RvciBpbml0aWFsaXphdGlvbiBjb21lcyBub3cgZnJvbSB0aGUgSFRNTCBmaWxlLiBUaGUgZGVmYXVsdCAnTm8gSW1hZ2UnIGlzIGRpc3BsYXk6IGlubGluZSBpbiBDU1MuIFdoZW4gYW4gaW1hZ2UgaXMgbG9hZGVkLCBpbnNwZWN0b3JzIGFyZSBwb3B1bGF0ZWQgd2l0aCB2YWx1ZXMgaW4gVUlDb250cm9sbGVyLndyaXRlSW5zcGVjdG9ycy5cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vICFWQSBVSUNvbnRyb2xsZXIgcHVibGljXHJcbiAgICAgIHdyaXRlSW5zcGVjdG9yczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gIVZBIEhpZGUgIHRoZSBkZWZhdWx0ICdObyBJbWFnZScgdmFsdWUgZGlzcGxheWVkIHdoZW4gdGhlIGFwcCBpcyBvcGVuZWQgd2l0aCBubyBpbWFnZSBhbmQgZGlzcGxheSB0aGUgSW5zcGVjdG9yIHZhbHVlcyBmb3IgdGhlIGN1cnJlbnQgaW1hZ2UsIHNob3cgdGhlIENsaXBib2FyZCBidXR0b24gYW5kIGNhbGwgZXZhbEluc3BlY3RvckFsZXJ0cyB0byBkZXRlcm1pbmUgd2hpY2ggSW5zcGVjdG9yIGxhYmVscyBzaG91bGQgZ2V0IGRpbWVuc2lvbiBhbGVydHMgKHJlZCBmb250IGFwcGxpZWQpLiBcclxuICAgICAgICB2YXIgQXBwZGF0YSA9IHt9O1xyXG4gICAgICAgIC8vICFWQSBHZXQgdGhlIGN1cnJlbnQgQXBwZGF0YVxyXG4gICAgICAgIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKCk7XHJcbiAgICAgICAgLy8gIVZBIEhpZGUgdGhlIGRyb3BBcmVhXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdGF0aWNSZWdpb25zLmRyb3BBcmVhKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIC8vIFdyaXRlIHRoZSBpbnNwZWN0b3JFbGVtZW50c1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yRWxlbWVudHMuaW5zRmlsZW5hbWUpLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz0ncG9wLWZvbnQnPiR7QXBwZGF0YS5mbmFtZX08L3NwYW4+YDtcclxuICAgICAgICAvLyAhVkEgSW5zcGVjdG9yczogSGlkZSBhbGwgdGhlIFAgZWxlbWVudHMgd2l0aCB0aGUgY2xhc3MgJ25vLWltYWdlJyB0aGF0IGNvbnRhaW4gdGhlIGRlZmF1bHQgJ05vIEltYWdlJyB0ZXh0IFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbm8taW1hZ2UnKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbm8taW1hZ2UnKVtpXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgU2hvdyBhbGwgdGhlIGluc3BlY3Rvci1sYWJlbCwgaW5zcGVjdG9yLXggYW5kIGluc3BlY3Rvci12YWx1ZXMgXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnNwZWN0b3ItbGFiZWwnKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zcGVjdG9yLWxhYmVsJylbaV0uc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgRGlzcGxheSB0aGUgcmVzcGVjdGl2ZSBBcHBkYXRhIHZhbHVlIGluIHRoZSByZXNwZWN0aXZlIGluc3BlY3RvciB2YWx1ZSBzcGFuIFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yVmFsdWVzLmluc0Rpc3BsYXlTaXplV2lkdGhWYWx1ZSkuaW5uZXJIVE1MID0gQXBwZGF0YS5pbWdXO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yVmFsdWVzLmluc0Rpc3BsYXlTaXplSGVpZ2h0VmFsdWUpLmlubmVySFRNTCA9IEFwcGRhdGEuaW1nSDtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvclZhbHVlcy5pbnNEaXNrU2l6ZVdpZHRoVmFsdWUpLmlubmVySFRNTCA9IEFwcGRhdGEuaW1nTlc7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JWYWx1ZXMuaW5zRGlza1NpemVIZWlnaHRWYWx1ZSkuaW5uZXJIVE1MID0gQXBwZGF0YS5pbWdOSDtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvclZhbHVlcy5pbnNTbWFsbFBob25lc1dpZHRoVmFsdWUpLmlubmVySFRNTCA9IEFwcGRhdGEuc1Bob25lc1c7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JWYWx1ZXMuaW5zU21hbGxQaG9uZXNIZWlnaHRWYWx1ZSkuaW5uZXJIVE1MID0gQXBwZGF0YS5zUGhvbmVzSDtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvclZhbHVlcy5pbnNMYXJnZVBob25lc1dpZHRoVmFsdWUpLmlubmVySFRNTCA9IEFwcGRhdGEubFBob25lc1c7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JWYWx1ZXMuaW5zTGFyZ2VQaG9uZXNIZWlnaHRWYWx1ZSkuaW5uZXJIVE1MID0gQXBwZGF0YS5sUGhvbmVzSDtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvclZhbHVlcy5pbnNBc3BlY3RWYWx1ZSkuaW5uZXJIVE1MID0gQXBwZGF0YS5hc3BlY3RbMV07XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JWYWx1ZXMuaW5zUmV0aW5hV2lkdGhWYWx1ZSkuaW5uZXJIVE1MID0gKEFwcGRhdGEuaW1nVyAqIDIpO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yVmFsdWVzLmluc1JldGluYUhlaWdodFZhbHVlKS5pbm5lckhUTUwgPSAoQXBwZGF0YS5pbWdIICogMik7XHJcbiAgICAgICAgLy8gLy8gIVZBICBEaXNwbGF5IHRoZSBjbGlwYm9hcmQgYnV0dG9uXHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JFbGVtZW50cy5idG5Ub2dnbGVDY3ApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgICAgIC8vICFWQSBDYWxsIGV2YWxJbnNwZWN0b3JBbGVydHMgdG8gY2FsY3VsYXRlIHdoaWNoIEluc3BlY3RvciB2YWx1ZXMgZG9uJ3QgbWVldCBIVE1MIGVtYWlsIHNwZWNzLlxyXG4gICAgICAgIC8vICFWQSBSZWJvb3Q6IG5vdGhpbmcgaXMgcGFzc2VkIGhlcmUsIGFsdGhvdWdoIGV2YWxJbnNwZWN0b3JBbGVydHMgZXhwZWN0cyBhbiBhcmd1bWVudC4gU28gbGV0cycgdHJ5IHRvIHBhc3MgQXBwZGF0YVxyXG4gICAgICAgIGV2YWxJbnNwZWN0b3JBbGVydHMoQXBwZGF0YSk7XHJcblxyXG5cclxuXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvL1VJQ29udHJvbGxlciBwdWJsaWNcclxuICAgICAgd3JpdGVJbnNwZWN0b3JBbGVydHM6IGZ1bmN0aW9uKGZsYWdnZWRJbnNwZWN0b3JzKSB7XHJcbiAgICAgICAgLy8gIVZBIGZsYWdnZWRJbnNwZWN0b3JzIGFyZSBkaXNwbGF5ZWQgaW4gcmVkIGZvbnQgXHJcbiAgICAgICAgY29uc3QgYXR0ID0gJ3JlZCc7XHJcbiAgICAgICAgLy8gIVZBIFdlIHdhbnQgdG8gdXNlIHRoaXMgc2FtZSBmdW5jdGlvbiB0byByZXNldCB0aGUgZGltIGFsZXJ0cyB3aGVuIGEgbmV3IGltYWdlIGlzIGxvYWRlZC4gU28gZmlyc3QsIHJlc2V0IGFsbCB0aGUgaW5zcGVjdG9yIGxhYmVscyB0byB0aGVpciBpbmhlcml0ZWQgZm9udC5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3BlY3Rvci1sYWJlbCcpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnNwZWN0b3ItbGFiZWwnKVtpXS5zdHlsZS5jb2xvciA9ICdpbmhlcml0JztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIVZBIE5vdyBsb29wIHRocm91Z2h0IHRoZSBmbGFnZ2VkIGluc3BlY3RvcnMgZnJvbSBldmFsSW5zcGVjdG9yQWxlcnRzIGFuZCBhcHBseSB0aGUgYWxlcnQgZm9udC4gRmlyc3QsIHRlc3QgaWYgdGhlIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgYW5kIGlmIGl0IGlzIGNvbnZlcnQgaXQgaW50byBhIGxpc3Qgb2YgdmFsdWVzIHNvIHRoZSBsb29wIHdpbGwgYWNjZXB0IGl0LlxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGZsYWdnZWRJbnNwZWN0b3JzKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgIGZsYWdnZWRJbnNwZWN0b3JzID0gT2JqZWN0LnZhbHVlcyhmbGFnZ2VkSW5zcGVjdG9ycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIC8vICFWQSBGb3IgZWFjaCBmbGFnZ2VkSW5zcGVjdG9yIGZyb20gZXZhbEluc3BlY3RvckFsZXJ0cywgc2V0IHRoZSBmb250IGNvbG9yIHN0eWxlIFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmxhZ2dlZEluc3BlY3RvcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZmxhZ2dlZEluc3BlY3RvcnNbaV0pLnN0eWxlLmNvbG9yID0gYXR0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vICFWQSBVSUNvbnRyb2xsZXIgcHVibGljXHJcbiAgICAgIGRpc3BsYXlUZE9wdGlvbnM6IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkaXNwbGF5VGRPcHRpb25zIHJ1bm5pbmcnKTtcclxuICAgICAgICAvLyAhVkEgQXJyYXkgaW5jbHVkaW5nIGFsbCB0aGUgZGVmaW5lZCBvcHRpb25zIGZvciBlYWNoIHRkb3B0aW9uIHJhZGlvXHJcbiAgICAgICAgbGV0IGFsbFRkT3B0aW9ucyA9IFtdLCBvcHRpb25zVG9TaG93ID0gW10sIHRhcmdldGFsaWFzLCBwYXJlbnREaXZJZDtcclxuICAgICAgICBsZXQgQXBwZGF0YTtcclxuICAgICAgICBBcHBkYXRhID0gYXBwQ29udHJvbGxlci5pbml0R2V0QXBwZGF0YSgpO1xyXG4gICAgICAgIC8vICFWQSBBZGQgdGhlIGhhc2ggdG8gdGhlIHRhcmdldCBpZCB0byBtYXRjaCBpdCB3aXRoIHRoZSBhbGlhc1xyXG4gICAgICAgIHRhcmdldGFsaWFzID0gJyMnICsgZXZ0LnRhcmdldC5pZDtcclxuICAgICAgICAvLyAhVkEgUG9wdWxhdGUgYWxsVGRPcHRpb25zIHdpdGggYWxsIHRoZSBkZWZpbmVkIFRkIG9wdGlvbnNcclxuICAgICAgICBhbGxUZE9wdGlvbnMgPSBbIGNjcFVzZXJJbnB1dC5pcHRDY3BUZENsYXNzLCAgY2NwVXNlcklucHV0LnNlbENjcFRkQWxpZ24sIGNjcFVzZXJJbnB1dC5zZWxDY3BUZFZhbGlnbiwgY2NwVXNlcklucHV0LmlwdENjcFRkSGVpZ2h0LCAgY2NwVXNlcklucHV0LmlwdENjcFRkV2lkdGgsICBjY3BVc2VySW5wdXQuaXB0Q2NwVGRCZ0NvbG9yLCBjY3BVc2VySW5wdXQuaXB0Q2NwVGRGb250Q29sb3IsIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJvcmRlckNvbG9yLCBjY3BVc2VySW5wdXQuaXB0Q2NwVGRCb3JkZXJSYWRpdXMgIF07XHJcbiAgICAgICAgLy8gIVZBIFRoaXMgZnVuY3Rpb24gZ2V0cyB0aGUgaWQgb2YgdGhlIHBhcmVudCBkaXYgb2YgdGhlIHRkIG9wdGlvbiB0byBiZSBkaXNwbGF5ZWQvaGlkZGVuLiBXZSBuZWVkIHRoZSBwYXJlbnQgZGl2IGJlY2F1c2UgaXQgY29udGFpbnMgbGFiZWwgYW5kIGlucHV0IG9mIHRoZSBlbGVtZW50LCBub3QganVzdCB0aGUgaW5wdXQgZmllbGQgb3IgZHJvcGRvd24gbGlzdCBpdHNlbGYuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGFyZW50RGl2KHBhcmVudERpdklkKSB7XHJcbiAgICAgICAgICBwYXJlbnREaXZJZCA9ICcjJyArIHBhcmVudERpdklkLnN1YnN0cmluZyggNSApO1xyXG4gICAgICAgICAgcmV0dXJuIHBhcmVudERpdklkO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgRnVuY3Rpb24gdG8gc2hvdyB0aGUgc3BlY2lmaWMgb3B0aW9ucyBhdmFpbGFibGUgZm9yIHRoZSBzZWxlY3RlZCBURCBvcHRpb25zIHJhZGlvXHJcbiAgICAgICAgZnVuY3Rpb24gc2hvd09wdGlvbnMob3B0aW9uc1RvU2hvdykge1xyXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zVG9TaG93Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHBhcmVudERpdklkID0gZ2V0UGFyZW50RGl2KG9wdGlvbnNUb1Nob3dbaV0pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBhcmVudERpdklkKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIVZBIEN5Y2xlIHRocm91Z2ggYWxsIHRoZSBwYXJlbnQgZGl2cyBvZiBlYWNoIG9mIHRoZSBURCBvcHRpb25zIGFuZCByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzcyB0byBoaWRlIHRoZW0gYWxsLiBUaGlzIG5lZWRzIHRvIGJlIGRvbmUgYmVmb3JlIHNob3dpbmcgdGhlIHNwZWNpZmljIG9wdGlvbnMgZm9yIHRoZSBzZWxlY3RlZCBURCBvcHRpb24gcmFkaW9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFRkT3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gIVZBIEdldCB0aGUgcGFyZW50IElkIG9mIHRoZSBvcHRpb25zIHRvIGJlIGhpZGRlblxyXG4gICAgICAgICAgcGFyZW50RGl2SWQgPSBnZXRQYXJlbnREaXYoYWxsVGRPcHRpb25zW2ldKTtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocGFyZW50RGl2SWQpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgUmVzZXQgdGhlIGhlaWdodCwgd2lkdGggYW5kIGJnY29sb3IgZmllbGRzIHRvICcnLCBvdGhlcndpc2UgdGhlIHZtbGJ1dHRvbiBkZWZhdWx0cyB3aWxsIHBlcnNpc3QgaWYgdGhlIHVzZXIgc2VsZWN0cyB0aGUgdm1sYnV0dG9uIHJhZGlvIGJ1dHRvbi5cclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZEhlaWdodCkudmFsdWUgPSAnJztcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZFdpZHRoKS52YWx1ZSA9ICcnO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkQmdDb2xvcikudmFsdWUgPSAnJztcclxuICAgICAgICAvLyAhVkEgRGV0ZXJtaW5lIHdoaWNoIHRkb3B0aW9ucyByYWRpbyBidXR0b24gaXMgc2VsZWN0ZWQgYmFzZWQgb24gdGhlIGNsaWNrIGV2ZW50IGFuZCBydW4gc2hvd09wdGlvbnMgZm9yIHRoZSBzZWxlY3RlZCBURCByYWRpbyBvcHRpb24uXHJcbiAgICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgICAvLyAhVkEgdGQgb3B0aW9ucyBiYXNpYyBhbmQgZXhjbHVkZWltZ1xyXG4gICAgICAgIGNhc2UgdGFyZ2V0YWxpYXMgPT09IGNjcFVzZXJJbnB1dC5yZG9DY3BUZEJhc2ljIHx8IHRhcmdldGFsaWFzID09PSBjY3BVc2VySW5wdXQucmRvQ2NwVGRFeGNsdWRlaW1nOlxyXG4gICAgICAgICAgb3B0aW9uc1RvU2hvdyA9IFsgY2NwVXNlcklucHV0LmlwdENjcFRkQ2xhc3MsICBjY3BVc2VySW5wdXQuc2VsQ2NwVGRBbGlnbiwgY2NwVXNlcklucHV0LnNlbENjcFRkVmFsaWduLCBjY3BVc2VySW5wdXQuaXB0Q2NwVGRIZWlnaHQsICBjY3BVc2VySW5wdXQuaXB0Q2NwVGRXaWR0aCwgIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJnQ29sb3IgXTtcclxuICAgICAgICAgIC8vICFWQSBSdW4gc2hvd09wdGlvbnMgdG8gZ2V0IHRoZSBwYXJlbnQgZGl2IG9mIHRoZSBvcHRpb25zIHRvIHNob3cgZm9yIHRoZXNlIHRkb3B0aW9uIHJhZGlvIHNlbGVjdGlvbnMgYW5kIGFwcGx5IHRoZSBhY3RpdmUgY2xhc3MgdG8gZGlzcGxheSB0aGVtLlxyXG4gICAgICAgICAgc2hvd09wdGlvbnMob3B0aW9uc1RvU2hvdyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIC8vICFWQSB0ZG9wdGlvbiBwb3Nzd2l0Y2hcclxuICAgICAgICBjYXNlIHRhcmdldGFsaWFzID09PSBjY3BVc2VySW5wdXQucmRvQ2NwVGRQb3Nzd2l0Y2g6XHJcbiAgICAgICAgICAvLyAhVkEgVE9ETzogQ2VyZWJydXMgaGFzIE5PIHRkIG9wdGlvbnMgZXhjZXB0IHdpZHRoOiAxMDAlIC0gbGV0J3MgYWRkICdjbGFzcycgYW5kbGVhdmUgaXQgbGlrZSB0aGF0IGZvciB0aGUgdGltZSBiZWluZyBhbmQgc2VlIGlmIHRoZXJlJ3MgYSBjYXNlIHdoZXJlIGFueSBvdGhlciBvcHRpb25zIGFyZSB1c2VmdWwuIFxyXG4gICAgICAgICAgb3B0aW9uc1RvU2hvdyA9IFsgY2NwVXNlcklucHV0LmlwdENjcFRkQ2xhc3MsIGNjcFVzZXJJbnB1dC5zZWxDY3BUZEFsaWduLCBjY3BVc2VySW5wdXQuc2VsQ2NwVGRWYWxpZ24sIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJnQ29sb3IgXTtcclxuICAgICAgICAgIHNob3dPcHRpb25zKG9wdGlvbnNUb1Nob3cpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAvLyAhVkEgdGRvcHRpb24gaW1nc3dhcFxyXG4gICAgICAgIGNhc2UgdGFyZ2V0YWxpYXMgPT09IGNjcFVzZXJJbnB1dC5yZG9DY3BUZEltZ3N3YXA6XHJcbiAgICAgICAgICBvcHRpb25zVG9TaG93ID0gWyBjY3BVc2VySW5wdXQuaXB0Q2NwVGRDbGFzcywgY2NwVXNlcklucHV0LnNlbENjcFRkQWxpZ24sIGNjcFVzZXJJbnB1dC5zZWxDY3BUZFZhbGlnbiBdO1xyXG4gICAgICAgICAgc2hvd09wdGlvbnMob3B0aW9uc1RvU2hvdyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIC8vICFWQSB0ZG9wdGlvbiBiZ2ltYWdlXHJcbiAgICAgICAgY2FzZSB0YXJnZXRhbGlhcyA9PT0gY2NwVXNlcklucHV0LnJkb0NjcFRkQmdpbWFnZTpcclxuICAgICAgICAgIC8vICFWQSBiZ2NvbG9yLCB3aWR0aCwgaGVpZ2h0LCB2YWxpZ25cclxuICAgICAgICAgIG9wdGlvbnNUb1Nob3cgPSBbIGNjcFVzZXJJbnB1dC5pcHRDY3BUZENsYXNzLCBjY3BVc2VySW5wdXQuaXB0Q2NwVGRIZWlnaHQsICBjY3BVc2VySW5wdXQuaXB0Q2NwVGRXaWR0aCwgIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJnQ29sb3IgXTtcclxuICAgICAgICAgIHNob3dPcHRpb25zKG9wdGlvbnNUb1Nob3cpO1xyXG4gICAgICAgICAgLy8gIVZBIEdldCB0aGUgZGVmYXVsdCBoZWlnaHQgYW5kIHdpZHRoIGZyb20gQXBwZGF0YSBcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkSGVpZ2h0KS52YWx1ZSA9IEFwcGRhdGEuaW1nSDtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkV2lkdGgpLnZhbHVlID0gQXBwZGF0YS5pbWdXO1xyXG4gICAgICAgICAgLy8gIVZBIEluY2x1ZGUgdGhlIGRlZmF1bHQgYmdjb2xvciBhcyBwZXIgU3RpZ1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BVc2VySW5wdXQuaXB0Q2NwVGRCZ0NvbG9yKS52YWx1ZSA9ICcjN2JjZWViJztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgLy8gIVZBIHRkb3B0aW9uIHZtbGJ1dHRvblxyXG4gICAgICAgIGNhc2UgdGFyZ2V0YWxpYXMgPT09IGNjcFVzZXJJbnB1dC5yZG9DY3BUZFZtbGJ1dHRvbjpcclxuICAgICAgICAgIG9wdGlvbnNUb1Nob3cgPSBbIGNjcFVzZXJJbnB1dC5pcHRDY3BUZENsYXNzLCBjY3BVc2VySW5wdXQuaXB0Q2NwVGRIZWlnaHQsICBjY3BVc2VySW5wdXQuaXB0Q2NwVGRXaWR0aCwgIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJnQ29sb3IsIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEZvbnRDb2xvciwgY2NwVXNlcklucHV0LmlwdENjcFRkQm9yZGVyQ29sb3IsIGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJvcmRlclJhZGl1cyBdO1xyXG4gICAgICAgICAgc2hvd09wdGlvbnMob3B0aW9uc1RvU2hvdyk7XHJcbiAgICAgICAgICAvLyAhVkEgVGhlIGhlaWdodCBhbmQgd2lkdGggZmllbGQgcmVxdWlyZSBhbiBlbnRyeSBvdGhlcndpc2UgdGhlIGJ1dHRvbiBjYW4ndCBiZSBidWlsdCwgdGhhdCdzIHdoeSBTdGlnIGhhcyBkZWZhdWx0IHZhbHVlcyBvZiA0MC8yMDAgaW4gaGlzIGNvZGUuIFNvIHdlIGluY2x1ZGUgdGhlIGRlZmF1bHRzIGhlcmUgd2hlbiB0aGUgaW5wdXRzIGFyZSBkaXNwbGF5ZWQgYW5kIGluY2x1ZGUgZXJyb3IgaGFuZGxpbmcgaWYgdGhlIHVzZXIgb21pdHMgb25lXHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZEhlaWdodCkudmFsdWUgPSAnNDAnO1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BVc2VySW5wdXQuaXB0Q2NwVGRXaWR0aCkudmFsdWUgPSAnMjAwJztcclxuICAgICAgICAgIC8vICFWQSBJbmNsdWRlIHRoZSBkZWZhdWx0IGJnY29sb3IgYXMgcGVyIFN0aWdcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkQmdDb2xvcikudmFsdWUgPSAnIzU1NjI3MCc7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZEZvbnRDb2xvcikudmFsdWUgPSAnI0ZGRkZGRic7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZEJvcmRlckNvbG9yKS52YWx1ZSA9ICcjMWUzNjUwJztcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkQm9yZGVyUmFkaXVzKS52YWx1ZSA9ICc0JztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnRVJST1I6IFVJQ29udHJvbGxlci5kaXNwbGF5VGRPcHRpb25zIHB1YmxpYycpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgIH0sXHJcblxyXG5cclxuXHJcblxyXG4gICAgfTtcclxuXHJcbiAgfSkoKTtcclxuXHJcblxyXG4gIHZhciBDQkNvbnRyb2xsZXIgPSAoZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgLy8gIVZBIENCQ29udHJvbGxlciBwcml2YXRlIGZ1bmN0aW9uc1xyXG4gICAgLy8gIVZBIE5PVEU6IElmIHdlIHdhbnQgdG8gYWNjZXNzIGFueSBvZiB0aGUgRE9NIElEcyB3ZSBoYXZlIHRvIGNhbGwgdGhlbSBmcm9tIFVJQ29udHJvbGxlciB3aGVyZSB0aGV5J3JlIGRlZmluZWQuXHJcbiAgICB2YXIgaW5zcGVjdG9yRWxlbWVudHMgPSBVSUNvbnRyb2xsZXIuZ2V0SW5zcGVjdG9yRWxlbWVudElEcygpO1xyXG4gICAgdmFyIGluc3BlY3RvclZhbHVlcyA9IFVJQ29udHJvbGxlci5nZXRJbnNwZWN0b3JWYWx1ZXNJRHMoKTtcclxuICAgIHZhciBpbnNwZWN0b3JMYWJlbHMgPSBVSUNvbnRyb2xsZXIuZ2V0SW5zcGVjdG9yTGFiZWxzSURzKCk7XHJcbiAgICB2YXIgY2NwVXNlcklucHV0ID0gVUlDb250cm9sbGVyLmdldENjcFVzZXJJbnB1dElEcygpO1xyXG4gICAgdmFyIGJ0bkNjcE1ha2VDbGlwcyA9IFVJQ29udHJvbGxlci5nZXRCdG5DY3BNYWtlQ2xpcHMoKTtcclxuXHJcbiAgICAvLyAhVkEgVE9ETzogQXBwZWFycyB0byBiZSBkZXByZWNhdGVkLCByZW1vdmVcclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gZ2V0S2V5QnlWYWx1ZShvYmplY3QsIHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmZpbmQoa2V5ID0+IG9iamVjdFtrZXldID09PSB2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIEFUVFJJQlVURSBGVU5DVElPTlNcclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlcygpIHtcclxuICAgICAgdmFyIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKCk7XHJcbiAgICAgIGxldCB0YXJnZXQsIGNoZWNrZWQsIHN0ciwgb3B0aW9ucywgc2VsZWN0aWQ7XHJcbiAgICAgIHZhciBBdHRyaWJ1dGVzID0ge1xyXG4gICAgICAgIC8vICFWQSBJTUcgYXR0cmlidXRlc1xyXG4gICAgICAgIGltZ0NsYXNzOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2NwR2V0QXR0VmFsdWUoJ2NsYXNzJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BJbWdDbGFzcykudmFsdWUpO1xyXG4gICAgICAgIH0pKCksXHJcbiAgICAgICAgaW1nV2lkdGg6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBBcHBkYXRhLmltZ1c7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICBpbWdIZWlnaHQ6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBBcHBkYXRhLmltZ0g7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICBpbWdBbHQ6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBjY3BHZXRBdHRWYWx1ZSgnYWx0Jyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BJbWdBbHQpLnZhbHVlKTtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIGltZ1NyYzogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcEltZ1JlbFBhdGgpLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BJbWdSZWxQYXRoKS52YWx1ZSArICcvJyArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yRWxlbWVudHMuaW5zRmlsZW5hbWUpLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pKCksXHJcbiAgICAgICAgaW1nU3R5bGU6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxldCB0YXJnZXQsIGNoZWNrZWQsIHN0cjtcclxuICAgICAgICAgIHRhcmdldCA9IGNjcFVzZXJJbnB1dC5zcG5DY3BJbWdJbmNsdWRlV2lkdGhIZWlnaHRDaGVja21yaztcclxuICAgICAgICAgIGNoZWNrZWQgPSBnZXRDaGVja2JveFNlbGVjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgaWYgKGNoZWNrZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgc3RyID0gYGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogJHtBcHBkYXRhLmltZ1d9cHg7IGhlaWdodDogJHtBcHBkYXRhLmltZ0h9cHg7IGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMTVweDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBib3JkZXI6IG5vbmU7IG91dGxpbmU6IG5vbmU7YDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0ciA9ICdkaXNwbGF5OiBibG9jazsgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxNXB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7IGJvcmRlcjogbm9uZTsgb3V0bGluZTogbm9uZTsnO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIGltZ0FsaWduOiAoZnVuY3Rpb24oKSB7ICBcclxuICAgICAgICAgIHN0ciA9ICcnLCBvcHRpb25zID0gW10sIHNlbGVjdGlkID0gJyc7XHJcbiAgICAgICAgICBzZWxlY3RpZCA9IGNjcFVzZXJJbnB1dC5zZWxDY3BJbWdBbGlnbjtcclxuICAgICAgICAgIG9wdGlvbnMgPSBbICcnLCAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnXTtcclxuICAgICAgICAgIHN0ciA9IGdldEFsaWduQXR0cmlidXRlKCBzZWxlY3RpZCwgb3B0aW9ucyApO1xyXG4gICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIGltZ0luY2x1ZGVBbmNob3I6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxldCB0YXJnZXQsIGNoZWNrZWQ7XHJcbiAgICAgICAgICB0YXJnZXQgPSBjY3BVc2VySW5wdXQuc3BuQ2NwSW1nSW5jbHVkZUFuY2hvckNoZWNrbXJrO1xyXG4gICAgICAgICAgY2hlY2tlZCA9IGdldENoZWNrYm94U2VsZWN0aW9uKHRhcmdldCk7XHJcbiAgICAgICAgICByZXR1cm4gY2hlY2tlZDtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIC8vICFWQSBURCBBdHRyaWJ1dGVzXHJcbiAgICAgICAgLy8gIVZBIFREIFdpZHRoIGFuZCBoZWlnaHQgZnJvbSBBcHBkYXRhID0gaW1nVyBhbmQgaW1nVyAtLSBvbmx5IHVzZWQgZm9yIFN0aWcncyBCRyBpbWFnZSBcclxuICAgICAgICB0ZEFwcGRhdGFXaWR0aDogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIEFwcGRhdGEuaW1nVztcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRkQXBwZGF0YUhlaWdodDogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIEFwcGRhdGEuaW1nSDtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRkSGVpZ2h0OiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2NwSWZOb1VzZXJJbnB1dCgnaGVpZ2h0Jyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZEhlaWdodCkudmFsdWUpO1xyXG4gICAgICAgIH0pKCksXHJcbiAgICAgICAgdGRXaWR0aDogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNjcElmTm9Vc2VySW5wdXQoJ3dpZHRoJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZFdpZHRoKS52YWx1ZSk7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0ZEJhc2ljOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB0YXJnZXQgPSBjY3BVc2VySW5wdXQucmRvQ2NwVGRCYXNpYztcclxuICAgICAgICAgIGNoZWNrZWQgPSBnZXRSYWRpb1NlbGVjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0ZEltZ3N3YXA6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRhcmdldCA9IGNjcFVzZXJJbnB1dC5yZG9DY3BUZEJhc2ljO1xyXG4gICAgICAgICAgY2hlY2tlZCA9IGdldFJhZGlvU2VsZWN0aW9uKHRhcmdldCk7XHJcbiAgICAgICAgICByZXR1cm4gY2hlY2tlZDtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRkQmdpbWFnZTogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdGFyZ2V0ID0gY2NwVXNlcklucHV0LnJkb0NjcFRkQmdpbWFnZTtcclxuICAgICAgICAgIHJldHVybiBjaGVja2VkO1xyXG4gICAgICAgIH0pKCksXHJcbiAgICAgICAgdGRQb3Nzd2l0Y2g6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRhcmdldCA9IGNjcFVzZXJJbnB1dC5yZG9DY3BUZFBvc3N3aXRjaDtcclxuICAgICAgICAgIGNoZWNrZWQgPSBnZXRSYWRpb1NlbGVjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0ZEFsaWduOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBsZXQgc3RyID0gJycsIG9wdGlvbnMgPSBbXSwgc2VsZWN0aWQgPSAnJztcclxuICAgICAgICAgIHNlbGVjdGlkID0gY2NwVXNlcklucHV0LnNlbENjcFRkQWxpZ247XHJcbiAgICAgICAgICBvcHRpb25zID0gWyAnJywgJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J107XHJcbiAgICAgICAgICBzdHIgPSBnZXRBbGlnbkF0dHJpYnV0ZSggc2VsZWN0aWQsIG9wdGlvbnMgKTtcclxuICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0ZFZhbGlnbjogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbGV0IHN0ciA9ICcnLCBvcHRpb25zID0gW10sIHNlbGVjdGlkID0gJyc7XHJcbiAgICAgICAgICBzZWxlY3RpZCA9IGNjcFVzZXJJbnB1dC5zZWxDY3BUZFZhbGlnbjtcclxuICAgICAgICAgIG9wdGlvbnMgPSBbICcnLCAndG9wJywgJ21pZGRsZScsICdib3R0b20nXTtcclxuICAgICAgICAgIHN0ciA9IGdldEFsaWduQXR0cmlidXRlKCBzZWxlY3RpZCwgb3B0aW9ucyApO1xyXG4gICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRkQ2xhc3M6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBjY3BHZXRBdHRWYWx1ZSgnY2xhc3MnLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkQ2xhc3MpLnZhbHVlKTtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRkQmdjb2xvcjogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNjcEdldEF0dFZhbHVlKCdjbGFzcycsZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BVc2VySW5wdXQuaXB0Q2NwVGRCZ0NvbG9yKS52YWx1ZSk7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0ZEJhY2tncm91bmQ6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BJbWdSZWxQYXRoKS52YWx1ZSArICcvJyArIChBcHBkYXRhLmZuYW1lKTtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIC8vICFWQSBUQUJMRSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgdGFibGVDbGFzczogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNjcElmTm9Vc2VySW5wdXQoJ2NsYXNzJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZUNsYXNzKS52YWx1ZSk7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0YWJsZVdpZHRoOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BVc2VySW5wdXQuaXB0Q2NwVGFibGVXaWR0aCkudmFsdWU7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0YWJsZUJnY29sb3I6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBjY3BJZk5vVXNlcklucHV0KCdiZ2NvbG9yJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZUJnQ29sb3IpLnZhbHVlKTtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRhYmxlQWxpZ246IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxldCBzdHIgPSAnJywgb3B0aW9ucyA9IFtdLCBzZWxlY3RpZCA9ICcnO1xyXG4gICAgICAgICAgc2VsZWN0aWQgPSBjY3BVc2VySW5wdXQuc2VsQ2NwVGFibGVBbGlnbjtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgb3B0aW9ucyA9IFsgJycsICdsZWZ0JywgJ2NlbnRlcicsICdyaWdodCddO1xyXG4gICAgICAgICAgc3RyID0gZ2V0QWxpZ25BdHRyaWJ1dGUoIHNlbGVjdGlkLCBvcHRpb25zICk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0YWJsZUluY2x1ZGVXcmFwcGVyOiAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBsZXQgdGFyZ2V0LCBjaGVja2VkO1xyXG4gICAgICAgICAgdGFyZ2V0ID0gY2NwVXNlcklucHV0LnNwbkNjcFRhYmxlSW5jbHVkZVdyYXBwZXJDaGVja21yaztcclxuICAgICAgICAgIGNoZWNrZWQgPSBnZXRDaGVja2JveFNlbGVjdGlvbih0YXJnZXQpO1xyXG4gICAgICAgICAgcmV0dXJuIGNoZWNrZWQ7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0YWJsZVRhZ1dyYXBwZXJDbGFzczogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGNjcElmTm9Vc2VySW5wdXQoJ2NsYXNzJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZVdyYXBwZXJDbGFzcykudmFsdWUpO1xyXG4gICAgICAgIH0pKCksXHJcbiAgICAgICAgdGFibGVUYWdXcmFwcGVyQWxpZ246IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGxldCBzdHIgPSAnJywgb3B0aW9ucyA9IFtdLCBzZWxlY3RpZCA9ICcnO1xyXG4gICAgICAgICAgc2VsZWN0aWQgPSBjY3BVc2VySW5wdXQuc2VsQ2NwVGFibGVXcmFwcGVyQWxpZ247XHJcbiAgICAgICAgICBvcHRpb25zID0gWyAnJywgJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J107XHJcbiAgICAgICAgICBzdHIgPSBnZXRBbGlnbkF0dHJpYnV0ZSggc2VsZWN0aWQsIG9wdGlvbnMgKTtcclxuICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgICB0YWJsZVRhZ1dyYXBwZXJXaWR0aDogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRhYmxlV3JhcHBlcldpZHRoKS52YWx1ZTtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIHRhYmxlVGFnV3JhcHBlckJnY29sb3I6IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBjY3BJZk5vVXNlcklucHV0KCdiZ2NvbG9yJyxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZVdyYXBwZXJCZ0NvbG9yKS52YWx1ZSk7XHJcbiAgICAgICAgfSkoKSxcclxuICAgICAgfTtcclxuICAgICAgcmV0dXJuIEF0dHJpYnV0ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIDAyLjE3LjIwIFRoaXMgaXMgdGhlIHNhbWUgYXMgY2NwSWZOb1VzZXJJbnB1dCBleGNlcHQgaXQgcmV0dXJucyBPTkxZIHRoZSB2YWx1ZSwgbm90IHRoZSBhdHRyaWJ1dGUgbmFtZSAtLSBidXQgd2UgZG9uJ3QgbmVlZCB0aGlzIG5vdywgYmVjYXVzZSBpZiBpdCBoYXMgbm90IHZhbHVlLCB0aGVuLCB3ZWxsIGl0IGhhcyBubyB2YWx1ZS5cclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gY2NwR2V0QXR0VmFsdWUoYXR0LCB2YWx1ZSkge1xyXG4gICAgICAvLyAhVkEgV2UgbmVlZCBnZXQgdGhlIGluc0ZpbGVuYW1lIGZyb20gQXBwZGF0YSBpbiBjYXNlIHRoZSB1c2VyIGxlYXZlcyAncGF0aCcgZW1wdHlcclxuICAgICAgdmFyIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKCk7XHJcbiAgICAgIHZhciBzdHI7XHJcbiAgICAgIC8vICFWQSBJZiB0aGVyZSBpcyBhbiBlbnRyeSBpbiB0aGUgdXNlciBlbnRyeSBmaWVsZCBlbGVtZW50LCBpbmNsdWRlIHRoZSBhdHRyaWJ1dGUgc3RyaW5nIGluIHRoZSBjbGlwYm9hcmQgb3V0cHV0LiBcclxuICAgICAgaWYgKHZhbHVlICYmIGF0dCkge1xyXG4gICAgICAgIC8vICFWQSBJIG1pZ2h0IHdhbnQgdG8gY2hhbmdlIHRoaXMgdG8gaW5jbHVkZSB0aGUgIyBpbiB0aGUgc3RyaW5nIGl0c2VsZi5cclxuICAgICAgICBpZiAodmFsdWUgPT09ICcjJykge1xyXG4gICAgICAgICAgc3RyID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vICFWQSBJbmNsdWRlIHRoZSBzcGFjZSBoZXJlIHRvIGVuc3VyZSBubyBkdXBsaWNhdGUgc3BhY2VzIHNsaXAgaW4gd2hlbiB0aGUgY2xpcCBpcyBidWlsdFxyXG4gICAgICAgICAgc3RyID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAhVkEgSWYgdGhlIHBhdGggZmllbGQgaXMgZW1wdHksIHdlIG5lZWQgdG8gcmV0dXJuIHRoZSBpbnNGaWxlbmFtZSB3aXRob3V0IHRoZSBwYXRoLlxyXG4gICAgICAgIGlmIChhdHQgPT09ICdzcmMnICYmIHZhbHVlID09PSAnJyApIHtcclxuICAgICAgICAgIHN0ciA9IGAke2F0dH09XCIke0FwcGRhdGEuZm5hbWV9XCIgYDtcclxuICAgICAgICB9IGVsc2UgaWYgKCBhdHQgPT09ICcjJyB8fCBhdHQgPT09ICcnKSB7XHJcbiAgICAgICAgICBzdHIgPSAnJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIVZBIElmIHRoZXJlIGlzIG5vIGlucHV0LCBleGNsdWRlIHRoZSBhdHRyaWJ1dGUgZW50cnkuXHJcbiAgICAgICAgICBzdHIgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIGdldEFsaWduQXR0cmlidXRlKHNlbGVjdGlkLCBvcHRpb25zKSB7XHJcbiAgICAgIHZhciBzdHIsIHNlbEluZDtcclxuICAgICAgc2VsSW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RpZCkuc2VsZWN0ZWRJbmRleDtcclxuICAgICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgIGNhc2UgKHNlbEluZCA9PT0gMCk6XHJcbiAgICAgICAgc3RyID0gJyc7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgKHNlbEluZCA9PT0gMSk6XHJcbiAgICAgICAgc3RyID0gb3B0aW9uc1sxXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAoc2VsSW5kID09PSAyKTpcclxuICAgICAgICBzdHIgPSBvcHRpb25zWzJdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIChzZWxJbmQgPT09IDMpOlxyXG4gICAgICAgIHN0ciA9IG9wdGlvbnNbM107XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIGdldENoZWNrYm94U2VsZWN0aW9uKHRhcmdldCkge1xyXG4gICAgICBcclxuICAgICAgbGV0IGNoa2JveGlkLCBjaGVja2VkO1xyXG4gICAgICBjaGtib3hpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KS5pZDtcclxuICAgICAgY2hrYm94aWQgPSBjaGtib3hpZC5yZXBsYWNlKCdtcmsnLCAnYm94Jyk7XHJcbiAgICAgIGNoa2JveGlkID0gY2hrYm94aWQucmVwbGFjZSgnc3BuJywgJ2NoaycpO1xyXG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBjaGtib3hpZCkuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAvLyAhVkEgV1JBUFBFUiBUQUJMRSBOT1QgQ0hFQ0tFRFxyXG4gICAgICAgIGNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgLy8gIVZBIFdSQVBQRVIgVEFCTEUgSVMgQ0hFQ0tFRFxyXG4gICAgICAgIGNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjaGVja2VkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gZ2V0UmFkaW9TZWxlY3Rpb24odGFyZ2V0KSB7XHJcbiAgICAgIGxldCByYWRpb2lkLCBjaGVja2VkO1xyXG4gICAgICByYWRpb2lkID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpLmlkOyBcclxuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgcmFkaW9pZCkuY2hlY2tlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAvLyAhVkEgUmFkaW8gYnV0dG9uIGlzIE5PVCBDSEVDS0VEXHJcbiAgICAgICAgY2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAvLyAhVkEgUmFkaW8gYnV0dG9uIElTIENIRUNLRURcclxuICAgICAgICBjaGVja2VkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY2hlY2tlZDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjbGlwYm9hcmRDb250cm9sbGVyOiBJRiBOTyBVU0VSIElOUFVUIElOIENDUCBPUFRJT04gRUxFTUVOVFMgXHJcbiAgICAvLyAhVkEgVE9ETzogVGhpcyBzaG91bGQgYmUgaW4gaGFuZGxlVXNlcklucHV0XHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIGNjcElmTm9Vc2VySW5wdXQoYXR0LCB2YWx1ZSkge1xyXG4gICAgICAvLyAhVkEgV2UgbmVlZCBnZXQgdGhlIGluc0ZpbGVuYW1lIGZyb20gQXBwZGF0YSBpbiBjYXNlIHRoZSB1c2VyIGxlYXZlcyAncGF0aCcgZW1wdHlcclxuICAgICAgdmFyIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKCk7XHJcbiAgICAgIHZhciBzdHI7XHJcbiAgICAgIC8vICFWQSBJZiB0aGVyZSBpcyBhbiBlbnRyeSBpbiB0aGUgdXNlciBlbnRyeSBmaWVsZCBlbGVtZW50LCBpbmNsdWRlIHRoZSBhdHRyaWJ1dGUgc3RyaW5nIGluIHRoZSBjbGlwYm9hcmQgb3V0cHV0LiBcclxuICAgICAgaWYgKHZhbHVlICYmIGF0dCkge1xyXG4gICAgICAgIC8vICFWQSBJIG1pZ2h0IHdhbnQgdG8gY2hhbmdlIHRoaXMgdG8gaW5jbHVkZSB0aGUgIyBpbiB0aGUgc3RyaW5nIGl0c2VsZi5cclxuICAgICAgICBpZiAodmFsdWUgPT09ICcjJykge1xyXG4gICAgICAgICAgc3RyID0gJyc7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vICFWQSBJbmNsdWRlIHRoZSBzcGFjZSBoZXJlIHRvIGVuc3VyZSBubyBkdXBsaWNhdGUgc3BhY2VzIHNsaXAgaW4gd2hlbiB0aGUgY2xpcCBpcyBidWlsdFxyXG4gICAgICAgICAgc3RyID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAhVkEgSWYgdGhlIHBhdGggZmllbGQgaXMgZW1wdHksIHdlIG5lZWQgdG8gcmV0dXJuIHRoZSBpbnNGaWxlbmFtZSB3aXRob3V0IHRoZSBwYXRoLlxyXG4gICAgICAgIGlmIChhdHQgPT09ICdzcmMnICYmIHZhbHVlID09PSAnJyApIHtcclxuICAgICAgICAgIHN0ciA9IGAke2F0dH09XCIke0FwcGRhdGEuZm5hbWV9XCIgYDtcclxuICAgICAgICB9IGVsc2UgaWYgKCBhdHQgPT09ICcjJyB8fCBhdHQgPT09ICcnKSB7XHJcbiAgICAgICAgICBzdHIgPSAnJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIVZBIElmIHRoZXJlIGlzIG5vIGlucHV0LCBleGNsdWRlIHRoZSBhdHRyaWJ1dGUgZW50cnkuXHJcbiAgICAgICAgICBzdHIgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuICAgIC8vICFWQSBFTkQgQVRUUklCVVRFIEZVTkNUSU9OU1xyXG5cclxuICAgIC8vICFWQSBOT0RFIEZVTkNUSU9OU1xyXG4gICAgLy8gIVZBIEdldCB0aGUgdXNlciBzZWxlY3Rpb25zIHRoYXQgZGVmaW5lIHRoZSBjbGlwYm9hcmQgb3V0cHV0IGNvbmZpZ3VyYXRpb24tIHRoZSBjbGlja2VkIE9wdGlvbnMgYnV0dG9uLCB0aGUgSW5jbHVkZSBhbmNob3IgY2hlY2tib3ggYW5kIHRoZSBJbmNsdWRlIHdyYXBwZXIgdGFibGUgY2hlY2tib3guIFRoZSBub2RlTGlzdCB1c2VkIGZvciB0aGUgaW5kZW50cyBhcyB3ZWxsIGFzIHRoZSBpbmRlbnQgaW1wbGVtZW50YXRpb24gd2lsbCBkZXBlbmQgb24gdGhlc2Ugb3B0aW9ucyAtLSBvbmx5IHRoZSBiYXNpYyBURCByYWRpbyBidXR0b24gb3B0aW9uIGdlbmVyYXRlcyBhIHNpbXBsZSBub2RlTGlzdCBzdHJ1Y3R1cmUgd2hvc2UgaW5kZW50cyBjYW4gYmUgcHJvY2Vzc2VkIHdpdGggYSBzaW1wbGUgZm9yIGxvb3AuIFRoZSBvdGhlciBvcHRpb25zIGdlbmVyYXRlIG5vZGVMaXN0cyB3aXRoIHRleHQgbm9kZXMgYW5kIGNvbW1lbnRzIHRoYXQgcmVxdWlyZSBhIGN1c3RvbSBpbmRlbnQgc2NoZW1lLlxyXG4gICAgLy8gIVZBIENCQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGdldFVzZXJTZWxlY3Rpb25zKCBpZCApIHtcclxuICAgICAgLy8gIVZBIEluaXRpYWxpemUgdGhlIGNsaXBib2FyZC1idWlsZGluZyBwcm9jZXNzIGJ5IGdldHRpbmcgdGhvc2UgdXNlciBzZWxlY3Rpb25zIGluIHRoZSBDQ1AgdGhhdCBkZXRlcm1pbmUgdGhlIHN0cnVjdHVyZSBvZiB0aGUgY2xpcGJvYXJkIG91dHB1dCBhbmQgcHV0IHRob3NlIHNlbGVjdGlvbnMgaW50byB0aGUgdVNlbHMgb2JqZWN0LlxyXG4gICAgICBsZXQgdVNlbHMgPSB7fTtcclxuICAgICAgdVNlbHMgPSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgYnV0dG9uQ2xpY2tlZDogJycsXHJcbiAgICAgICAgaGFzQW5jaG9yOiBnZXRDaGVja2JveFNlbGVjdGlvbihjY3BVc2VySW5wdXQuc3BuQ2NwSW1nSW5jbHVkZUFuY2hvckNoZWNrbXJrKSxcclxuICAgICAgICBoYXNXcmFwcGVyOiBnZXRDaGVja2JveFNlbGVjdGlvbihjY3BVc2VySW5wdXQuc3BuQ2NwVGFibGVJbmNsdWRlV3JhcHBlckNoZWNrbXJrKSxcclxuICAgICAgICBzZWxlY3RlZFJhZGlvOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwidGRvcHRpb25zXCJdOmNoZWNrZWQnKS52YWx1ZVxyXG4gICAgICB9O1xyXG4gICAgICBpZiAoaWQgPT09IGJ0bkNjcE1ha2VDbGlwcy5idG5DY3BNYWtlSW1nVGFnLnNsaWNlKDEpKSB7IFxyXG4gICAgICAgIHVTZWxzLmJ1dHRvbkNsaWNrZWQgPSAnaW1nYnV0JztcclxuICAgICAgICAvLyAhVkEgT3ZlcnJpZGUgdGhlIHNlbGVjdGVkUmFkaW8gdmFsdWUgZm9yIHRoZSBJTUcgYnV0dG9uIC0gdGhlIElNRyBidXR0b24gd2lsbCBBTFdBWVMgb3V0cHV0IGltZy9hbmNob3IgdGFncyB0byB0aGUgY2xpcGJvYXJkIG5vIG1hdHRlciB3aGljaCB0ZG9wdGlvbnMgcmFkaW8gYnV0dG9uIGlzIHNlbGVjdGVkLlxyXG4gICAgICAgIHVTZWxzLnNlbGVjdGVkUmFkaW8gPSAnYmFzaWMnO1xyXG4gICAgICB9IGVsc2UgaWYgKGlkID09PSBidG5DY3BNYWtlQ2xpcHMuYnRuQ2NwTWFrZVRkVGFnLnNsaWNlKDEpKSB7IFxyXG4gICAgICAgIHVTZWxzLmJ1dHRvbkNsaWNrZWQgPSAndGRidXQnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVTZWxzLmJ1dHRvbkNsaWNrZWQgPSAndGFibGVidXQnO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBCcmFuY2g6IHJlY29uZmlndXJlTWVzc2FnZXMgKDA1MTYyMCk6IGlkIGFkZGVkIHRvIGFyZ3VtZW50c1xyXG4gICAgICBidWlsZE91dHB1dE5vZGVMaXN0KCBpZCwgdVNlbHMgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgQnVpbGQgdGhlIHN1YnNldCBvZiBub2RlcyB0aGF0IHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggaW5kZW50cyBhbmQgb3V0cHV0IHRvIHRoZSBDbGlwYm9hcmQuIE5PVEU6IG91dHB1dE5MIGNhbid0IGJlIGEgZnJhZ21lbnQgYmVjYXVzZSBmcmFnbWVudHMgZG9uJ3Qgc3VwcG9ydCBpbnNlcnRBZGphY2VudEhNVEwpLiBTbyB3ZSBoYXZlIHRvIGNyZWF0ZSBhIGRvY3VtZW50RnJhZ21lbnQgdGhhdCBjb250YWlucyBhbGwgdGhlIG5vZGVzIHRvIGJlIG91dHB1dCwgdGhlbiBhcHBlbmQgdGhlbSB0byBhIGNvbnRhaW5lciBkaXYgJ291dHB1dE5MJywgdGhlbiBkbyBmdXJ0aGVyIHByb2Nlc3Npbmcgb24gdGhlIGNvbnRhaW5lciBkaXYuXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBCcmFuY2g6IHJlY29uZmlndXJlTWVzc2FnZXMgKDA1MTYyMCkgaWQgYWRkZWQgdG8gcGFyYW1ldGVyc1xyXG4gICAgZnVuY3Rpb24gYnVpbGRPdXRwdXROb2RlTGlzdCggaWQsIHVTZWxzICkge1xyXG4gICAgICBjb25zb2xlLmxvZygnYnVpbGRPdXRwdXROb2RlTGlzdCBpZCBpczogJyArIGlkKTtcclxuICAgICAgbGV0IHRhYmxlTm9kZUZyYWdtZW50LCBubCwgZnJhZywgb3V0cHV0TkwsIGNsaXBib2FyZFN0cjtcclxuICAgICAgLy8gIVZBIEdldCB0aGUgdG9wIG5vZGUsIGkuZS4gdGFibGVOb2RlRnJhZ21lbnQuIFdlIG5lZWQgdG8gcGFzcyB1U2VscyBiZWNhdXNlIG1ha2VUYWJsZU5vZGUgY2FsbHMgbWFrZVRkTm9kZSwgd2hpY2ggdXNlcyB1U2VscyB0byBnZXQgdGhlIGN1cnJlbnQgdGRvcHRpb25zIHJhZGlvIGJ1dHRvbiBzZWxlY3Rpb25cclxuICAgICAgLy8gIVZBIEJyYW5jaDogcmVjb25maWd1cmVNZXNzYWdlcyAoMDUxNjIwKSBpZCBhZGRlZCB0byBhcmd1bWVudHNcclxuICAgICAgdGFibGVOb2RlRnJhZ21lbnQgPSBtYWtlVGFibGVOb2RlKCBpZCwgdVNlbHMgKTtcclxuICAgICAgLy8gIVZBIENyZWF0ZSB0aGUgZnVsbCBub2RlTGlzdCBmcm9tIHRoZSB0YWJsZU5vZGVGcmFnbWVudC4gSWYgdGFibGVOb2RlRnJhZ21lbnQgaXMgbnVsbCwgcmV0dXJuIHRvIGFib3J0IHdpdGhvdXQgY3JlYXRpbmcgQ2xpcGJvYXJkIG9iamVjdC5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBubCA9IHRhYmxlTm9kZUZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBpbiBidWlsZE91dHB1dE5vZGVMaXN0OiB0YWJsZU5vZGVGcmFnbWVudCBpcyBudWxsLiBBYm9ydGluZy4uLicpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgQ3JlYXRlIHRoZSBkaXYgY29udGFpbmVyIHRvIHdoaWNoIHRoZSBleHRyYWN0ZWQgbm9kZUxpc3QgZnJhZ21lbnQgd2lsbCBiZSBhcHBlbmRlZFxyXG4gICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAvLyAhVkEgQmFzaWMgVEQgT3B0aW9ucyAtIFRoaXMgc2hvdWxkIGJlIGV4dHJhY3RlZCB0byBhIHNlcGFyYXRlIGZ1bmN0aW9uXHJcbiAgICAgIGlmICh1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAnYmFzaWMnIHx8IHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICdleGNsdWRlaW1nJyB8fCB1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAncG9zc3dpdGNoJykge1xyXG4gICAgICAgIC8vICFWQSBEZXRlcmltaW5lIHdoaWNoIG1ha2VOb2RlIGJ1dHRvbiB3YXMgY2xpY2tlZCBhbmQgZXh0cmFjdCBhIG5vZGVMaXN0IGZyYWdtZW50IHdpdGggb25seSB0aG9zZSBub2RlcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGNsaWNrZWQgYnV0dG9uLiBUaGUgaW5kZXggcG9zaXRpb24gb2YgdGhlIGV4dHJhY3RlZCBmcmFnbWVudHMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgbGVuZ3RoIG9mIHRoZSB0YWJsZU5vZGVGcmFnbWVudCBub2RlTGlzdCBtaW51cyBhbiBpbnRlZ2VyIHRvIGNvbXBlbnNhdGUgZm9yIHRoZSAwLWJhc2VkIG5vZGVMaXN0IGluZGljZXMuXHJcbiAgICAgICAgbGV0IHJ0bE5vZGVQb3MsIGV4dHJhY3RQb3M7XHJcbiAgICAgICAgLy8gIVZBIEZvciB0aGUgcG9zc3dpdGNoIG9wdGlvbjogR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgUlRMIG5vZGUsIGlmIGl0IGV4aXN0cy4gXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBubC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ25sW2ldIGlzOiAnICsgIG5sW2ldKTtcclxuICAgICAgICAgIGlmIChubFtpXS5nZXRBdHRyaWJ1dGUoJ2RpcicpICA9PT0gJ3J0bCcpIHtcclxuICAgICAgICAgICAgcnRsTm9kZVBvcyA9IGk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICFWQSBQcm9jZXNzIHRoZSBtYWtlTm9kZSBidXR0b24gY2xpY2tzXHJcbiAgICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgICAvLyAhVkEgaW1nYnV0IGlzIGNsaWNrZWQuIFdlIGNhbiBoYXJkY29kZSB0aGUgaW5kZXggd2hlcmUgdGhlIGV4dHJhY3Rpb24gYmVnaW5zIGJlY2F1c2UgdGhlIGltZ05vZGUgaXMgY3JlYXRlZCBpbiBtYWtlVGROb2RlIGFuZCB0aGUgaW1nYnV0IGJ1dHRvbiBjbGljayBvdmVycmlkZXMgYW55IG90aGVyIG1ha2VOb2RlIGJ1dHRvbiBhY3Rpb25zLiBcclxuICAgICAgICBjYXNlICh1U2Vscy5idXR0b25DbGlja2VkID09PSAnaW1nYnV0Jyk6XHJcbiAgICAgICAgICAvLyAhVkEgSWYgdGhlcmUncyBhbiBhbmNob3IsIHRha2UgdGhlIGxhc3QgdHdvIG5vZGVzLCBvdGhlcndpc2UganVzdCB0YWtlIHRoZSBsYXN0IG5vZGUuXHJcbiAgICAgICAgICB1U2Vscy5oYXNBbmNob3IgPyBmcmFnID0gbmxbbmwubGVuZ3RoIC0gMl0gOiBmcmFnID0gbmxbbmwubGVuZ3RoIC0gMV07IFxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgLy8gIVZBIHRkYnV0IGlzIGNsaWNrZWQuIEhlcmUgd2UgaGFuZGxlIHRoZSAnYmFzaWMnLCAnZXhjbHVkZWltZycgYW5kICdwb3Nzd2l0Y2gnIG9wdGlvbnMgYmVjYXVzZSB0aGV5IHByb2Nlc3MgaW5kZW50cyB3aXRoIG5vIG1vZGlmaWNhdGlvbnMuICdpbWdzd2FwJywgJ2JnaW1hZ2UnIGFuZCAndm1sYnV0dG9uJyBvcHRpb25zIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHkgYmVjYXVzZSB0aGV5IGltcG9ydCBjb21tZW50IG5vZGVzIHdpdGggTVMgY29uZGl0aW9uYWwgY29kZVxyXG4gICAgICAgIGNhc2UgKHVTZWxzLmJ1dHRvbkNsaWNrZWQgPT09ICd0ZGJ1dCcpOlxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3RkYnV0Jyk7XHJcbiAgICAgICAgICAvLyAhVkEgYmFzaWMgb3B0aW9uIGlzIHNlbGVjdGVkIFxyXG4gICAgICAgICAgaWYgKCB1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAnYmFzaWMnKSB7IFxyXG4gICAgICAgICAgICAvLyAhVkEgV2UgY2FuIGhhcmRjb2RlIHRoaXMgZm9yIG5vdywgYnV0IHRoYXQgd2lsbCBiZSBhIHByb2JsZW0gaWYgYW55IG90aGVyIG9wdGlvbnMgd2l0aCBvdGhlciBub2RlcyBhcmUgYWRkZWQuXHJcbiAgICAgICAgICAgIHVTZWxzLmhhc0FuY2hvciA/IGV4dHJhY3RQb3MgPSBubC5sZW5ndGggLSAzIDogZXh0cmFjdFBvcyA9IG5sLmxlbmd0aCAtIDI7XHJcbiAgICAgICAgICAgIC8vIGZyYWcgPSBubFtleHRyYWN0UG9zXTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICdleGNsdWRlaW1nJykge1xyXG4gICAgICAgICAgICBleHRyYWN0UG9zID0gNTtcclxuICAgICAgICAgICAgLy8gIVZBIHBvc3N3aXRjaCBvcHRpb24gaXMgc2VsZWN0ZWRcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBUaGUgZnJhZ21lbnQgaXMgZXh0cmFjdGVkIHN0YXJ0aW5nIGF0IHRoZSBwb3NpdGlvbiBvZiB0aGUgUlRMIG5vZGVcclxuICAgICAgICAgICAgZXh0cmFjdFBvcyA9IHJ0bE5vZGVQb3M7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmcmFnID0gbmxbZXh0cmFjdFBvc107XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICh1U2Vscy5idXR0b25DbGlja2VkID09PSAndGFibGVidXQnKTpcclxuICAgICAgICAgIC8vICFWQSBiYXNpYyBvciBleGNsdWRlaW1nIG9wdGlvbiBpcyBzZWxlY3RlZCBcclxuICAgICAgICAgIC8vICFWQSBXZSBjYW4gaGFyZGNvZGUgdGhlICdiYXNpYycgYW5kICdwb3Nzd2l0Y2gnIHBvc2l0aW9ucyBmb3Igbm93LCBidXQgdGhlc2Ugd2lsbCBoYXZlIHRvIGJlIHJldmlzaXRlZCBpZiBhbnkgbmV3IG9wdGlvbnMgYXJlIGFkZGVkIHRoYXQgY2hhbmdlIHRoZSBvdXRwdXROTCBpbmRpY2VzLiBcclxuICAgICAgICAgIGlmICh1U2Vscy5oYXNXcmFwcGVyKSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBUaGUgSW5jbHVkZSB3cmFwcGVyIHRhYmxlIG9wdGlvbiBpcyBzZWxlY3RlZCwgc28gdGhlIGVudGlyZSBub2RlTGlzdCBpcyBleHRyYWN0ZWRcclxuICAgICAgICAgICAgZXh0cmFjdFBvcyA9IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAhVkEgVGhlIEluY2x1ZGUgd3JhcHBlciB0YWJsZSBvcHRpb24gaXMgbm90IHNlbGVjdGVkLCBzbyBhbGwgbm9kZXMgc3RhcnRpbmcgYXQgaW5kZXggMyBhcmUgZXh0cmFjdGVkXHJcbiAgICAgICAgICAgIGV4dHJhY3RQb3MgPSAzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZnJhZyA9IG5sW2V4dHJhY3RQb3NdO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBpbiBidWlsZE91dHB1dE5vZGVMaXN0OiBjYXNlIG5vdCBkZWZpbmVkLCBpZCBpczogJyArIGlkKTtcclxuICAgICAgICAgIC8vIERlZmF1bHQgY29kZSBibG9jaywgdGhpcyBzaG91bGQgYmUgYW4gZXJyb3IgY29kZVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgQXBwZW5kIHRoZSBmcmFnbWVudCB0byB0aGUgY29udGFpbmVyXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWcpO1xyXG4gICAgICAgIC8vICFWQSBDcmVhdGUgdGhlIG91dHB1dE5MIG5vZGVMaXN0IHRvIHBhc3MgdG8gdGhlIENsaXBib2FyZCBvYmplY3RcclxuICAgICAgICBvdXRwdXROTCA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcqJyk7XHJcbiAgICAgICAgYXBwbHlJbmRlbnRzKCBpZCwgdVNlbHMsIG91dHB1dE5MICk7XHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gb3V0cHV0TkxbMF0ub3V0ZXJIVE1MO1xyXG5cclxuICAgICAgLy8gIVZBIGltZ1N3YXAgYW5kIGJnaW1hZ2Ugb3B0aW9uIC0gaW5jbHVkZXMgTVMgY29uZGl0aW9uYWwgY29kZSByZXRyaWV2ZWQgYnkgZ2V0SW1nU3dhcEJsb2NrLCBnZXRCZ2ltYWdlQmxvY2ssIGdldFZNTEJsb2NrIHdoaWNoIGluY2x1ZGVzIGdldEluZGVudCBmdW5jdGlvbnMuIEZpcnN0LCBydW4gYXBwbHlJbmRlbnRzIG9uIG91dHB1dE5MLiBhcHBseUluZGVudHMgYWxzbyBpbnNlcnRzIHRva2VucyBhdCB0aGUgcG9zaXRpb24gd2hlcmUgdGhlIGNvZGVCbG9jayBpcyB0byBiZSBpbnNlcnRlZC4gVGhlIHBhcmVudCBub2RlbGlzdCBpcyBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcsIHRoZSBjb2RlIGJsb2NrcyBhcmUgcmV0cmlldmVkLCBpbmRlbnRzIGFyZSBpbnNlcnRlZCwgYW5kIGZpbmFsbHkgdGhlIGNvZGVibG9ja3MgYXJlIGluc2VydGVkIGludG8gdGhlIHN0cmluZyBiZXR3ZWVuIHRoZSB0YWdzIG9mIHRoZSBsYXN0IG5vZGUgaW4gdGhlIG91dHB1dE5MLm91dGVySFRNTCBzdHJpbmcuIFxyXG4gICAgICB9IGVsc2UgaWYgKHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICdpbWdzd2FwJyB8fCB1U2Vscy5zZWxlY3RlZFJhZGlvICA9PT0gJ2JnaW1hZ2UnIHx8IHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICd2bWxidXR0b24nKSB7XHJcbiAgICAgICAgLy8gIVZBIFN0YXJ0IHdpdGggdGhlIHRkYnV0IG1ha2VOb2RlIGJ1dHRvbiBiZWNhdXNlIHRoZSBpbWcgbWFrZU5vZGUgYnV0dG9uIGlzbid0IHJlZmVyZW5jZWQgaW4gdGhlIGltZ3N3YXAgb3B0aW9uLiBUaGUgQS9JTUcgdGFncyBhcmUgaGFyZC1jb2RlZCBpbnRvIHRoZSBNUyBDb25kaXRpb25hbCBjb2RlIGluIGdldEltZ1N3YXBCbG9jay4gQWxzbywgdGhlcmUncyBhIHN3aXRjaCB0byBpbmNsdWRlL2V4Y2x1ZGUgdGhlIEEvSU1HIG5vZGUgaW4gbWFrZVRkTm9kZS5cclxuICAgICAgICAvLyAhVkEgZXh0cmFjdE5vZGVJbmRleCBpcyB0aGUgbmwgaW5kZXggcG9zaXRpb24gYXQgd2hpY2ggdGhlIG5vZGVzIGFyZSBleHRyYWN0ZWQgdG8gYnVpbGQgb3V0cHV0TkwuIEl0IGVxdWFscyB0aGUgbm9kZUxpc3QgbGVuZ3RoIG1pbnVzIHRoZSBpbmRlbnRMZXZlbC5cclxuICAgICAgICBsZXQgZXh0cmFjdE5vZGVJbmRleDtcclxuICAgICAgICAvLyAhVkEgaW5kZW50TGV2ZWwgaXMgdGhlIG51bWJlciBvZiBpbmRlbnRzIHBhc3NlZCB0byBnZXRJbmRlbnQuXHJcbiAgICAgICAgbGV0IGluZGVudExldmVsO1xyXG4gICAgICAgIC8vICFWQSBjb2RlQmxvY2sgaXMgdGhlIE1TIGNvbmRpdGlvbmFsIGNvZGUgYmxvY2sgcmV0dXJuZWQgYXMgc3RyaW5nXHJcbiAgICAgICAgbGV0IGNvZGVCbG9jaztcclxuICAgICAgICAvLyAhVkEgSWYgdGhlIG1ha2VURCBidXR0b24gaXMgY2xpY2tlZCwgdGhlbiBvbmx5IHRoZSBsYXN0IG5vZGUgaW4gbmwgaXMgZXh0cmFjdGVkIGFuZCB0aGUgTVMgY29uZGl0aW9uYWwgY29tbWVudHMgZ2V0IG9uZSBpbmRlbnQgbGV2ZWxcclxuICAgICAgICAvLyAhVkEgTk9URTogVGhpcyBjb2RlIGlzIHJlcGVhdGVkIGFib3ZlIGluIHRoZSBpZiBjbGF1c2UgYW5kIGFnYWluIGhlcmUgaW4gdGhlIGVsc2VcclxuICAgICAgICBpZiAoIHVTZWxzLmJ1dHRvbkNsaWNrZWQgPT09ICd0ZGJ1dCcpIHtcclxuICAgICAgICAgIGluZGVudExldmVsID0gMTtcclxuICAgICAgICAgIGV4dHJhY3ROb2RlSW5kZXggPSBubC5sZW5ndGggLSBpbmRlbnRMZXZlbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKHVTZWxzLmhhc1dyYXBwZXIpIHtcclxuICAgICAgICAgICAgLy8gIVZBIElmIHRoZSBtYWtlVGFibGUgYnV0dG9uIGlzIGNsaWNrZWQgYW5kIGhhc1dyYXBwZXIgaXMgY2hlY2tlZCwgdGhlbiBhbGwgbmwgbm9kZXMgYXJlIGV4dHJhY3RlZCBhbmQgdGhlIE1TIGNvbmRpdGlvbmFsIGNvbW1lbnRzIGdldCA2IGluZGVudHNcclxuICAgICAgICAgICAgaW5kZW50TGV2ZWwgPSA2O1xyXG4gICAgICAgICAgICBleHRyYWN0Tm9kZUluZGV4ID0gbmwubGVuZ3RoIC0gaW5kZW50TGV2ZWw7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAhVkEgSWYgdGhlIG1ha2VUYWJsZSBidXR0b24gaXMgY2xpY2tlZCBhbmQgaGFzV3JhcHBlciBpcyB1bmNoZWNrZWQsIHRoZW4gbmwgbm9kZXMgYXJlIGV4dHJhY3RlZCBhdCBwb3NpdGlvbiAzIGFuZCB0aGUgTVMgY29uZGl0aW9uYWwgY29tbWVudHMgZ2V0IDMgaW5kZW50c1xyXG4gICAgICAgICAgICBpbmRlbnRMZXZlbCA9IDM7XHJcbiAgICAgICAgICAgIGV4dHJhY3ROb2RlSW5kZXggPSBubC5sZW5ndGggLSBpbmRlbnRMZXZlbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIVZBIEV4dHJhY3QgdGhlIGZyYWdtZW50IHRvIGNvbnZlcnQgdG8gb3V0cHV0TkxcclxuICAgICAgICAvLyAhVkEgTk9URTogSXMgdGhpcyBub3QgdGhlIHNhbWUgYXMgZnJhZyA9IG5sW2V4dHJhY3RQb3NdIGluIHRoZSBpZiBjbGF1c2UgYWJvdmVcclxuICAgICAgICBmcmFnID0gbmxbZXh0cmFjdE5vZGVJbmRleF07XHJcbiAgICAgICAgLy8gIVZBIEFwcGVuZCB0aGUgbm9kZUxpc3QgZnJhZ21lbnQgdG8gdGhlIGNvbnRhaW5lciBkaXZcclxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZyk7XHJcbiAgICAgICAgLy8gIVZBIENyZWF0ZSB0aGUgbm9kZUxpc3QgdG8gcGFzcyB0byB0aGUgQ2xpcGJvYXJkIG9iamVjdC4gXHJcbiAgICAgICAgb3V0cHV0TkwgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnKicpO1xyXG4gICAgICAgIC8vICFWQSBBcHBseSB0aGUgaW5kZW50cyBhbmQgaW5zZXJ0IHRoZSB0b2tlbnMgbWFya2luZyB0aGUgcG9zaXRpb24gZm9yIGluc2VydGluZyB0aGUgTVMgY29uZGl0aW9uYWwgY29kZS5cclxuICAgICAgICBhcHBseUluZGVudHMoaWQsIHVTZWxzLCBvdXRwdXROTCk7XHJcbiAgICAgICAgLy8gIVZBIENvbnZlcnQgb3V0cHV0TkwgdG8gYSBzdHJpbmcgKGluY2x1ZGluZyB0b2tlbnMgZm9yIGluc2VydGluZyBNUyBjb25kaXRpb25hbCBjb2RlKSBmb3Igb3V0cHV0IHRvIENsaXBib2FyZCBvYmplY3QuXHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gb3V0cHV0TkxbMF0ub3V0ZXJIVE1MO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vICFWQSBHZXQgdGhlIGNvZGVCbG9jayBjb3JyZXNwb25kaW5nIHRvIHRoZSBzZWxlY3RlZCBURCBvcHRpb25cclxuICAgICAgICBpZiAoIHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICdpbWdzd2FwJykge1xyXG4gICAgICAgICAgY29kZUJsb2NrID0gZ2V0SW1nU3dhcEJsb2NrKCBpZCwgaW5kZW50TGV2ZWwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoICB1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAnYmdpbWFnZScgKSB7XHJcbiAgICAgICAgICBjb2RlQmxvY2sgPSBnZXRCZ2ltYWdlQmxvY2soaWQsIGluZGVudExldmVsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICd2bWxidXR0b24nKSB7XHJcbiAgICAgICAgICBjb2RlQmxvY2sgPSBnZXRWbWxCdXR0b25CbG9jayhpZCwgaW5kZW50TGV2ZWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgUmVwbGFjZSB0aGUgdG9rZW5zIGluIGNsaXBib2FyZFN0ciB0aGF0IHdlcmUgYWRkZWQgaW4gYXBwbHlJbmRlbnRzIHdpdGggdGhlIHJlc3BlY3RpdmUgY29kZUJsb2NrXHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gY2xpcGJvYXJkU3RyLnJlcGxhY2UoJy9yZXBsYWNlc3RhcnQvL3JlcGxhY2VlbmQvJywgY29kZUJsb2NrICsgJ1xcbicpO1xyXG4gICAgICB9IFxyXG4gICAgICAvLyAhVkEgQ29udmVydCB0aGUgYWxpYXMgb2YgdGhlIGNsaWNrZWQgYnV0dG9uIHRvIGFuIElEIHRoZSBDbGlwYm9hcmQgb2JqZWN0IHJlY29nbml6ZXMgYW5kIHdyaXRlIGNsaXBib2FyZFN0ciB0byB0aGUgY2xpcGJvYXJkLlxyXG4gICAgICB3cml0ZUNsaXBib2FyZCggYWxpYXNUb0lkKHVTZWxzLmJ1dHRvbkNsaWNrZWQpLCBjbGlwYm9hcmRTdHIgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBDb252ZXJ0IHVTZWxzLmJ1dHRvbkNsaWNrZWQgaW4gYnVpbGRPdXRwdXROb2RlTGlzdCBiYWNrIHRvIGFuIGlkIGJlZm9yZSBwYXNzaW5nIHRvIENsaXBib2FyZCBvYmplY3QuXHJcbiAgICBmdW5jdGlvbiBhbGlhc1RvSWQoIGFsaWFzICkge1xyXG4gICAgICBsZXQgaWQ7XHJcbiAgICAgIGlmIChhbGlhcyA9PT0gJ2ltZ2J1dCcpIHtpZCA9IGJ0bkNjcE1ha2VDbGlwcy5idG5DY3BNYWtlSW1nVGFnLnNsaWNlKDEpOyB9XHJcbiAgICAgIGlmIChhbGlhcyA9PT0gJ3RkYnV0Jykge2lkID0gYnRuQ2NwTWFrZUNsaXBzLmJ0bkNjcE1ha2VUZFRhZy5zbGljZSgxKTsgfVxyXG4gICAgICBpZiAoYWxpYXMgPT09ICd0YWJsZWJ1dCcpIHtpZCA9IGJ0bkNjcE1ha2VDbGlwcy5idG5DY3BNYWtlVGFibGVUYWcuc2xpY2UoMSk7IH1cclxuICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBNYWtlIHRoZSBub2RlcyBmb3IgdGhlICdwb3Nzd2l0Y2ggb3B0aW9uJyB1c2luZyB0aGUgRElSIGF0dHJpYnV0ZVxyXG4gICAgLy8gIVZBIENCQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICBmdW5jdGlvbiBtYWtlUG9zU3dpdGNoTm9kZXMoIGlkICkge1xyXG4gICAgICAvLyAhVkEgRGVjbGFyZSB0aGUgYXJyYXlzIGZvciBuZXcgZWxlbWVudCBuYW1lcyBhbmQgbmV3IGVsZW1lbnQgdHlwZXNcclxuICAgICAgbGV0IGNvbnRhaW5lcklkcyA9IFtdLCBjb250YWluZXJFbGVtZW50cyA9IFtdLCBzaWJsaW5nMUlkcyA9IFtdLCBzaWJsaW5nMUVsZW1lbnRzID0gW10sIHNpYmxpbmcySWRzID0gW10sIHNpYmxpbmcyRWxlbWVudHMgPSBbXSwgY29udGFpbmVyTm9kZXMgPSBbXSwgc2libGluZzFOb2RlcyA9IFtdLCBzaWJsaW5nMk5vZGVzID0gW107XHJcbiAgICAgIC8vICFWQSBEZWNsYXJlIGxvb3AgaXRlcmF0b3JzXHJcbiAgICAgIGxldCBpLCBqLCBpbmRleDtcclxuICAgICAgLy8gIVZBIFBvcHVsYXRlIHRoZSBhcnJheXMgd2l0aCB0aGUgbmV3IGVsZW1lbnQgbmFtZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgdHlwZXNcclxuICAgICAgY29udGFpbmVySWRzID0gWyAnY29udGFpbmVyJywgJ3RkX3N3aXRjaGNvbnRhaW5lcicsICd0YWJsZV9zd2l0Y2hwYXJlbnQnLCAndHJfc3dpdGNocGFyZW50JyBdO1xyXG4gICAgICBjb250YWluZXJFbGVtZW50cyA9IFsgJ2RpdicsICd0ZCcsICd0YWJsZScsICd0cicgXTtcclxuICAgICAgLy8gIVZBIFdlIGluY2x1ZGUgdGhlIGFuY2hvciB3cmFwcGVyIGZvciB0aGUgaW1nIGhlcmUsIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgYXJyYXkgbGF0ZXIgaWYgdGhlIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgIHNpYmxpbmcxSWRzID0gWyAnY29udGFpbmVyJywgJ3RkX3N3aXRjaHNpYmxpbmcxJywgJ3RhYmxlX3N3aXRjaGNoaWxkMScsICd0cl9zd2l0Y2hjaGlsZDEnLCAndGRfc3dpdGNoY29udGVudDEnLCAnYV9zd2l0Y2h0Y29udGVudCcsJ2ltZ19zd2l0Y2hjb250ZW50MScgXTtcclxuICAgICAgc2libGluZzFFbGVtZW50cyA9IFsgJ2RpdicsICd0ZCcsICd0YWJsZScsICd0cicsICd0ZCcsICdhJywgJ2ltZyddO1xyXG4gICAgICBzaWJsaW5nMklkcyA9IFsgJ2NvbnRhaW5lcicsICd0ZF9zd2l0Y2hzaWJsaW5nMicsICd0YWJsZV9zd2l0Y2hjaGlsZDInLCAndHJfc3dpdGNoY2hpbGQyJywgJ3RkX3N3aXRjaGNvbnRlbnQyJyBdO1xyXG4gICAgICBzaWJsaW5nMkVsZW1lbnRzID0gWyAnZGl2JywgJ3RkJywgJ3RhYmxlJywgJ3RyJywgJ3RkJ107XHJcbiAgICAgIC8vICFWQSBXZSBoYXZlIHRvIGhhbmRsZSB0aGUgSW5jbHVkZSBhbmNob3IgdGFnIGNhc2UgaGVyZSBiZWNhdXNlIG9uY2UgdGhlIG5vZGVMaXN0IGlzIGNyZWF0ZWQsIGl0J3MgYSBoYWNrIHRvIG1vZGlmeSBpdC4gU28gd2UgcmVtb3ZlIHRoZSBhIHRhZyBmcm9tIHRoZSBhcnJheXMgYmVmb3JlIGNyZWF0aW5nIHRoZSBub2RlTGlzdCBhbmQgc2V0dGluZyB0aGUgbm9kZSBhdHRyaWJ1dGVzLiBXZSdsbCBoYXZlIHRvIHJlbW92ZSB0aGUgY29ycmVzcG9uZGluZyBhIHRhZyBpbmRleCBmcm9tIHRoZSBub2RlQXR0cmlidXRlcyBhcnJheSBhcyB3ZWxsIG90aGVyd2lzZSB0aGUgbG9vcCBhc3NpZ25pbmcgdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIG5vZGVMaXN0IHdpbGwgYnJlYWsuIE5vdGU6IHRoaXMgaXMgYSBIQUNLISBCdXQgdGhpcyB3aG9sZSBtYWtlUG9zU3dpdGNoTm9kZXMgdGhpbmcgaXMgYSBoYWNrIGFueXdheSBzbyBsZXRzJyBtYWtlIGl0IHNpbXBsZSBodW1hbi1yZWFkYWJsZS5cclxuICAgICAgLy8gIVZBIEdldCB0aGUgY2hlY2ttYXJrIHRhcmdldFxyXG4gICAgICB2YXIgdGFyZ2V0ID0gY2NwVXNlcklucHV0LnNwbkNjcEltZ0luY2x1ZGVBbmNob3JDaGVja21yaztcclxuICAgICAgLy8gIVZBIElmIEluY2x1ZGUgYW5jaG9yIGlzIE5PVCBjaGVja2VkLCByZW1vdmUgdGhlIGFuY2hvciBpdGVtIGZyb20gYm90aCBzaWJsaW5nMSBhcnJheXMgYW5kIFxyXG4gICAgICBpZiAoIWdldENoZWNrYm94U2VsZWN0aW9uKHRhcmdldCkgKSB7XHJcbiAgICAgICAgaW5kZXggPSA1O1xyXG4gICAgICAgIHNpYmxpbmcxSWRzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgc2libGluZzFFbGVtZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICB9ICAgXHJcbiAgICAgIC8vICFWQSBOb3cgd2UgaGF2ZSB0d28gYnJhbmNoZXMgb2YgdGhlIG5vZGUgdHJlZSwgZWFjaCB3aXRoIGEgZGlmZmVyZW50IG51bWJlciBvZiBkZXNjZW5kYW50cy4gU28gd2UgaGF2ZSB0byBsb29wIHRocm91Z2ggdGhlbSBzZXBhcmF0ZWx5IHRvIGNyZWF0ZSB0aGVpciBub2Rlcy5cclxuICAgICAgLy8gIVZBIExvb3AgdGhyb3VnaCB0aGUgYXJyYXlzIGFuZCBjcmVhdGUgdGhlIGVsZW1lbnRzIHdpdGggbmFtZSBhbmQgY29ycmVzcG9uZGluZyB0eXBlXHJcbiAgICAgIC8vIC8vICFWQSBTdGFydCB3aXRoIHRoZSBjb250YWluZXIgaXRlbXMgdGhhdCBhcmUgcGFyZW50cyBvZiB0aGUgc2libGluZyBlbGVtZW50cy5cclxuICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnRhaW5lcklkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnRhaW5lck5vZGVzW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChjb250YWluZXJFbGVtZW50c1tpXSk7XHJcbiAgICAgICAgY29udGFpbmVyTm9kZXNbaV0uaWQgPSBjb250YWluZXJJZHNbaV07XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEFwcGVuZCBlYWNoIGVsZW1lbnQgd2l0aCBpdHMgcmVzcGVjdGl2ZSBjaGlsZFxyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGFpbmVyTm9kZXMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgaiA9IGkgKyAxO1xyXG4gICAgICAgIGNvbnRhaW5lck5vZGVzW2ldLmFwcGVuZENoaWxkKGNvbnRhaW5lck5vZGVzW2pdKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgTm93IGNyZWF0ZSB0aGUgZmlyc3Qgc2libGluZydzIG5vZGVzXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWJsaW5nMUlkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNpYmxpbmcxTm9kZXNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNpYmxpbmcxRWxlbWVudHNbaV0pO1xyXG4gICAgICAgIHNpYmxpbmcxTm9kZXNbaV0uaWQgPSBzaWJsaW5nMUlkc1tpXTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgQXBwZW5kIGVhY2ggZWxlbWVudCB3aXRoIGl0cyByZXNwZWN0aXZlIGNoaWxkXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWJsaW5nMU5vZGVzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgIGogPSBpICsgMTtcclxuICAgICAgICAvLyAhVkEgaiBpcyB0aGUgZWxlbWVudCBvbmUgcG9zaXRpb24gbG93ZXIgb24gdGhlIHRyZWUgZnJvbSBpLCBpLmUuIHRoZSBjaGlsZFxyXG4gICAgICAgIHNpYmxpbmcxTm9kZXNbaV0uYXBwZW5kQ2hpbGQoc2libGluZzFOb2Rlc1tqXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vICFWQSBOb3cgY3JlYXRlIHRoZSBzZWNvbmQgc2libGluZydzIG5vZGVzXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWJsaW5nMklkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNpYmxpbmcyTm9kZXNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHNpYmxpbmcyRWxlbWVudHNbaV0pO1xyXG4gICAgICAgIHNpYmxpbmcyTm9kZXNbaV0uaWQgPSBzaWJsaW5nMklkc1tpXTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgQXBwZW5kIGVhY2ggZWxlbWVudCB3aXRoIGl0cyByZXNwZWN0aXZlIGNoaWxkXHJcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWJsaW5nMk5vZGVzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgIGogPSBpICsgMTtcclxuICAgICAgICAvLyAhVkEgaiBpcyB0aGUgZWxlbWVudCBvbmUgcG9zaXRpb24gbG93ZXIgb24gdGhlIHRyZWUgZnJvbSBpLCBpLmUuIHRoZSBjaGlsZFxyXG4gICAgICAgIHNpYmxpbmcyTm9kZXNbaV0uYXBwZW5kQ2hpbGQoc2libGluZzJOb2Rlc1tqXSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEFwcGVuZCB0aGUgc2libGluZ3MgdG8gdGhlIHBhcmVudCB0clxyXG4gICAgICBjb250YWluZXJOb2Rlc1szXS5hcHBlbmRDaGlsZChzaWJsaW5nMU5vZGVzWzFdKTtcclxuICAgICAgY29udGFpbmVyTm9kZXNbM10uYXBwZW5kQ2hpbGQoc2libGluZzJOb2Rlc1sxXSk7XHJcbiAgICAgIC8vICFWQSBTZXQgdGhlIGNvbnRhaW5lciB0byByZXR1cm4gdG8gdGhlIHRvcCBub2RlIG9mIHRoZSB0cmVlXHJcbiAgICAgIGxldCBjb250YWluZXIgPSAoY29udGFpbmVyTm9kZXNbMF0pO1xyXG4gICAgICAvLyAhVkEgQ2FsbCB0aGUgZnVuY3Rpb24gdGhhdCBzZXRzIHRoZSBhdHRyaWJ1dGVzIGZvciB0aGUgbm9kZXNcclxuICAgICAgY29udGFpbmVyID0gc2V0UG9zU3dpdGNoTm9kZUF0dHJpYnV0ZXMoY29udGFpbmVyKTtcclxuICAgICAgLy8gIVZBIENvcHkgdGhlIGNvbnRhaW5lciB0byB0ZElubmVyLiBUaGlzIGlzIGZvciBub21lbmNsYXR1cmUsIGJlY2F1c2UgYWxsIHRoZSBvdGhlciBtYWtlTm9kZSBmdW5jdGlvbnMgcmV0dXJuIHRoZSBjb250YWluZXIgdW5kZXIgdGhlIG5hbWUgdGRJbm5lclxyXG4gICAgICB2YXIgdGRJbm5lciA9IGNvbnRhaW5lci5jaGlsZHJlblswXTsgXHJcbiAgICAgIC8vICFWQSBSZXR1cm4gdGhlIGNvbnRhaW5lciB0byBtYWtlVGROb2Rlc1xyXG4gICAgICByZXR1cm4gdGRJbm5lcjtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgU2V0IHRoZSBhdHRyaWJ1dGVzIGZvciB0aGUgbm9kZXMgaW4gdGhlICdwb3Nzd2l0Y2gnIG9wdGlvbiB1c2luZyB0aGUgRElSIGF0dHJpYnV0ZVxyXG4gICAgZnVuY3Rpb24gc2V0UG9zU3dpdGNoTm9kZUF0dHJpYnV0ZXMoY29udGFpbmVyKSB7XHJcbiAgICAgIC8vICFWQSBHZXQgdGhlIFRkIGF0dHJpYnV0ZXMsIHdlIG5lZWQgdGhlbSBmb3IgaGVpZ2h0IGFuZCB3aWR0aFxyXG4gICAgICB2YXIgbm9kZUxpc3QsIGluZGV4O1xyXG4gICAgICBsZXQgQXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXMoKTtcclxuICAgICAgbGV0IG5vZGVBdHRyaWJ1dGVzID0gW107XHJcblxyXG4gICAgICAvLyAhVkEgSW5pdGlhbGl6ZSB0aGUgb2JqZWN0cyB0aGF0IGNvbnRhaW4gdGhlIGF0dHJpYnV0ZXMgZm9yIHRoZSBpbmRpdmlkdWFsIG5vZGVzXHJcbiAgICAgIGxldCB0ZF9zd2l0Y2hjb250YWluZXJBdHRyLCB0YWJsZV9zd2l0Y2hwYXJlbnRBdHRyLCB0cl9zd2l0Y2hwYXJlbnRBdHRyLCB0ZF9zd2l0Y2hzaWJsaW5nMUF0dHIsIHRhYmxlX3N3aXRjaGNoaWxkMUF0dHIsIHRyX3N3aXRjaGNoaWxkMUF0dHIsIHRkX3N3aXRjaGNvbnRlbnQxQXR0ciwgYV9zd2l0Y2hjb250ZW50MUF0dHIsIGltZ19zd2l0Y2hjb250ZW50MUF0dHIsIHRkX3N3aXRjaHNpYmxpbmcyQXR0ciwgdGFibGVfc3dpdGNoY2hpbGQyQXR0ciwgdHJfc3dpdGNoY2hpbGQyQXR0ciwgdGRfc3dpdGNoY29udGVudDJBdHRyOyBcclxuICAgICAgLy8gIVZBIE1ha2UgdGhlIG5vZGVMaXN0IGZyb20gdGhlIGNvbnRhaW5lciBwYXNzZWQgaW4gZnJvbSBtYWtlUG9zU3dpdGNoTm9kZXMgdG8gYXBwbHkgdGhlIGF0dHJpYnV0ZXMgdG8uXHJcbiAgICAgIG5vZGVMaXN0ID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoICcqJyApO1xyXG4gICAgICAvLyAhVkEgQnVpbGQgdGhlIG9iamVjdHMgdGhhdCBjb250YWluIHRoZSBhdHRyaWJ1dGVzIHRoYXQgd2lsbCBiZSBzZXQgb24gdGhlIG5vZGVMaXN0IG5vZGVzLlxyXG4gICAgICAvLyAhVkEgSWYgdGhlIGNsYXNzIGlucHV0IGVsZW1lbnQgdW5kZXIgdGQgb3B0aW9ucyBpcyBlbXB0eSwgZG8gbm90aGluZywgb3RoZXJ3aXNlIGFkZCB0aGUgY2xhc3MgdG8gdGhlIGNvbnRhaW5lciBURCBhbmQgc2V0IHRoZSBjbGFzcyBhdHRyaWJ1dGVcclxuICAgICAgIUF0dHJpYnV0ZXMudGRDbGFzcyA/ICFBdHRyaWJ1dGVzLnRkQ2xhc3MgOiBub2RlTGlzdFswXS5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgQXR0cmlidXRlcy50ZENsYXNzKTtcclxuICAgICAgLy8gIVZBIElmIHRoZSBia2dybmQgY29sb3IgaW5wdXQgZWxlbWVudCB1bmRlciB0ZCBvcHRpb25zIGlzIGVtcHR5LCBkbyBub3RoaW5nLCBvdGhlcndpc2UgYWRkIHRoZSBia2dybmQgY29sb3IgdG8gdGhlIGNvbnRhaW5lciBURCBhbmQgc2V0IHRoZSBiZ2NvbG9yIGF0dHJpYnV0ZVxyXG4gICAgICAhQXR0cmlidXRlcy50ZEJnY29sb3IgPyAhQXR0cmlidXRlcy50ZEJnY29sb3IgOiBub2RlTGlzdFswXS5zZXRBdHRyaWJ1dGUoJ2JnY29sb3InLCBBdHRyaWJ1dGVzLnRkQmdjb2xvcik7XHJcbiAgICAgIC8vICFWQSBBZGQgdGhlIHJlc3Qgb2YgdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIG5vZGVzXHJcbiAgICAgIHRkX3N3aXRjaGNvbnRhaW5lckF0dHIgPSB7XHJcbiAgICAgICAgZGlyOiAncnRsJyxcclxuICAgICAgICAvLyAhVkEgY2xhc3M6IHNlZSBhYm92ZVxyXG4gICAgICAgIC8vICFWQSBiZ2NvbG9yOiBzZWUgYWJvdmVcclxuICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgIGFsaWduOiBBdHRyaWJ1dGVzLnRkQWxpZ24sXHJcbiAgICAgICAgdmFsaWduOiBBdHRyaWJ1dGVzLnRkVmFsaWduLFxyXG4gICAgICB9O1xyXG4gICAgICB0YWJsZV9zd2l0Y2hwYXJlbnRBdHRyID0ge1xyXG4gICAgICAgIHJvbGU6ICdwcmVzZW50YXRpb24nLFxyXG4gICAgICAgIGJvcmRlcjogJzAnLFxyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgY2VsbFBhZGRpbmc6ICcwJyxcclxuICAgICAgICBjZWxsU3BhY2luZzogJzAnXHJcbiAgICAgIH07XHJcbiAgICAgIC8vICFWQSBUaGUgVFIgbm9kZXMgaGF2ZSBubyBhdHRyaWJ1dGVzIGJ1dCB3ZSBuZWVkIHRoZW0gYXMgcGxhY2Vob2xkZXJzIHRvIGtlZXAgdGhlIGFycmF5IGxlbmd0aCB0aGUgc2FtZSBhcyB0aGUgbm9kZUxpc3QuXHJcbiAgICAgIHRyX3N3aXRjaHBhcmVudEF0dHIgPSB7XHJcbiAgICAgICAgLy8gIVZBIFBsYWNlaG9sZGVyIG5vZGVcclxuICAgICAgfTtcclxuICAgICAgdGRfc3dpdGNoc2libGluZzFBdHRyID0ge1xyXG4gICAgICAgIHdpZHRoOiAnNTAlJyxcclxuICAgICAgICBjbGFzczogJ3N0YWNrLWNvbHVtbi1jZW50ZXInXHJcbiAgICAgIH07XHJcbiAgICAgIHRhYmxlX3N3aXRjaGNoaWxkMUF0dHIgPSB7XHJcbiAgICAgICAgcm9sZTogJ3ByZXNlbnRhdGlvbicsXHJcbiAgICAgICAgYm9yZGVyOiAnMCcsXHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBjZWxsUGFkZGluZzogJzAnLFxyXG4gICAgICAgIGNlbGxTcGFjaW5nOiAnMCdcclxuICAgICAgfTtcclxuICAgICAgLy8gIVZBIFRoZSBUUiBub2RlcyBoYXZlIG5vIGF0dHJpYnV0ZXMgYnV0IHdlIG5lZWQgdGhlbSBhcyBwbGFjZWhvbGRlcnMgdG8ga2VlcCB0aGUgYXJyYXkgbGVuZ3RoIHRoZSBzYW1lIGFzIHRoZSBub2RlTGlzdC5cclxuICAgICAgdHJfc3dpdGNoY2hpbGQxQXR0ciA9IHtcclxuICAgICAgICAvLyAhVkEgUGxhY2Vob2xkZXIgbm9kZVxyXG4gICAgICB9O1xyXG4gICAgICB0ZF9zd2l0Y2hjb250ZW50MUF0dHIgPSB7XHJcbiAgICAgICAgZGlyOiAnbHRyJyxcclxuICAgICAgICBhbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgIHZBbGlnbjogJ3RvcCdcclxuICAgICAgfTtcclxuICAgICAgYV9zd2l0Y2hjb250ZW50MUF0dHIgPSB7XHJcbiAgICAgICAgaHJlZjogJyMnLFxyXG4gICAgICAgIGNvbG9yOiAncmVkJ1xyXG4gICAgICB9O1xyXG4gICAgICBpbWdfc3dpdGNoY29udGVudDFBdHRyID0ge1xyXG4gICAgICAgIHdpZHRoOiBBdHRyaWJ1dGVzLmltZ1dpZHRoLFxyXG4gICAgICAgIGhlaWdodDogQXR0cmlidXRlcy5pbWdIZWlnaHQsXHJcbiAgICAgICAgc3R5bGU6IEF0dHJpYnV0ZXMuaW1nU3R5bGUsXHJcbiAgICAgICAgc3JjOiBBdHRyaWJ1dGVzLmltZ1NyYyxcclxuICAgICAgICBhbHQ6IEF0dHJpYnV0ZXMuaW1nQWx0XHJcbiAgICAgIH07XHJcbiAgICAgIHRkX3N3aXRjaHNpYmxpbmcyQXR0ciA9IHtcclxuICAgICAgICB3aWR0aDogJzUwJScsXHJcbiAgICAgICAgY2xhc3M6ICdzdGFjay1jb2x1bW4tY2VudGVyJ1xyXG4gICAgICB9O1xyXG4gICAgICB0YWJsZV9zd2l0Y2hjaGlsZDJBdHRyID0ge1xyXG4gICAgICAgIHJvbGU6ICdwcmVzZW50YXRpb24nLFxyXG4gICAgICAgIGJvcmRlcjogJzAnLFxyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgY2VsbFBhZGRpbmc6ICcwJyxcclxuICAgICAgICBjZWxsU3BhY2luZzogJzAnXHJcbiAgICAgIH07XHJcbiAgICAgIC8vICFWQSBUaGUgVFIgbm9kZXMgaGF2ZSBubyBhdHRyaWJ1dGVzIGJ1dCB3ZSBuZWVkIHRoZW0gYXMgcGxhY2Vob2xkZXJzIHRvIGtlZXAgdGhlIGFycmF5IGxlbmd0aCB0aGUgc2FtZSBhcyB0aGUgbm9kZUxpc3QuXHJcbiAgICAgIHRyX3N3aXRjaGNoaWxkMkF0dHIgPSB7XHJcbiAgICAgICAgLy8gIVZBIFBsYWNlaG9sZGVyIG5vZGVcclxuICAgICAgfTtcclxuICAgICAgdGRfc3dpdGNoY29udGVudDJBdHRyID0ge1xyXG4gICAgICAgIGRpcjogJ2x0cicsXHJcbiAgICAgICAgYWxpZ246ICdsZWZ0JyxcclxuICAgICAgICB2QWxpZ246ICd0b3AnXHJcbiAgICAgIH07XHJcbiAgICAgIC8vICFWQSBDcmVhdGUgdGhlIGFycmF5IHdpdGggdGhlIGF0dHJpYnV0ZSBvYmplY3RzLiBXZSB1c2UgdGhpcyBhcnJheSB0byBjeWNsZSB0aHJvdWdoIHRoZSBub2RlTGlzdCBhbmQgYXBwbHkgdGhlIGF0dHJpYnV0ZXMgdG8gdGhlIGluZGl2aWR1YWwgbm9kZXMuIEkgdHJpZWQgbWFueSB3YXlzIHRvIGRvIHRoaXMgYnV0IHdhcyBub3QgYWJsZSB0byBhc3NpZ24gdGhlc2Ugb2JqZWN0cyB0byB0aGUgaW5kaXZpZHVhbCBub2RlcyBhbnkgb3RoZXIgd2F5IHRoYW4gdG8gbG9vcCB0aHJvdWdoIHRoZW0gZW5zdXJpbmcgdGhhdCB0aGUgYXJyYXkgYW5kIG5vZGVMaXN0IGxlbmd0aCB3ZXJlIGlkZW50aWNhbC4gSWYgdGhlcmUgaXMgYSB3YXkgdG8gYXNzaWduIGF0dHJpYnV0ZXMgdG8gbm9kZXMgdXNpbmcgdGhlIG5vZGUgSUQgYXMgaW5kZXgsIEknZCBsaWtlIHRvIGxlYXJuIHRoYXQgdGVjaG5pcXVlLlxyXG4gICAgICBub2RlQXR0cmlidXRlcyA9IFsgdGRfc3dpdGNoY29udGFpbmVyQXR0ciwgdGFibGVfc3dpdGNocGFyZW50QXR0ciwgIHRyX3N3aXRjaHBhcmVudEF0dHIsIHRkX3N3aXRjaHNpYmxpbmcxQXR0ciwgdGFibGVfc3dpdGNoY2hpbGQxQXR0ciwgIHRyX3N3aXRjaGNoaWxkMUF0dHIsIHRkX3N3aXRjaGNvbnRlbnQxQXR0ciwgYV9zd2l0Y2hjb250ZW50MUF0dHIsIGltZ19zd2l0Y2hjb250ZW50MUF0dHIsIHRkX3N3aXRjaHNpYmxpbmcyQXR0ciwgdGFibGVfc3dpdGNoY2hpbGQyQXR0ciwgdHJfc3dpdGNoY2hpbGQyQXR0ciwgdGRfc3dpdGNoY29udGVudDJBdHRyIF07XHJcblxyXG4gICAgICAvLyAhVkEgUmVtb3ZlIHRoZSBhbmNob3IgYXR0cmlidXRlcyBmcm9tIHRoZSBhcnJheSBpZiB0aGUgSW5jbHVkZSBhbmNob3IgY2hlY2tib3ggaXMgY2hlY2tlZC4gVGhlIGEgdGFnIGlzIGF0IHBvc2l0aW9uIDcgaW4gdGhlIGF0dHJpYnV0ZXMgYXJyYXkuXHJcbiAgICAgIHZhciB0YXJnZXQgPSBjY3BVc2VySW5wdXQuc3BuQ2NwSW1nSW5jbHVkZUFuY2hvckNoZWNrbXJrO1xyXG4gICAgICBpZiAoIWdldENoZWNrYm94U2VsZWN0aW9uKHRhcmdldCkpIHtcclxuICAgICAgICBpbmRleCA9IDc7XHJcbiAgICAgICAgbm9kZUF0dHJpYnV0ZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgfSBcclxuICAgICAgLy8gIVZBIEFzc2lnbiB0aGUgYXR0cmlidXRlcyB0byB0aGUgbm9kZXMgdXNpbmcgdGhlIGxlbmd0aCBvZiB0aGUgbm9kZUF0dHJpYnV0ZSBhcnJheSBhcyBpbmRleC5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlQXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGVudHJpZXMgb2YgT2JqZWN0LmVudHJpZXMobm9kZUF0dHJpYnV0ZXNbaV0pKSB7XHJcbiAgICAgICAgICBub2RlTGlzdFtpXS5zZXRBdHRyaWJ1dGUoIGVudHJpZXNbMF0sIGVudHJpZXNbMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgTm93IHdlIG5vIGxvbmdlciBuZWVkIHRoZSBJRHMsIHNvIHdlIGNhbiBkZWxldGUgdGhlbS5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG5vZGVMaXN0W2ldLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgUmV0dXJuIHRoZSBjb250YWluZXIgd2l0aCB0aGUgYXR0cmlidXRlcyB0byB0aGUgY2FsbGluZyBmdW5jdGlvblxyXG4gICAgICByZXR1cm4gY29udGFpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBNYWtlIHRoZSBpbWcgbm9kZSwgaW5jbHVkaW5nIGFuY2hvciBpZiBpdCBpcyBjaGVja2VkXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIG1ha2VJbWdOb2RlICggaWQgKSB7XHJcbiAgICAgIC8vICFWQSBJZCBpcyBwYXNzZWQgYnV0IG5vdCB1c2VkIGhlcmUsICBiZWNhdXNlIHdlJ3JlIG9ubHkgYnVpbGRpbmcgdGhlIG5vZGUuXHJcbiAgICAgIGxldCBBdHRyaWJ1dGVzO1xyXG4gICAgICBBdHRyaWJ1dGVzID0gZ2V0QXR0cmlidXRlcygpO1xyXG4gICAgICBsZXQgaW1nTm9kZSwgcmV0dXJuTm9kZUZyYWdtZW50O1xyXG4gICAgICAvLyAhVkEgQ3JlYXRlIHRoZSBpbWFnZSBub2RlXHJcbiAgICAgIGltZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgLy8gIVZBIENyZWF0ZSB0aGUgbm9kZSBmcmFnbWVudCB0aGF0IHdpbGwgY29udGFpbiB0aGUgSU1HIG9yIEEvSU1HIHRhZ3NcclxuICAgICAgcmV0dXJuTm9kZUZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICAvLyAhVkEgU2V0IHRoZSBpbWcgYXR0cmlidXRlcy4gXHJcbiAgICAgIC8vICFWQSBDbGFzcyBhdHRyaWJ1dGUgLSBBZGQgdG8gdGhlIG5vZGUgb25seSBpZiB0aGUgYXR0cmlidXRlIGlzIHNldCwgaS5lLiB0aGUgaW5wdXQgaGFzIGFuIGVudHJ5XHJcbiAgICAgIC8vICFWQSBBZGQgdG8gdGhlIG5vZGUgb25seSBpZiB0aGUgYXR0cmlidXRlIGlzIHNldCwgaS5lLiB0aGUgaW5wdXQgaGFzIGFuIGVudHJ5XHJcbiAgICAgIGlmIChBdHRyaWJ1dGVzLmltZ0NsYXNzKSB7IGltZ05vZGUuY2xhc3NOYW1lID0gQXR0cmlidXRlcy5pbWdDbGFzczsgfVxyXG4gICAgICAvLyAhVkEgYWx0IGF0dHJpYnV0ZSAtIEFkZCB0byB0aGUgbm9kZSBvbmx5IGlmIHRoZSBhdHRyaWJ1dGUgaXMgc2V0LCBpLmUuIHRoZSBpbnB1dCBoYXMgYW4gZW50cnlcclxuICAgICAgaWYgKEF0dHJpYnV0ZXMuaW1nQWx0KSB7IGltZ05vZGUuYWx0ID0gQXR0cmlidXRlcy5pbWdBbHQ7IH1cclxuICAgICAgLy8gIVZBIHNyYyBhdHRyaWJ1dGU7XHJcbiAgICAgIGltZ05vZGUuc3JjID0gQXR0cmlidXRlcy5pbWdTcmM7XHJcbiAgICAgIC8vICFWQSB3aWR0aCBhdHRyaWJ1dGVcclxuICAgICAgaW1nTm9kZS53aWR0aCA9IEF0dHJpYnV0ZXMuaW1nV2lkdGg7XHJcbiAgICAgIC8vICFWQSBoZWlnaHQgYXR0cmlidXRlXHJcbiAgICAgIGltZ05vZGUuaGVpZ2h0ID0gQXR0cmlidXRlcy5pbWdIZWlnaHQ7XHJcbiAgICAgIC8vICFWQSBzdHlsZSBhdHRyaWJ1dGVcclxuICAgICAgaW1nTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgQXR0cmlidXRlcy5pbWdTdHlsZSk7XHJcbiAgICAgIC8vICFWQSBOT1RFOiBhbGlnbiBhdHRyaWJ1dGUgaXMgZGVwcmVjYXRlZCBpbiBodG1sNSBzbyBpcyBpdCBuZWVkZWQ/XHJcbiAgICAgIC8vICFWQSBhbHQgYXR0cmlidXRlIC0gQWRkIHRvIHRoZSBub2RlIG9ubHkgaWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQsIGkuZS4gdGhlIHNlbGVjdGVkIG9wdGlvbiBpc24ndCAnbm9uZScuIGkuZS4gZmFsc3lcclxuICAgICAgaWYgKEF0dHJpYnV0ZXMuaW1nQWxpZ24pIHsgaW1nTm9kZS5hbGlnbiA9IEF0dHJpYnV0ZXMuaW1nQWxpZ247IH1cclxuICAgICAgLy8gIVZBIGJvcmRlciBhdHRyaWJ1dGVcclxuICAgICAgaW1nTm9kZS5ib3JkZXIgPSAnMCc7XHJcbiAgICAgIFxyXG4gICAgICAvLyAhVkEgSWYgdGhlIGluY2x1ZGUgYW5jaG9yIG9wdGlvbiBpcyBjaGVja2VkLCBjcmVhdGUgdGhlIGFuY2hvciBlbGVtZW50LCBhZGQgdGhlIGF0dHJpYnV0ZXMsIGFwcGVuZCB0aGUgaW1nTm9kZSB0byB0aGUgbm9kZUZyYWdtZW50LCBhbmQgcmV0dXJuIGl0LlxyXG4gICAgICBpZihBdHRyaWJ1dGVzLmltZ0luY2x1ZGVBbmNob3IgPT09IHRydWUpIHtcclxuICAgICAgICBsZXQgYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgIGFuY2hvci5ocmVmID0gJyMnO1xyXG4gICAgICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2NvbG9yOiAjRkYwMDAwJyk7XHJcbiAgICAgICAgYW5jaG9yLmFwcGVuZENoaWxkKGltZ05vZGUpO1xyXG4gICAgICAgIHJldHVybk5vZGVGcmFnbWVudC5hcHBlbmRDaGlsZChhbmNob3IpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vICFWQSBPdGhlcndpc2UsIHNldCByZXR1cm5Ob2RlRnJhZ21lbnQgdG8gaW1nTm9kZSB3aXRob3V0IHRoZSBhbmNob3IuXHJcbiAgICAgICAgcmV0dXJuTm9kZUZyYWdtZW50LmFwcGVuZENoaWxkKGltZ05vZGUpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHJldHVybiB0aGUgaW1nTm9kZSBhcyBub2RlIGZyYWdtZW50O1xyXG4gICAgICByZXR1cm4gcmV0dXJuTm9kZUZyYWdtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBNYWtlIHRoZSBURCBub2RlXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIG1ha2VUZE5vZGUoIGlkLCB1U2VscyApIHtcclxuICAgICAgLy8gIVZBIFZhcmlhYmxlcyBmb3IgZXJyb3IgaGFuZGxpbmcgLSBuZWVkIHRvIGluY2x1ZGUgdGhpcyBpbiB0aGUgcmV0dXJuIHZhbHVlIHNvIHRoZSBDbGlwYm9hcmQgb2JqZWN0IGNhbiBkaWZmZXJlbnRpYXRlIGJldHdlZW4gYWxlcnQgYW5kIHN1Y2Nlc3MgbWVzc2FnZXMuIFxyXG4gICAgICBsZXQgaXNFcnI7XHJcbiAgICAgIC8vICFWQSBOT1RFOiBObyB0cmFwcGVkIGVycm9ycyBoZXJlIHlldCB0aGF0IHdvdWxkIHBhc3MgYSBjb2RlLCBidXQgdGhhdCB3aWxsIHByb2JhYmx5IGNvbWUuXHJcbiAgICAgIGxldCBlcnJDb2RlO1xyXG4gICAgICAvLyAhVkEgR2V0IHRoZSBub2RlIGF0dHJpYnV0ZXNcclxuICAgICAgbGV0IEF0dHJpYnV0ZXM7XHJcbiAgICAgIEF0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzKCk7XHJcbiAgICAgIGxldCB0ZElubmVyLCBpbWdOb2RlO1xyXG4gICAgICAvLyAhVkEgQ3JlYXRlIHRoZSBURCBub2RlIGZvciB0aGUgcGFyZW50IFREXHJcbiAgICAgIHRkSW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICAvLyAhVkEgQ3JlYXRlIHRoZSBURCBub2RlIGZyYWdtZW50IHRoYXQgd2lsbCBjb250YWluIHRoZSBwYXJlbnQgVEQgd2l0aG91dCB0aGUgY29kZSBibG9jayBmb3IgaW1nc3dhcCwgYmdpbWFnZSBvciB2bWxidXR0b25cclxuICAgICAgbGV0IHRkTm9kZUZyYWdtZW50O1xyXG4gICAgICB0ZE5vZGVGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgLy8gIVZBIFRPRE86IFRoZXJlIGFyZSBOTyBhdHRyaWJ1dGVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIEFMTCB0aGUgdGRvcHRpb25zLCBidXQgaXQncyB2ZXJ5IHJlcGV0aXRpdmUgdG8gaW5jbHVkZSB0aGVzZSBvcHRpb25zIGluZGl2aWR1YWxseS4gVGhpbmsgYWJvdXQgaG93IHRoaXMgY2FuIGJlIG1hZGUgRFJZZXIsIGxpa2UgaXQgd2FzIGRvbmUgaW4gbWFrZVBvc1N3aXRjaE5vZGVzIGFuZCBzZXRQb3NTd2l0Y2hOb2RlQXR0cmlidXRlc1xyXG4gICAgICAvLyAhVkEgYmdjb2xvciBhdHRyaWJ1dGUuIFBhc3MgdGhlIGlucHV0IHZhbHVlLCBkb24ndCBwcmVwZW5kIGhleCAjIGNoYXJhY3RlciBmb3Igbm93XHJcbiAgICAgIGlmIChBdHRyaWJ1dGVzLnRkQmdjb2xvcikgeyB0ZElubmVyLmJnQ29sb3IgPSBBdHRyaWJ1dGVzLnRkQmdjb2xvcjsgfVxyXG4gICAgICAvLyAhVkEgTm93IGFkZCB0aGUgYXR0cmlidXRlcyBpbmNsdWRlZCBvbmx5IHdpdGggdGhlIGRlZmF1bHQgVGQgY29uZmlndXJhdGlvblxyXG4gICAgICBzd2l0Y2godHJ1ZSkge1xyXG4gICAgICAvLyBjYXNlIChzZWxlY3RlZFJhZGlvID09PSAnYmFzaWMnKTpcclxuICAgICAgY2FzZSAodVNlbHMuc2VsZWN0ZWRSYWRpbyA9PT0gJ2Jhc2ljJyB8fCB1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAnZXhjbHVkZWltZycpOlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdtYWtlVGROb2RlIGJhc2ljIE9SIGV4Y2x1ZGVpbWcnKTtcclxuICAgICAgICAvLyAhVkEgY2xhc3MgYXR0cmlidXRlXHJcbiAgICAgICAgaWYgKEF0dHJpYnV0ZXMudGRDbGFzcykgeyB0ZElubmVyLmNsYXNzTmFtZSA9IEF0dHJpYnV0ZXMudGRDbGFzczsgfVxyXG4gICAgICAgIC8vICFWQSB2YWxpZ24gYXR0cmlidXRlXHJcbiAgICAgICAgaWYgKEF0dHJpYnV0ZXMudGRBbGlnbikgeyB0ZElubmVyLmFsaWduID0gQXR0cmlidXRlcy50ZEFsaWduOyB9XHJcbiAgICAgICAgaWYgKEF0dHJpYnV0ZXMudGRWYWxpZ24pIHsgdGRJbm5lci52QWxpZ24gPSBBdHRyaWJ1dGVzLnRkVmFsaWduOyB9XHJcbiAgICAgICAgaWYgKEF0dHJpYnV0ZXMudGRIZWlnaHQpIHsgdGRJbm5lci5oZWlnaHQgPSBBdHRyaWJ1dGVzLmltZ1dpZHRoOyB9XHJcbiAgICAgICAgaWYgKEF0dHJpYnV0ZXMudGRXaWR0aCkgeyB0ZElubmVyLndpZHRoID0gQXR0cmlidXRlcy5pbWdIZWlnaHQ7IH1cclxuICAgICAgICAvLyAhVkEgSWYgJ2Jhc2ljJyBpcyBjaGVja2VkLCBjcmVhdGUgaW1nTm9kZSBhbmQgYXBwZW5kIGl0LCBvdGhlcndpc2UgZXhjbHVkZSB0aGUgaW1nTm9kZS5cclxuICAgICAgICBpZiAodVNlbHMuc2VsZWN0ZWRSYWRpbyA9PT0gJ2Jhc2ljJykge1xyXG4gICAgICAgICAgaW1nTm9kZSA9IG1ha2VJbWdOb2RlKCBpZCApO1xyXG4gICAgICAgICAgLy8gIVZBIFdlIG5lZWQgdG8gaW5jbHVkZSB0aGUgaW1nTm9kZSBoZXJlIE9OTFkgaWYgQmdpbWFnZSBpcyB1bmNoZWNrZWRcclxuICAgICAgICAgIHRkSW5uZXIuYXBwZW5kQ2hpbGQoaW1nTm9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyBjYXNlIChzZWxlY3RlZFJhZGlvID09PSAnaW1nc3dhcCcpOlxyXG4gICAgICBjYXNlICh1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAnaW1nc3dhcCcpOlxyXG4gICAgICAgIGlmIChBdHRyaWJ1dGVzLnRkQ2xhc3MpIHsgdGRJbm5lci5jbGFzc05hbWUgPSBBdHRyaWJ1dGVzLnRkQ2xhc3M7IH1cclxuICAgICAgICBpZiAoQXR0cmlidXRlcy50ZFZhbGlnbikgeyB0ZElubmVyLnZBbGlnbiA9IEF0dHJpYnV0ZXMudGRWYWxpZ247IH1cclxuICAgICAgICBpZiAoQXR0cmlidXRlcy50ZEFsaWduKSB7IHRkSW5uZXIuYWxpZ24gPSBBdHRyaWJ1dGVzLnRkQWxpZ247IH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgLy8gY2FzZSAoc2VsZWN0ZWRSYWRpbyA9PT0gJ2JnaW1hZ2UnKTpcclxuICAgICAgY2FzZSAodVNlbHMuc2VsZWN0ZWRSYWRpbyA9PT0gJ2JnaW1hZ2UnKTpcclxuICAgICAgICBjb25zb2xlLmxvZygnbWFrZVRkTm9kZSBiZ2ltYWdlJyk7XHJcbiAgICAgICAgLy8gIVZBIENyZWF0ZSB0aGUgcGFyZW50IG5vZGUgdG8gd2hpY2ggdGhlIGJnaW1hZ2UgY29kZSBibG9jayB3aWxsIGJlIGFwcGVuZGVkIGFmdGVyIG91dHB1dE5MIGlzIGNvbnZlcnRlZCB0byB0ZXh0IGluIGJ1aWxkT3V0cHV0Tm9kZUxpc3QuXHJcbiAgICAgICAgLy8gIVZBIEluY2x1ZGUgd2lkdGgsIGhlaWdodCBhbmQgdmFsaWduIGFzIHBlciBTdGlnJ3MgdmVyc2lvblxyXG4gICAgICAgIHRkSW5uZXIud2lkdGggPSBBdHRyaWJ1dGVzLnRkQXBwZGF0YVdpZHRoO1xyXG4gICAgICAgIHRkSW5uZXIuaGVpZ2h0ID0gQXR0cmlidXRlcy50ZEFwcGRhdGFIZWlnaHQ7XHJcbiAgICAgICAgdGRJbm5lci52QWxpZ24gPSBBdHRyaWJ1dGVzLnRkVmFsaWduO1xyXG4gICAgICAgIC8vICFWQSBTZXQgdGhlIGJhY2tncm91bmQgYXR0cmlidXRlIHRvIHRoZSBjdXJyZW50IHBhdGgvZmlsZW5hbWVcclxuICAgICAgICB0ZElubmVyLnNldEF0dHJpYnV0ZSgnYmFja2dyb3VuZCcsIEF0dHJpYnV0ZXMudGRCYWNrZ3JvdW5kKTtcclxuICAgICAgICAvLyAhVkEgRmFsbGJhY2sgYmdjb2xvciBub3cgc2V0IGluIFVJQ29udHJvbGxlci5kaXNwbGF5VGRPcHRpb25zXHJcbiAgICAgICAgLy8gIVZBIEluY2x1ZGUgZmFsbGJhY2sgY29sb3IgZnJvbSB0aGUgZGVmYXVsdCBzZXQgaW4gZGlzcGxheVRkT3B0aW9uc1xyXG4gICAgICAgIC8vIEF0dHJpYnV0ZXMudGRCZ2NvbG9yID8gdGRJbm5lci5iZ0NvbG9yID0gQXR0cmlidXRlcy50ZEJnY29sb3IgOiB0ZElubmVyLmJnQ29sb3IgPSAnIzdiY2VlYic7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIC8vIGNhc2UgKHNlbGVjdGVkUmFkaW8gPT09ICdwb3Nzd2l0Y2gnKTpcclxuICAgICAgY2FzZSAodVNlbHMuc2VsZWN0ZWRSYWRpbyA9PT0gJ3Bvc3N3aXRjaCcpOlxyXG4gICAgICAgIHRkSW5uZXIgID0gbWFrZVBvc1N3aXRjaE5vZGVzKCBpZCApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyBjYXNlIChzZWxlY3RlZFJhZGlvID09PSAndm1sYnV0dG9uJyk6XHJcbiAgICAgIGNhc2UgKHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICd2bWxidXR0b24nKTpcclxuICAgICAgICAvLyAhVkEgSGVpZ2h0IGFuZCB3aWR0aCBmaWVsZHMgaGF2ZSB0byBiZSBlbnRlcmVkLCBvdGhlcndpc2UgdGhlIGJ1dHRvbiBjYW4ndCBiZSBidWlsdC4gQnV0dG9uIHdpZHRoIGFuZCBoZWlnaHQgYXJlIHNldCBoZXJlIGluIG1ha2VUZE5vZGUsIHRoZSByZXN0IG9mIHRoZSBvcHRpb25zIGFyZSBzZXQgaW4gZ2V0Vm1sQ29kZUJsb2NrIGluIGJ1aWxkT3V0cHV0Tm9kZUxpc3QuIFRoZSBkZWZhdWx0cyBvZiA0MC8yMDAgYXMgcGVyIFN0aWcgYXJlIHNldCBpbiBVSUNvbnRyb2xsZXIuZGlzcGxheVRkT3B0aW9ucy4gU28gaWYgdGhlcmUncyBubyB2YWx1ZSBmb3IgdGQgaGVpZ2h0IGFuZCB3aWR0aCwgdGhlbiB0aGUgdXNlciBoYXMgZGVsZXRlZCB0aGUgZGVmYXVsdCBhbmQgbm90IHJlcGxhY2VkIGl0IHdpdGggYSB2YWxpZCBlbnRyeS4gSW4gdGhpcyBjYXNlLCB0aHJvdyBhbiBFUlJPUiBhbmQgYWJvcnQgYmVmb3JlIGl0IGdldHMgdG8gdGhlIGNsaXBib2FyZC5cclxuICAgICAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkSGVpZ2h0KS52YWx1ZSB8fCAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BVc2VySW5wdXQuaXB0Q2NwVGRXaWR0aCkudmFsdWUpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUiBpbiBtYWtlVGROb2RlIHZtbGJ1dHRvbjogbm8gdmFsdWUgZm9yIGVpdGhlciBoZWlnaHQgb3Igd2lkdGgnKTtcclxuICAgICAgICAgIGlzRXJyID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIVZBIFNldCB0aGUgd2lkdGggYW5kIGhlaWdodCBpbiB0aGUgVEQgbm9kZSwgbm90IGluIHRoZSBjb2RlIGJsb2NrXHJcbiAgICAgICAgICB0ZElubmVyLndpZHRoID0gQXR0cmlidXRlcy50ZFdpZHRoO1xyXG4gICAgICAgICAgdGRJbm5lci5oZWlnaHQgPSBBdHRyaWJ1dGVzLnRkSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgVE9ETzogSWYgdGhlIGhlaWdodCBlbnRlcmVkIGRvZXNuJ3QgbWF0Y2ggdGhlIGhlaWdodCBvZiB0aGUgbG9hZGVkIGltYWdlLCB0aGVuIHRoZSB1c2VyIHByb2JhYmx5IGhhcyBmb3Jnb3R0ZW4gdG8gbG9hZCB0aGUgaW1hZ2UgdXNlZCBmb3IgdGhlIGJ1dHRvbiBiYWNrZ3JvdW5kLCBzbyB0aGUgY29kZSBvdXRwdXQgd2lsbCBwcm9iYWJseSBub3QgYmUgd2hhdCB0aGUgdXNlciBleHBlY3RzLiBPdXRwdXQgdGhlIGNvZGUsIGJ1dCBzaG93IGFuIGFsZXJ0IGluIHRoZSBtZXNzYWdlIGJhci4gVGhpcyBpcyBnb2luZyB0byByZXF1aXJlIG1ha2luZyBhIGRpZmZlcmVudCBjbGlwYm9hcmQgbWVzc2FnZSBmb3IgYWxlcnRzLiBJdCB3aWxsIGFsc28gcmVxdWlyZSBzb21laG93IGluZm9ybWluZyB0aGUgQ2xpcGJvYXJkIG9iamVjdCB0aGF0IHR3byBkaWZmZXJlbnQgbWVzc2FnZXMgY2FuIGJlIGRpc3BsYXllZCBvbnN1Y2Nlc3MgLSBvbmUgc3VjY2VzcyBtZXNzYWdlIGFuZCBvbmUgYWxlcnQgbWVzc2FnZS4gVGhhdCB3aWxsIHJlcXVpcmUgcGFzc2luZyBhbiBlcnJvciBzdGF0dXMgYWxvbmcgd2l0aCB0ZE5vZGVGcmFnbWVudCBhbmQgdGFibGVOb2RlRnJhZ21lbnQsIHdoaWNoIHdpbGwgcmVxdWlyZSByZXR1cm5pbmcgYW4gYXJyYXkgcmF0aGVyIHRoYW4ganVzdCB0aGUgbm9kZSBmcmFnbWVudC4gXHJcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkSGVpZ2h0KS52YWx1ZSAhPT0gQXR0cmlidXRlcy5pbWdIZWlnaHQpIHtcclxuICAgICAgICAgIGFwcENvbnRyb2xsZXIuaW5pdE1lc3NhZ2UoaWQsIHRydWUsICd2bWxidXR0b25faGVpZ2h0X21pc21hdGNoJyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnQUxFUlQgdm1sYnV0dG9uOiBoZWlnaHQgdmFsdWUgZG9lc25cXCd0IG1hdGNoIGhlaWdodCBvZiBsb2FkZWQgaW1hZ2UnKTtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTb21lIGVycm9yIGhhcyBvY2N1cnJlZCBpbiBtYWtlVGROb2RlJyk7XHJcbiAgICAgIH0gXHJcbiAgICAgIC8vIC8vICFWQSBTZXQgdGhlIG5vZGUgZnJhZ21lbnQgdG8gdGhlIFREIG5vZGVcclxuICAgICAgdGROb2RlRnJhZ21lbnQuYXBwZW5kQ2hpbGQodGRJbm5lcik7XHJcbiAgICAgIC8vICFWQSBUT0RPOiBUaGlzIGVycm9yIGhhbmRsaW5nIGlzIHBvb3IgYmVjYXVzZSBpdCBvbmx5IGFsbG93cyBmb3Igb25lIHBvc3NpYmxlIGVycm9yLiBCdXQsIGl0IGRvZXMgcmV0dXJuIG5vdGhpbmcsIHdoaWNoIGlzIHRoZW4gcGFzc2VkIG9uIHRvIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGFuZCB0ZXJtaW5hdGVzIGluIGJ1aWxkT3V0cHV0Tm9kZUxpc3RcclxuICAgICAgLy8gIVZBIEJyYW5jaDogcmVjb25maWd1cmVNZXNzYWdlcyAoMDUxNjIwKSBUcnkgY2F0Y2ggdGhpcyBlcnJvciBiZWxvbmdzIGhlcmVcclxuICAgICAgaWYgKGlzRXJyKSB7IFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdtYWtlVGROb2RlOiB2bWxfYnV0dG9uX25vX3ZhbHVlIGVycm9yOiBpZCBpczogJyArIGlkKTtcclxuICAgICAgICAvLyAhVkEgQnJhbmNoOiByZWNvbmZpZ3VyZU1lc3NhZ2VzICgwNTE2MjApIE5ldyBhcHBtZXNzYWdlIGhhbmRsaW5nXHJcbiAgICAgICAgYXBwQ29udHJvbGxlci5oYW5kbGVBcHBNZXNzYWdlcygndm1sX2J1dHRvbl9ub192YWx1ZScpO1xyXG4gICAgICAgIC8vIGFwcENvbnRyb2xsZXIuaW5pdE1lc3NhZ2UoaWQsIHRydWUsICd2bWxidXR0b25fbm9fdmFsdWUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmV0dXJuaW5nLi4uJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0ZE5vZGVGcmFnbWVudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBNYWtlIHRoZSB0YWJsZSBub2RlLCBpbmNsdWRpbmcgcGFyZW50IGFuZCB3cmFwcGVyIHRhYmxlIGlmIHNlbGVjdGVkXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIG1ha2VUYWJsZU5vZGUoIGlkLCB1U2VscyApIHtcclxuICAgICAgbGV0IEF0dHJpYnV0ZXM7XHJcbiAgICAgIEF0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzKCk7XHJcbiAgICAgIC8vICFWQSBUaGlzIGlzbid0IGRlZmluZWQgYmVjYXVzZSB0aGVyZSdzIG5vdCBpZGVudGlmaWVkIGVycm9yIGNvbmRpdGlvbiBhcyB5ZXQuIFNlZSB0aGUgcmV0dXJuIHN0YXRlbWVudCBvZiBtYWtlVGROb2RlIGZvciBoYW5kbGluZyBtZXRob2QuXHJcbiAgICAgIGxldCBpc0VycjtcclxuICAgICAgLy8gIVZBIFZhcmlhYmxlcyBmb3IgcGFyZW50IGFuZCB3cmFwcGVyIHRhYmxlLCBwYXJlbnQgYW5kIHdyYXBwZXIgdHIsIGFuZCB3cmFwcGVyIHRkLiBQYXJlbnQgdGQgaXMgY2FsbGVkIGZyb20gbWFrZVRkTm9kZSBhbmQgaXMgYXBwZW5kZWQgdG8gdGROb2RlRnJhZ21lbnQuIHRhYmxlTm9kZUZyYWdtZW50IGlzIHRoZSBub2RlIHRoYXQgY29udGFpbnMgdGhlIGVudGlyZSBub2RlbGlzdCB3aGljaCBpcyByZXR1cm5lZCB0byBidWlsZE91dHB1dE5vZGVMaXN0XHJcbiAgICAgIGxldCB0YWJsZU91dGVyLCB0ck91dGVyLCB0ZE91dGVyLCB0YWJsZUlubmVyLCB0cklubmVyLCB0ZE5vZGVGcmFnbWVudCwgdGFibGVOb2RlRnJhZ21lbnQ7XHJcbiAgICAgIHRhYmxlTm9kZUZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG4gICAgICB0YWJsZU91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcclxuICAgICAgdHJPdXRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgIHRkT3V0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xyXG4gICAgICB0YWJsZUlubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTtcclxuICAgICAgdHJJbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcblxyXG4gICAgICAvLyAhVkEgTWFrZSB0aGUgaW5uZXIgdGFibGUuIElmIEluY2x1ZGUgd3JhcHBlciB0YWJsZSBpcyB1bmNoZWNrZWQsIHdlIHJldHVybiBqdXN0IHRoZSBpbm5lciB0YWJsZS4gSWYgaXQncyBjaGVja2VkLCB3ZSByZXR1cm4gdGhlIGlubmVyIHRhYmxlIGFuZCB0aGUgb3V0ZXIgdGFibGUgXHJcbiAgICAgIC8vICFWQSBBZGQgaW5uZXIgdGFibGUgYXR0cmlidXRlc1xyXG4gICAgICAvLyAhVkEgdGFibGUgY2xhc3MgYXR0cmlidXRlXHJcbiAgICAgIGlmIChBdHRyaWJ1dGVzLnRhYmxlQ2xhc3MpIHsgdGFibGVJbm5lci5jbGFzc05hbWUgPSBBdHRyaWJ1dGVzLnRhYmxlQ2xhc3M7IH1cclxuICAgICAgLy8gdGFibGUuY2xhc3NOYW1lID0gQXR0cmlidXRlcy50YWJsZUNsYXNzO1xyXG4gICAgICAvLyAhVkEgdGFibGUgYWxpZ24gYXR0cmlidXRlXHJcbiAgICAgIGlmIChBdHRyaWJ1dGVzLnRhYmxlQWxpZ24pIHsgdGFibGVJbm5lci5hbGlnbiA9IEF0dHJpYnV0ZXMudGFibGVBbGlnbjsgfVxyXG4gICAgICAvLyAhVkEgd2lkdGggYXR0cmlidXRlIC0tIHRoZSBkZWZhdWx0IGlzIHRoZSBjdXJyZW50IGRpc3BsYXkgc2l6ZSwgc28gaXQgZ2V0cyB0aGUgdmFsdWUgZnJvbSB0aGUgdG9vbGJhciB2aWV3ZXJXIGlucHV0IGZpZWxkLlxyXG4gICAgICB0YWJsZUlubmVyLndpZHRoID0gQXR0cmlidXRlcy50YWJsZVdpZHRoO1xyXG4gICAgICAvLyAhVkEgdGFibGUgYmdjb2xvciBhdHRyaWJ1dGUuIFBhc3MgdGhlIGlucHV0IHZhbHVlLCBkb24ndCBwcmVwZW5kIGhleCAjIGNoYXJhY3RlciBmb3Igbm93XHJcbiAgICAgIGlmIChBdHRyaWJ1dGVzLnRhYmxlQmdjb2xvcikgeyB0YWJsZUlubmVyLmJnQ29sb3IgPSBBdHRyaWJ1dGVzLnRhYmxlQmdjb2xvcjsgfVxyXG4gICAgICAvLyAhVkEgQWRkIGJvcmRlciwgY2VsbHNwYWNpbmcgYW5kIGNlbGxwYWRkaW5nXHJcbiAgICAgIHRhYmxlSW5uZXIuYm9yZGVyID0gJzAnLCB0YWJsZUlubmVyLmNlbGxTcGFjaW5nID0gJzAnLCB0YWJsZUlubmVyLmNlbGxQYWRkaW5nID0gJzAnO1xyXG4gICAgICB0YWJsZUlubmVyLnNldEF0dHJpYnV0ZSgncm9sZScsICdwcmVzZW50YXRpb24nKTsgXHJcbiAgICAgIFxyXG4gICAgICAvLyAhVkEgQnVpbGQgdGhlIGlubmVyIHRyXHJcbiAgICAgIHRhYmxlSW5uZXIuYXBwZW5kQ2hpbGQodHJJbm5lcik7XHJcbiAgICAgIC8vICFWQSBHZXQgdGhlIGlubmVyIFREIGZyb20gbWFrZVRkTm9kZSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBub2RlRnJhZ21lbnRcclxuICAgICAgdGROb2RlRnJhZ21lbnQgPSBtYWtlVGROb2RlKCBpZCwgdVNlbHMgKTtcclxuICAgICAgLy8gIVZBIElmIHRkTm9kZUZyYWdtZW50IGlzIG51bGwsIHRoZW4gdGhlcmUgd2FzIGFuIGVycm9yIGluIG1ha2VUZE5vZGUsIHNvIGNvbnNvbGUgdGhlIGVycm9yIGFuZCByZXR1cm4gbnVsbCB0byBidWlsZE91dHB1dE5vZGVMaXN0IHRvIGFib3J0LlxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRySW5uZXIuYXBwZW5kQ2hpbGQodGROb2RlRnJhZ21lbnQpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gIVZBIEJyYW5jaDogcmVjb25maWd1cmVNZXNzYWdlcyAoMDUxNjIwKSBBZGQgZXJyb3IgbWVzc2FnZSBoZXJlLCBpbiB0aGUgbWVhbnRpbWUgY29uc29sZS5sb2cgaWRcclxuICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgaW4gbWFrZVRhYmxlTm9kZTogdGROb2RlRnJhZ21lbnQgaXMgbnVsbDogaWQgaXM6ICcgKyBpZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBJZiBpbmNsdWRlIHRhYmxlIHdyYXBwZXIgaXMgY2hlY2tlZCwgYnVpbGQgdGhlIG91dGVyIHRhYmxlIGFuZCByZXR1cm4gaXRcclxuICAgICAgLy8gIVZBIHRhYmxlIHdyYXBwZXIgY2xhc3NcclxuICAgICAgaWYgKEF0dHJpYnV0ZXMudGFibGVUYWdXcmFwcGVyQWxpZ24pIHsgdGFibGVPdXRlci5hbGlnbiA9IEF0dHJpYnV0ZXMudGFibGVUYWdXcmFwcGVyQWxpZ247IH1cclxuICAgICAgLy8gIVZBIHdyYXBwZXIgdGFibGUgYWxpZ24gYXR0cmlidXRlXHJcbiAgICAgIGlmIChBdHRyaWJ1dGVzLnRhYmxlVGFnV3JhcHBlckNsYXNzKSB7IHRhYmxlT3V0ZXIuY2xhc3NOYW1lID0gQXR0cmlidXRlcy50YWJsZVRhZ1dyYXBwZXJDbGFzczsgfVxyXG4gICAgICAvLyAhVkEgdGhlIGRlZmF1bHQgd3JhcHBlciB0YWJsZSB3aWR0aCBpcyB0aGUgY3VycmVudCBkaXNwbGF5IHNpemUgLSBzbyBpdCBnZXRzIHRoZSB2YWx1ZSBmcm9tIHRoZSB0b29sYmFyJ3MgQ29udGVudCBXaWR0aCBmaWVsZC5cclxuICAgICAgdGFibGVPdXRlci53aWR0aCA9IEF0dHJpYnV0ZXMudGFibGVUYWdXcmFwcGVyV2lkdGg7XHJcbiAgICAgIC8vICFWQSB0YWJsZSBiZ2NvbG9yIGF0dHJpYnV0ZS4gUGFzcyB0aGUgaW5wdXQgdmFsdWUsIGRvbid0IHByZXBlbmQgaGV4ICMgY2hhcmFjdGVyIGZvciBub3cuIFxyXG4gICAgICBpZiAoQXR0cmlidXRlcy50YWJsZVRhZ1dyYXBwZXJCZ2NvbG9yKSB7IHRhYmxlT3V0ZXIuYmdDb2xvciA9IEF0dHJpYnV0ZXMudGFibGVUYWdXcmFwcGVyQmdjb2xvcjsgfVxyXG4gICAgICAvLyAhVkEgQWRkIGRlZmF1bHQgYm9yZGVyLCBjZWxsc3BhY2luZywgY2VsbHBhZGRpbmcgYW5kIHJvbGUgZm9yIGFjY2Vzc2libGl0eVxyXG4gICAgICB0YWJsZU91dGVyLmJvcmRlciA9ICcwJywgdGFibGVPdXRlci5jZWxsU3BhY2luZyA9ICcwJywgdGFibGVPdXRlci5jZWxsUGFkZGluZyA9ICcwJztcclxuICAgICAgdGFibGVPdXRlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7IFxyXG4gICAgICAvLyAhVkEgQXBwZW5kIHRoZSBvdXRlciB0ciB0byB0aGUgd3JhcHBlclxyXG4gICAgICB0YWJsZU91dGVyLmFwcGVuZENoaWxkKHRyT3V0ZXIpO1xyXG4gICAgICAvLyAhVkEgQXBwZW5kIHRoZSBvdXRlciB0ZCB0byB0aGUgb3V0ZXIgdHJcclxuICAgICAgdHJPdXRlci5hcHBlbmRDaGlsZCh0ZE91dGVyKTtcclxuICAgICAgLy8gIVZBIEFkZCB0aGUgb3V0ZXIgdGQgYXR0cmlidXRlc1xyXG4gICAgICBpZiAoQXR0cmlidXRlcy50ZEFsaWduKSB7IHRkT3V0ZXIuYWxpZ24gPSBBdHRyaWJ1dGVzLnRkQWxpZ247IH1cclxuICAgICAgLy8gIVZBIHZhbGlnbiBhdHRyaWJ1dGVcclxuICAgICAgaWYgKEF0dHJpYnV0ZXMudGRWYWxpZ24pIHsgdGRPdXRlci52QWxpZ24gPSBBdHRyaWJ1dGVzLnRkVmFsaWduOyB9XHJcbiAgICAgIC8vICFWQSBBcHBlbmQgdGhlIGlubmVyIHRhYmxlIHRvIHRoZSBvdXRlciB0YWJsZSdzIHRkXHJcbiAgICAgIHRkT3V0ZXIuYXBwZW5kQ2hpbGQodGFibGVJbm5lcik7XHJcbiAgICAgIC8vICFWQSBQYXNzIHRoZSBvdXRlciB0YWJsZSB0byB0aGUgdGFibGVOb2RlRnJhZ21lbnQuXHJcbiAgICAgIC8vIHRhYmxlTm9kZSA9IHRhYmxlT3V0ZXI7XHJcbiAgICAgIC8vICFWQSBBcHBlbmQgdGhlIHdyYXBwZXIgdGFibGUgdG8gdGhlIG5vZGUgZnJhZ21lbnQgYW5kIHJldHVybiBpdFxyXG4gICAgICB0YWJsZU5vZGVGcmFnbWVudC5hcHBlbmRDaGlsZCh0YWJsZU91dGVyKTtcclxuICAgICAgcmV0dXJuIHRhYmxlTm9kZUZyYWdtZW50O1xyXG4gICAgfVxyXG4gICAgLy8gIVZBICBFTkQgTk9ERSBGVU5DVElPTlNcclxuXHJcbiAgICAvLyAhVkEgU1RBUlQgVEQgT1BUSU9OUyBNUy1DT05ESVRJT05BTCBDT0RFIEJMT0NLU1xyXG4gICAgLy8gIVZBIFRoZXNlIGFyZSB0aGUgY29kZSBibG9ja3MgdGhhdCBjb250YWluIE1TIGNvbmRpdGlvbmFscyBpbiBjb21tZW50IG5vZGVzIG9yIHRleHQgbm9kZXMsIGkuZS4gbW9iaWxlIHN3YXAsIGJhY2tncm91bmQgaW1hZ2UsIGFuZCB2bWxidXR0b25cclxuICAgIC8vICFWQSBVSUNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gZ2V0SW1nU3dhcEJsb2NrKCBpZCwgaW5kZW50TGV2ZWwgKSB7XHJcbiAgICAgIGxldCBBcHBkYXRhLCBBdHRyaWJ1dGVzLCBsaW5lYnJlYWs7XHJcbiAgICAgIEF0dHJpYnV0ZXMgPSBnZXRBdHRyaWJ1dGVzKCk7XHJcbiAgICAgIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKCk7XHJcbiAgICAgIGxpbmVicmVhayA9ICdcXG4nO1xyXG4gICAgICBsZXQgbW9iaWxlRmlsZW5hbWUsIG1vYmlsZVN3YXBTdHI7XHJcbiAgICAgIC8vICFWQSBDcmVhdGUgdGhlIG1vYmlsZSBpbWFnZSBmaWxlbmFtZTogR2V0IHRoZSBjdXJyZW50IGltYWdlIGZpbGUncyBmaWxlbmFtZSBhbmQgYXBwZW5kIHRoZSBuYW1lIHdpdGggJy1tb2InLlxyXG4gICAgICBtb2JpbGVGaWxlbmFtZSA9IEF0dHJpYnV0ZXMuaW1nU3JjO1xyXG4gICAgICAvLyAhVkEgVGhlIHJlZ2V4IGZvciBhcHBlbmRpbmcgdGhlIGZpbGVuYW1lIHdpdGggJy1tb2InLlxyXG4gICAgICBtb2JpbGVGaWxlbmFtZSA9IG1vYmlsZUZpbGVuYW1lLnJlcGxhY2UoLyguanBnfC5wbmd8LmdpZnwuc3ZnKS9nLCAnX21vYiQxJyk7XHJcbiAgICAgIC8vICFWQSBDcmVhdGUgdGhlIGNvZGUgZm9yIHRoZSBtb2JpbGUgc3dhcCBURCBhcyBhIENvbW1lbnQgbm9kZSBvZiB0aGUgcGFyZW50IHRkLiBcclxuICAgICAgbW9iaWxlU3dhcFN0ciA9IGAke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PGEgaHJlZj1cIiNcIj48aW1nIGNsYXNzPVwiaGlkZVwiIGFsdD1cIiR7QXR0cmlidXRlcy5pbWdBbHR9XCIgd2lkdGg9XCIke0F0dHJpYnV0ZXMuaW1nV2lkdGh9XCIgaGVpZ2h0PVwiJHtBdHRyaWJ1dGVzLmltZ0hlaWdodH1cIiBzcmM9XCIke0F0dHJpYnV0ZXMuaW1nU3JjfVwiIGJvcmRlcj1cIjBcIiBzdHlsZT1cIndpZHRoOiAke0F0dHJpYnV0ZXMuaW1nV2lkdGh9cHg7IGhlaWdodDogJHtBdHRyaWJ1dGVzLmltZ0hlaWdodH1weDsgbWFyZ2luOiAwOyBib3JkZXI6IG5vbmU7IG91dGxpbmU6IG5vbmU7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgZGlzcGxheTogYmxvY2s7IFwiPjwvYT4ke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PCEtLVtpZiAhbXNvXT48IS0tPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08c3BhbiBzdHlsZT1cIndpZHRoOjA7IG92ZXJmbG93OmhpZGRlbjsgZmxvYXQ6bGVmdDsgZGlzcGxheTpub25lOyBtYXgtaGVpZ2h0OjA7IGxpbmUtaGVpZ2h0OjA7XCIgY2xhc3M9XCJtb2JpbGVzaG93XCI+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTxhIGhyZWY9XCIjXCI+PGltZyBjbGFzcz1cIm1vYmlsZXNob3dcIiBhbHQ9XCIke0F0dHJpYnV0ZXMuaW1nQWx0fVwiIHdpZHRoPVwiJHtBcHBkYXRhLnNQaG9uZXNXfVwiIGhlaWdodD1cIiR7QXBwZGF0YS5zUGhvbmVzSH1cIiBzcmM9XCIke21vYmlsZUZpbGVuYW1lfVwiIGJvcmRlcj1cIjBcIiBzdHlsZT1cIndpZHRoOiAke0FwcGRhdGEuc1Bob25lc1d9cHg7IGhlaWdodDogJHtBcHBkYXRhLnNQaG9uZXNIfXB4OyBtYXJnaW46IDA7IGJvcmRlcjogbm9uZTsgb3V0bGluZTogbm9uZTsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBkaXNwbGF5OiBibG9jaztcIiAvPjwvYT4ke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PCEtLTwvc3Bhbj4tLT4ke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PCEtLTwhW2VuZGlmXS0tPmA7XHJcbiAgICAgIC8vICFWQSBSZXR1cm4gdGhlIGNvZGUgYmxvY2sgd2l0aCBpbmRlbnRzIGFuZCBsaW5lYnJlYWtzXHJcbiAgICAgIHJldHVybiBtb2JpbGVTd2FwU3RyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBVSUNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gZ2V0QmdpbWFnZUJsb2NrKCBpZCwgaW5kZW50TGV2ZWwpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2dldEJnaWFtZ2VCbG9jayBydW5uaW5nJyk7XHJcbiAgICAgIGxldCBBdHRyaWJ1dGVzO1xyXG4gICAgICBBdHRyaWJ1dGVzID0gZ2V0QXR0cmlidXRlcygpO1xyXG4gICAgICBsZXQgYmdpbWFnZVN0ciwgZmFsbGJhY2ssIGJnY29sb3I7XHJcbiAgICAgIGxldCBsaW5lYnJlYWs7XHJcbiAgICAgIGxpbmVicmVhayA9ICdcXG4nO1xyXG4gICAgICAvLyAhVkEgMDMuMDkuMjAyMCBTZXQgdGhlIGluZGVudExldmVsIHRvIDEgZm9yIG5vd1xyXG4gICAgICBmYWxsYmFjayA9ICcjN2JjZWViJztcclxuICAgICAgLy8gIVZBIFRoZSBmYWxsYmFjayBjb2xvciBpcyB3cml0dGVuIHRvIHRoZSBiZ2NvbG9yIGlucHV0IGluIGRpc3BsYXlUZE9wdGlvbnMsIHNvIGdldCBpdCBmcm9tIHRoZXJlXHJcbiAgICAgIEF0dHJpYnV0ZXMudGRCZ2NvbG9yID8gYmdjb2xvciA9IEF0dHJpYnV0ZXMudGRCZ2NvbG9yIDogYmdjb2xvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRkQmdDb2xvcikudmFsdWU7XHJcblxyXG4gICAgICAvLyAhVkEgRGVmaW5lIHRoZSBpbm5lckhUTUwgb2YgdGhlIGJnaW1hZ2UgY29kZVxyXG4gICAgICBiZ2ltYWdlU3RyID0gYCR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08IS0tW2lmIGd0ZSBtc28gOV0+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTx2OnJlY3QgeG1sbnM6dj1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIgZmlsbD1cInRydWVcIiBzdHJva2U9XCJmYWxzZVwiIHN0eWxlPVwid2lkdGg6JHtBdHRyaWJ1dGVzLmltZ1dpZHRofXB4O2hlaWdodDoke0F0dHJpYnV0ZXMuaW1nSGVpZ2h0fXB4O1wiPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08djpmaWxsIHR5cGU9XCJ0aWxlXCIgc3JjPVwiJHtBdHRyaWJ1dGVzLnRkQmFja2dyb3VuZH1cIiBjb2xvcj1cIiR7Ymdjb2xvcn1cIiAvPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08djp0ZXh0Ym94IGluc2V0PVwiMCwwLDAsMFwiPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08IVtlbmRpZl0tLT4ke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PGRpdj4ke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PCEtLSBQdXQgRm9yZWdyb3VuZCBDb250ZW50IEhlcmUgLS0+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTwvZGl2PiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08IS0tW2lmIGd0ZSBtc28gOV0+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfSAgPC92OnRleHRib3g+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTwvdjpyZWN0PiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08IVtlbmRpZl0tLT5gO1xyXG4gICAgICAvLyAhVkEgUmV0dXJuIHRoZSBjb2RlIGJsb2NrIHdpdGggbGluZSBicmVha3MgYW5kIGluZGVudHNcclxuICAgICAgcmV0dXJuIGJnaW1hZ2VTdHI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIENCQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICBmdW5jdGlvbiBnZXRWbWxCdXR0b25CbG9jayAoIGlkLCBpbmRlbnRMZXZlbCkge1xyXG4gICAgICBsZXQgQXR0cmlidXRlcztcclxuICAgICAgQXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXMoKTtcclxuICAgICAgLy8gY29uc29sZS5kaXIoQXR0cmlidXRlcyk7XHJcbiAgICAgIGxldCB2bWxCdXR0b25TdHIsIGxpbmVicmVhaywgdGRIZWlnaHQsIHRkV2lkdGg7XHJcbiAgICAgIGxpbmVicmVhayA9ICdcXG4nO1xyXG4gICAgICAvLyAhVkEgRGVmYXVsdHMgZm9yIGhlaWdodCBhbmQgd2lkdGggYXJlIHNldCBpbiBkaXNwbGF5VGRPcHRpb25zLCBzbyBnZXQgdGhlIHZhbHVlcyBmcm9tIHRoZSBpbnB1dHNcclxuICAgICAgdGRIZWlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZEhlaWdodCkudmFsdWU7XHJcbiAgICAgIHRkV2lkdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUZFdpZHRoKS52YWx1ZTtcclxuICAgICAgLy8gIVZBIERlZmluZSB0aGUgaW5uZXJIVE1MIG9mIHRoZSB2bWxidXR0b24gY29kZVxyXG4gICAgICB2bWxCdXR0b25TdHIgPSBgJHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTxkaXY+PCEtLVtpZiBtc29dPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08djpyb3VuZHJlY3QgeG1sbnM6dj1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206dm1sXCIgeG1sbnM6dz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC1jb206b2ZmaWNlOndvcmRcIiBocmVmPVwiI1wiIHN0eWxlPVwiaGVpZ2h0OiR7dGRIZWlnaHR9cHg7di10ZXh0LWFuY2hvcjptaWRkbGU7d2lkdGg6JHt0ZFdpZHRofXB4O1wiIGFyY3NpemU9XCIxMCVcIiBzdHJva2Vjb2xvcj1cIiMxZTM2NTBcIiBmaWxsPVwidFwiPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX08djpmaWxsIHR5cGU9XCJ0aWxlXCIgc3JjPVwiJHtBdHRyaWJ1dGVzLmltZ1NyY31cIiBjb2xvcj1cIiM1NTYyNzBcIiAvPiR7bGluZWJyZWFrfSR7Z2V0SW5kZW50KGluZGVudExldmVsKX0ke2xpbmVicmVha30ke2dldEluZGVudChpbmRlbnRMZXZlbCl9PHc6YW5jaG9ybG9jay8+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTxjZW50ZXIgc3R5bGU9XCJjb2xvcjojZmZmZmZmO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6Ym9sZDtcIj5TaG93IG1lIHRoZSBidXR0b24hPC9jZW50ZXI+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTwvdjpyb3VuZHJlY3Q+JHtsaW5lYnJlYWt9JHtnZXRJbmRlbnQoaW5kZW50TGV2ZWwpfTwhW2VuZGlmXS0tPjxhIGhyZWY9XCIjXCJcclxuc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiM1NTYyNzA7YmFja2dyb3VuZC1pbWFnZTp1cmwoJHtBdHRyaWJ1dGVzLmltZ1NyY30pO2JvcmRlcjoxcHggc29saWQgIzFlMzY1MDtib3JkZXItcmFkaXVzOjRweDtjb2xvcjojZmZmZmZmO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Zm9udC1zaXplOjEzcHg7Zm9udC13ZWlnaHQ6Ym9sZDtsaW5lLWhlaWdodDoke3RkSGVpZ2h0fXB4O3RleHQtYWxpZ246Y2VudGVyO3RleHQtZGVjb3JhdGlvbjpub25lO3dpZHRoOiR7dGRXaWR0aH1weDstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6bm9uZTttc28taGlkZTphbGw7XCI+U2hvdyBtZSB0aGUgYnV0dG9uITwvYT48L2Rpdj5gO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgICF2bWxCdXR0b25TdHI7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SIGluIGdldFZtbEJ1dHRvbkJsb2NrOiB2bWxCdXR0b25TdHIgZG9lcyBub3QgZXhpc3Q6IGlkIGlzOicgKyBpZCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZtbEJ1dHRvblN0cjtcclxuICAgIH1cclxuICAgIC8vICFWQSBFTkQgVEQgT1BUSU9OUyBNUy1DT05ESVRJT05BTCBDT0RFIEJMT0NLU1xyXG5cclxuICAgIC8vICFWQSBJTkRFTlQgRlVOQ1RJT05TXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBOT1RFOiBUaGlzIHJvdXRpbmUgaWRlbnRpZmllcyBpZiB0aGUgbm9kZXMgMSkgY29udGFpbiB0aGUgaWQgJ3N0YWNrLWNvbHVtbi1jZW50ZXInIDIpIGNvbnRhaW4gTVMgY29uZGl0aW9uYWwgY29kZSBhbmQgMikgY29udGFpbiBhbiBBIHRhZy4gSXQgYXBwbGllcyBpbmRlbnRzIGFjY29yZGluZ2x5IHRvIHRoZSBub2RlcyB1c2luZyBpbnNlcnRBZGphY2VudEhUTUwuIDEpIElzIHByb2JsZW1hdGljIGJlY2F1c2UgaWYgdGhhdCBjbGFzcyBuYW1lIGlzIG5vdCBwcmVzZW50IGluIHRoZSBIVE1MIGZpbGUsIHRoZSBpbmRlbnQgd2lsbCBicmVhay4gSSBjb3VsZG4ndCBmaWd1cmUgb3V0IGEgd2F5IHRvIGRvIHRoaXMgd2l0aG91dCB0aGUgaWQgYnkgbG9va2luZyBmb3Igc2libGluZyBub2Rlcywgc28gdHJ5aW5nIHRvIGNyZWF0ZSBvcHRpb25zIGZvciB0aHJlZSBvciBldmVuIHR3byBjb2x1bW4gdGFibGVzIHdpbGwgYmUgcmlkaWN1bG91cyB0aW1lLWNvbnN1bWluZyAtIG5vdCBhbiBvcHRpb24gZm9yIG5vdy5cclxuICAgIGZ1bmN0aW9uIGFwcGx5SW5kZW50cyggaWQsIHVTZWxzLCBvdXRwdXROTCApIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ2FwcGx5SW5kZW50cyBydW5uaW5nJyk7XHJcbiAgICAgIC8vICFWQSBDcmVhdGUgYXJyYXkgdG8gc3RvcmUgaW5kZW50IHN0cmluZ3NcclxuICAgICAgbGV0IGluZGVudHMgPSBbXTtcclxuICAgICAgLy8gIVZBIENyZWF0ZSBhcnJheSB0byBzdG9yZSB0aGUgcG9zaXRpb25zIG9mIHRoZSBzdGFja2FibGUgY29sdW1ucyBpbiB0aGUgcG9zc3dpdGNoIG9wdGlvbi5cclxuICAgICAgbGV0IHN0YWNrQ29sdW1uUG9zID0gW107XHJcbiAgICAgIC8vICFWQSBWYXJpYWJsZSB0byBob2xkIHRoZSBpbmRlbnRMZXZlbCBvZiB0aGUgc2Vjb25kIHBvc3N3aXRjaCBjb2x1bW4gdGhhdCB0aGUgZmlyc3QgcG9zc3dpdGNoIGNvbHVtbiB3aWxsIHN0YWNrIG92ZXIuXHJcbiAgICAgIGxldCBzdGFja0NvbHVtbkluZGVudExldmVsO1xyXG4gICAgICAvLyAhVkEgRmxhZyBmb3Igd2hldGhlciB0byBpbnNlcnQgdGhlIHRva2VucyB1c2VkIHRvIGluc2VydCB0aGUgTVMgY29uZGl0aW9uYWwgY29kZSBibG9ja3MgYWZ0ZXIgY29udmVydGluZyB0aGUgb3V0cHV0IG5vZGUgbGlzdCB0byB0ZXh0LlxyXG4gICAgICBsZXQgaGFzTVNDb25kaXRpb25hbDtcclxuICAgICAgaWYgKCB1U2Vscy5zZWxlY3RlZFJhZGlvID09PSAnaW1nc3dhcCcgfHwgdVNlbHMuc2VsZWN0ZWRSYWRpbyA9PT0gJ2JnaW1hZ2UnIHx8IHVTZWxzLnNlbGVjdGVkUmFkaW8gPT09ICd2bWxidXR0b24nKSB7XHJcbiAgICAgICAgaGFzTVNDb25kaXRpb25hbCA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvdXRwdXROTC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICFWQSBHZXQgdGhlIGluZGVudCBzdHJpbmdzIGludG8gdGhlIGluZGVudHMgYXJyYXlcclxuICAgICAgICBpbmRlbnRzLnB1c2goZ2V0SW5kZW50KGkpKTtcclxuICAgICAgICAvLyAhVkEgUHVzaCB0aGUgcG9zaXRpb25zIG9mIHRoZSBzdGFja2FibGUgcG9zc3dpdGNoIGNvbHVtbnMgb250byB0aGUgc3RhY2tDb2x1bW5Qb3MgYXJyYXkgXHJcbiAgICAgICAgaWYgKCBvdXRwdXROTFtpXS5jbGFzc05hbWUgPT09ICdzdGFjay1jb2x1bW4tY2VudGVyJykge1xyXG4gICAgICAgICAgc3RhY2tDb2x1bW5Qb3MucHVzaChpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEFwcGx5IGV4Y2VwdGlvbiBpbmRlbnRzIHRvIHRoZSBBIGFuZCBJTUcgbm9kZXMuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0TkwubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAhVkEgSWYgcGFyZW50IG9mIHRoZSBJTUcgbm9kZSBpcyBhIEEsIHRoZW4gZG9uJ3QgYXBwbHkgaW5kZW50cyBiZWNhdXNlIHdlIHdhbnQgdGhlIElNRyB0YWcgdG8gYmUgbmVzdGVkIHdpdGhpbiB0aGUgQSB3aXRoIG5vIGluZGVudHNcclxuICAgICAgICBpZiAob3V0cHV0TkxbaV0ubm9kZU5hbWUgPT09ICdJTUcnICYmIG91dHB1dE5MW2ldLnBhcmVudE5vZGUubm9kZU5hbWUgPT09ICdBJykge1xyXG4gICAgICAgICAgLy8gQXBwbHkgbm8gaW5kZW50IHRvIHRoZSBJTUcgdGFnIGlmIHRoZSBJbmNsdWRlIGFuY2hvciBvcHRpb24gaXMgY2hlY2tlZFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICggb3V0cHV0TkxbaV0ubm9kZU5hbWUgPT09ICdBJykge1xyXG4gICAgICAgICAgLy8gIVZBIElmIG5vZGVMaXN0IGl0ZW0gMSBpcyB0aGUgYW5jaG9yLCB0aGVuIEluY2x1ZGUgYW5jaG9yIGlzIGNoZWNrZWQuIEFwcGx5IHRoZSBpbmRlbnQgdG8gdGhlIEEgYnV0IGRvbid0IGFwcGx5IGFueSBhZnRlcmJlZ2luIG9yIGJlZm9yZWVuZCBpbmRlbnQsIGJlY2F1c2UgdGhhdCB3b3VsZCBhZmZlY3QgdGhlIGNoaWxkIGltZyBlbGVtZW50LlxyXG4gICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGdldEluZGVudChpKSk7XHJcbiAgICAgICAgICBvdXRwdXROTFtpXS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgJ1xcbicpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAvLyAhVkEgSGVyZSB3ZSBhcHBseSB0aGUgJ3JlZ3VsYXInIGluZGVudHMuXHJcbiAgICAgICAgICAvLyAhVkEgSWYgc3RhY2tDb2x1bW5Qb3MgaXMgZW1wdHksIHRoZW4gdGhlICdiYXNpYycgb3IgJ2V4Y2x1ZGV0ZCcgdGQgb3B0aW9uIGlzIHNlbGVjdGVkLiBBcHBseSByZWd1bGFyIGluZGVudHMgdG8gYWxsIG5vZGVzLlxyXG4gICAgICAgICAgaWYgKHN0YWNrQ29sdW1uUG9zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyAhVkEgSWYgdGhlIG5vZGUgaXMgdGhlIGxhc3QgaW5kZXggaW4gb3V0cHV0TkwgQU5EIHRoZSBvcHRpb24gJ2ltZ3N3YXAnLCAnYmdpbWFnZScgb3IgJ3ZtbGJ1dHRvbicgaXMgc2VsZWN0ZWQsIHRoZW4gbW9kaWZ5IHRoZSBpbmRlbnQgdG8gaW5jbHVkZSB0aGUgdG9rZW4gZm9yIGluc2VydGluZyB0aGUgTVMgY29uZGl0aW9uYWwgY29kZSBhZnRlciBvdXRwdXROTCBpcyBjb252ZXJ0ZWQgdG8gdGV4dC5cclxuICAgICAgICAgICAgaWYgKCBpID09PSBvdXRwdXROTC5sZW5ndGggLSAxICYmIGhhc01TQ29uZGl0aW9uYWwgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICBvdXRwdXROTFtpXS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgZ2V0SW5kZW50KGkpKTtcclxuICAgICAgICAgICAgICBvdXRwdXROTFtpXS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCAnL3JlcGxhY2VzdGFydC8nKTsgXHJcbiAgICAgICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCAnL3JlcGxhY2VlbmQvJyArIGdldEluZGVudChpKSk7XHJcbiAgICAgICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmVuZCcsICdcXG4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyAhVkEgT3RoZXJ3aXNlLCBhcHBseSB0aGUgJ25vcm1hbCcgaW5kZW50c1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCAnXFxuJyk7XHJcbiAgICAgICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGdldEluZGVudChpKSk7XHJcbiAgICAgICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgJ1xcbicpO1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgZ2V0SW5kZW50KGkpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBJZiB0aGUgbm9kZSBpbmRleCBpcyBsZXNzIHRoYW4gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdGFja2luZyBjb2x1bW5cclxuICAgICAgICAgICAgaWYgKCBpIDwgc3RhY2tDb2x1bW5Qb3NbMV0gKSB7XHJcbiAgICAgICAgICAgICAgLy8gIVZBIEFwcGx5IHRoZSAncmVndWxhcicgaW5kZW50IHNjaGVtZSB0byBhbGwgbm9kZXMgdXAgdG8gdGhlIHNlY29uZCBzdGFja2luZyBjb2x1bW5cclxuICAgICAgICAgICAgICBvdXRwdXROTFtpXS5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgJ1xcbicpO1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCBnZXRJbmRlbnQoaSkpO1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsICdcXG4nKTtcclxuICAgICAgICAgICAgICBvdXRwdXROTFtpXS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGdldEluZGVudChpKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gIVZBIFRoZSBpbmRlbnQgbGV2ZWwgb2YgdGhlIHNlY29uZCBzdGFja2luZyBjb2x1bW4gc2hvdWxkIGJlIHRoZSBzYW1lIGFzIHRoZSBmaXJzdCBzdGFja2luZyBjb2x1bW4sIHdoaWNoIGlzIGVxdWFsIHRvIHRoZSBpdGVyYXRvciBtaW51cyB0aGUgaW5kZXggb2YgdGhlIHNlY29uZCBzdGFja2luZyBjb2x1bW4gbWludXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBzdGFja2luZyBjb2x1bW4uIFNvLCBmb3IgdGhlIG1ha2VUZCBidXR0b24sICBpID0gMTAsIHN0YWNrQ29sdW1uUG9zWzFdID0gMTAsIHN0YWNrQ29sdW1uUG9zWzBdID0gNiwgc28gdGhlIHN0YWNrQ29sdW1uSW5kZW50TGV2ZWwgaXMgNC5cclxuICAgICAgICAgICAgICBzdGFja0NvbHVtbkluZGVudExldmVsID0gKGkgLSAoc3RhY2tDb2x1bW5Qb3NbMV0gLSBzdGFja0NvbHVtblBvc1swXSkpO1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCAnXFxuJyk7XHJcbiAgICAgICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmViZWdpbicsIGdldEluZGVudChzdGFja0NvbHVtbkluZGVudExldmVsKSk7XHJcbiAgICAgICAgICAgICAgb3V0cHV0TkxbaV0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgJ1xcbicpO1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgZ2V0SW5kZW50KHN0YWNrQ29sdW1uSW5kZW50TGV2ZWwpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAhVkEgV2Ugc3RpbGwgbmVlZCB0byBhZGQgc29tZSBpbmRpY2F0b3IgY29udGVudCB0byB0aGUgdGVybWluYXRpbmcgVEQgaW4gdGhpcyBub2RlTGlzdCAtLSBwdXR0aW5nIGl0IGluIHRoZSBtYWtlUG9zU3dpdGNoTm9kZSBmdW5jdGlvbiBpdHNlbGYgd291bGQgbWFrZSBpdCBpbXBvc3NpYmxlIHRvIGluZGVudCBwcm9wZXJseSB3aXRob3V0IHNvbWUgY3JlYXRpdmUgY29kaW5nIHRoYXQncyBiZXlvbmQgbXkgYWJpbGl0eS4gU28uIHdlJ2xsIHB1dCBpdCBoZXJlLCBhZnRlciB0aGUgaW5kZW50IGhhcyBiZWVuIHNocnVuayB0byBiZSBlcXVhbCB0byB0aGUgbmV4dFNpYmxpbmcncyBpbmRlbnQuIEl0IHdpbGwgYWx3YXlzIGJlIGFkZGVkIHRvIHRoZSBsYXN0IG5vZGUgaW4gdGhlIHRyZWUsIGkuZS4gdGhlIG5vZGVMaXN0IGxlbmd0aCAtIDEuXHJcbiAgICAgICAgICAgIGlmICggaSA9PT0gb3V0cHV0TkwubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgIG91dHB1dE5MW2ldLmlubmVySFRNTCA9ICdcXG4nICsgZ2V0SW5kZW50KHN0YWNrQ29sdW1uSW5kZW50TGV2ZWwpICsgJyAgPCEtLSBBREQgWU9VUiBDT05URU5UIEhFUkUgLS0+IFxcbicgKyBnZXRJbmRlbnQoc3RhY2tDb2x1bW5JbmRlbnRMZXZlbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAhb3V0cHV0Tkw7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FwcGx5SW5kZW50czogb3V0cHV0TkwgZG9lcyBub3QgZXhpc3Q6IGlkIGlzOiAnKyBpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG91dHB1dE5MO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgLy8gIVZBIFJldHVybiB0aGUgaW5kZW50IHN0cmluZyBiYXNlZCBvbiB0aGUgaW5kZW50IGxldmVsIHBhc3NlZCBpblxyXG4gICAgZnVuY3Rpb24gZ2V0SW5kZW50KGluZGVudExldmVsKSB7XHJcbiAgICAgIGxldCBpbmRlbnRDaGFyLCBpbmRlbnQ7XHJcbiAgICAgIGluZGVudENoYXIgPSAnICAnO1xyXG4gICAgICAvLyAhVkEgUmVwZWF0IHRoZSBpbmRlbnQgY2hhcmFjdGVyIGluZGVudExldmVsIG51bWJlciBvZiB0aW1lc1xyXG4gICAgICBpbmRlbnQgPSBpbmRlbnRDaGFyLnJlcGVhdChbaW5kZW50TGV2ZWxdKTtcclxuICAgICAgcmV0dXJuIGluZGVudDtcclxuICAgIH1cclxuICAgIC8vICFWQSBFTkQgSU5ERU5UIEZVTkNUVElPTlNcclxuXHJcblxyXG4gICAgLy8gIVZBIENMSVBCT0FSRCBGVU5DVElPTlNcclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gd3JpdGVDbGlwYm9hcmQoaWQsIHN0cikge1xyXG4gICAgICBjb25zb2xlLmxvZygnd3JpdGVDbGlwYm9hcmQgcnVubmluZycpO1xyXG4gICAgICBjb25zb2xlLmxvZygnc3RyOiAnKTtcclxuICAgICAgY29uc29sZS5sb2coc3RyKTtcclxuICAgICAgbGV0IGNsaXBib2FyZFN0cjtcclxuICAgICAgLy8gIVZBIGNsaXBib2FyZFN0ciBpcyByZXR1cm5lZCB0byBjbGlwYm9hcmQuanNcclxuICAgICAgY2xpcGJvYXJkU3RyID0gc3RyO1xyXG4gICAgICAvLyBjbGlwYm9hcmRTdHIgPSB0YWcub3V0ZXJIVE1MO1xyXG4gICAgICB2YXIgY3VycmVudENCID0gbmV3IENsaXBib2FyZEpTKCcjJyArIGlkLCB7XHJcbiAgICAgICAgdGV4dDogZnVuY3Rpb24odHJpZ2dlcikge1xyXG4gICAgICAgICAgLy8gIVZBIFdyaXRlIHN1Y2Nlc3MgbWVzc2FnZSB0byBhcHAgbWVzc2FnZSBhcmVhIG9uIHN1Y2Nlc3NcclxuICAgICAgICAgIC8vICFWQSBUT0RPOiBOZWVkIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBzdWNjZXNzIG1lc3NhZ2VzIGFuZCBhbGVydCBtZXNzYWdlcyBkaXNwbGF5ZWQgaW4gdGhlIG1lc3NhZ2UgYmFyLiBcclxuICAgICAgICAgIGN1cnJlbnRDQi5vbignc3VjY2VzcycsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGFwcENvbnRyb2xsZXIuaGFuZGxlQXBwTWVzc2FnZXMoJ21zZ19jb3BpZWRfMl9DQicpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICBjdXJyZW50Q0Iub24oJ2Vycm9yJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdBY3Rpb246JywgZS5hY3Rpb24pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUcmlnZ2VyOicsIGUudHJpZ2dlcik7XHJcbiAgICAgICAgICAgIC8vICFWQSBUT0RPOiBOZWVkIHRvIG91dHB1dCBhbiBlcnJvciBtZXNzYWdlIHRvIG1lc3NhZ2UgYmFyIGlmIHRoZSBjbGlwYm9hcmQgb3BlcmF0aW9uIGZhaWxzIGhlcmUuXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIC8vICFWQSBSZXR1cm4gdGhlIGNsaXBib2FyZCBzdHJpbmcgdG8gY2xpcGJvYXJkLmpzIHRvIHBhc3RlIGl0IHRvIHRoZSBjbGlwYm9hcmRcclxuICAgICAgICAgIHJldHVybiBjbGlwYm9hcmRTdHI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgTmV3IENTUyBSVWxlIG91dHB1dCBmdW5jdGlvbmFsaXR5IDAyLjIwLjIwXHJcbiAgICAvLyAhVkEgQ0JDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uICBtYWtlQ3NzUnVsZSggaWQsIGNsYXNzbmFtZSwgd3ZhbCwgaHZhbCApIHtcclxuICAgICAgbGV0IEF0dHJpYnV0ZXMgPSBbXTtcclxuICAgICAgQXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXMoKTtcclxuICAgICAgbGV0IEFwcGRhdGEgPSBbXTtcclxuICAgICAgQXBwZGF0YSA9IGFwcENvbnRyb2xsZXIuaW5pdEdldEFwcGRhdGEoKTtcclxuICAgICAgbGV0IGNsaXBib2FyZFN0cjtcclxuICAgICAgLy8gIVZBIFRPRE86IGlzRXJyIGlzIHBhc3NlZCB0byBDbGlwYm9hcmQgb2JqZWN0IHRvIGluZGljYXRlIHdoZXRoZXIgdG8gZmxhc2ggdGhlIHN1Y2Nlc3MgbWVzc2FnZSBvciBhbiBhbGVydCBtZXNzYWdlXHJcbiAgICAgIC8vIGxldCBpc0VycjtcclxuICAgICAgLy8gaXNFcnIgPSBmYWxzZTtcclxuICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgY2FzZSAoaWQuaW5jbHVkZXMoJ2ltZy1kc2t0cCcpKTpcclxuICAgICAgICAvLyBhcmdzWzBdID0gQXR0cmlidXRlcy5pbWdDbGFzcywgYXJnc1sxXSA9IEF0dHJpYnV0ZXMuaW1nV2lkdGgsIGFyZ3NbMl0gPSBBdHRyaWJ1dGVzLmltZ0hlaWdodDtcclxuICAgICAgICBjbGlwYm9hcmRTdHIgPSBgaW1nLiR7QXR0cmlidXRlcy5pbWdDbGFzc30geyB3aWR0aDogJHtBcHBkYXRhLmltZ1d9cHggIWltcG9ydGFudDsgaGVpZ2h0OiAke0FwcGRhdGEuaW1nSH1weCAhaW1wb3J0YW50OyB9YDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAoaWQuaW5jbHVkZXMoJ2ltZy1zbXBobicpKTpcclxuICAgICAgICBjbGlwYm9hcmRTdHIgPSBgaW1nLiR7QXR0cmlidXRlcy5pbWdDbGFzc30geyB3aWR0aDogJHtBcHBkYXRhLnNQaG9uZXNXfXB4ICFpbXBvcnRhbnQ7IGhlaWdodDogJHtBcHBkYXRhLnNQaG9uZXNIfXB4ICFpbXBvcnRhbnQ7IH1gO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIChpZC5pbmNsdWRlcygnaW1nLWxncGhuJykpOlxyXG4gICAgICAgIGNsaXBib2FyZFN0ciA9IGBpbWcuJHtBdHRyaWJ1dGVzLmltZ0NsYXNzfSB7IHdpZHRoOiAke0FwcGRhdGEubFBob25lc1d9cHggIWltcG9ydGFudDsgaGVpZ2h0OiAke0FwcGRhdGEubFBob25lc0h9cHggIWltcG9ydGFudDsgfWA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgKGlkLmluY2x1ZGVzKCd0ZC1kc2t0cCcpIHx8IGlkLmluY2x1ZGVzKCd0ZC1zbXBobicpIHx8IGlkLmluY2x1ZGVzKCd0ZC1sZ3BobicpKSA6XHJcbiAgICAgICAgaWYgKCBBdHRyaWJ1dGVzLnRkSGVpZ2h0KSB7XHJcbiAgICAgICAgICBjbGlwYm9hcmRTdHIgPSBgdGQuJHtBdHRyaWJ1dGVzLnRkQ2xhc3N9IHsgaGVpZ2h0OiAke0F0dHJpYnV0ZXMudGRIZWlnaHR9cHggIWltcG9ydGFudDsgfWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNsaXBib2FyZFN0ciA9IGB0ZC4ke0F0dHJpYnV0ZXMudGRDbGFzc30geyAgfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIChpZC5pbmNsdWRlcygndGFibGUtZHNrdHAnKSk6XHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gYHRhYmxlLiR7QXR0cmlidXRlcy50YWJsZUNsYXNzfSB7IHdpZHRoOiAke0F0dHJpYnV0ZXMudGFibGVXaWR0aH1weCAhaW1wb3J0YW50OyBhbGlnbjogJHtBdHRyaWJ1dGVzLnRhYmxlQWxpZ259ICFpbXBvcnRhbnQ7IH1gO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIChpZC5pbmNsdWRlcygndGFibGUtc21waG4nKSk6XHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gYHRhYmxlLiR7QXR0cmlidXRlcy50YWJsZUNsYXNzfSB7IHdpZHRoOiAke0FwcGRhdGEuc1Bob25lc1d9cHggIWltcG9ydGFudDsgYWxpZ246ICR7QXR0cmlidXRlcy50YWJsZUFsaWdufSAhaW1wb3J0YW50OyB9YDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAoaWQuaW5jbHVkZXMoJ3RhYmxlLWxncGhuJykpOlxyXG4gICAgICAgIGNsaXBib2FyZFN0ciA9IGB0YWJsZS4ke0F0dHJpYnV0ZXMudGFibGVDbGFzc30geyB3aWR0aDogJHtBcHBkYXRhLmxQaG9uZXNXfXB4ICFpbXBvcnRhbnQ7IGFsaWduOiAke0F0dHJpYnV0ZXMudGFibGVBbGlnbn0gIWltcG9ydGFudDsgfWA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SIGluIG1ha2VDc3NSdWxlOiBjYXNlIG5vdCcpO1xyXG4gICAgICB9IFxyXG4gICAgICAvLyAhVkEgSWYgdGhlIGlucHV0IGluY2x1ZGVzIGEgcGVyY2VudCBjaGFyLCByZW1vdmUgdGhlIGhhcmQtY29kZWQgdHJhaWxpbmcgcHggb24gdGhlIHZhbHVlIGFuZCBqdXN0IG91dHB1dCB0aGUgdmFsdWUgd2l0aCB0aGUgdXNlci1lbnRlcmVkIHBlcmNlbnQgY2hhci5cclxuICAgICAgY2xpcGJvYXJkU3RyLmluY2x1ZGVzKCclJykgID8gY2xpcGJvYXJkU3RyID0gY2xpcGJvYXJkU3RyLnJlcGxhY2UoJyVweCcsICclJykgOiBjbGlwYm9hcmRTdHI7XHJcbiAgICAgIC8vICFWQSBXcml0ZSBDU1MgY29kZSB0byBjbGlwYm9hcmRcclxuICAgICAgd3JpdGVDbGlwYm9hcmQoaWQsIGNsaXBib2FyZFN0cik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlSW5zcGVjdG9yQ2xpY2tzKHRhcmdldGlkLCBtb2RpZmllcktleSkge1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ2hhbmRsZUluc3BlY3RvckNsaWNrcyBydW5uaW5nJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCd0YXJnZXRpZCBpczogJyArIHRhcmdldGlkKTtcclxuICAgICAgbGV0IEFwcGRhdGEsIGNsaXBib2FyZFN0ciwgd2lkdGh2YWwsIGhlaWdodHZhbDtcclxuXHJcbiAgICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGFyZ2V0aWQpO1xyXG4gICAgICBlbC5vbm1vdXNlb3ZlciA9IGlzT3ZlcigpO1xyXG4gICAgICBjb25zb2xlLmxvZygnZWwnKTtcclxuICAgICAgY29uc29sZS5sb2coZWwpO1xyXG4gICAgICBcclxuICAgICAgZnVuY3Rpb24gaXNPdmVyKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpc092ZXIgcnVubmluZycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB3aWR0aHZhbCA9IGhlaWdodHZhbCA9ICcnO1xyXG4gICAgICAvLyAhVkEgR2V0IEFwcGRhdGFcclxuICAgICAgQXBwZGF0YSA9IGFwcENvbnRyb2xsZXIuaW5pdEdldEFwcGRhdGEoZmFsc2UpO1xyXG4gICAgICAvLyAhVkEgR2V0IHRoZSB2YWx1ZSB0byBvdXRwdXQgdG8gQ2xpcGJvYXJkIGJhc2VkIG9uIHdoZXRoZXIgc2hpZnQgb3IgY3RybCBpcyBwcmVzc2VkXHJcbiAgICAgIGZ1bmN0aW9uIGdldFZhbCggd2lkdGh2YWwsIGhlaWdodHZhbCwgbW9kaWZpZXJLZXkgKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ21vZGlmaWVyS2V5IGlzOiAnICsgbW9kaWZpZXJLZXkpO1xyXG4gICAgICAgIGxldCBzdHIxLCBzdHIyLCB2YWw7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3dpZHRodmFsICBpczogJyArIHdpZHRodmFsICk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2hlaWdodHZhbCBpczogJyArIGhlaWdodHZhbCk7XHJcbiAgICAgICAgaWYgKCAhd2lkdGh2YWwgfHwgIWhlaWdodHZhbCApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIGEgdmFsdWUgY2xpY2snKTtcclxuICAgICAgICAgIHdpZHRodmFsID8gc3RyMSA9ICd3aWR0aCcgOiBzdHIxID0gJ2hlaWdodCc7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnc3RyMSBpczogJyArIHN0cjEpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICB3aWR0aHZhbCA/IHZhbCA9IHdpZHRodmFsIDogdmFsID0gaGVpZ2h0dmFsOyBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCd2YWwgaXM6ICcgKyB2YWwpO1xyXG4gICAgICAgICAgaWYgKCBtb2RpZmllcktleSA9PT0gJ3NoaWZ0Jykge1xyXG4gICAgICAgICAgICBjbGlwYm9hcmRTdHIgPSBzdHIxICsgJz1cIicgKyB2YWwgKyAnXCIgJztcclxuICAgICAgICAgIH0gZWxzZSBpZiAoIG1vZGlmaWVyS2V5ID09PSAnY3RybCcpIHtcclxuICAgICAgICAgICAgY2xpcGJvYXJkU3RyID0gc3RyMSArICc6ICcgKyB2YWwgKyAncHg7ICc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbGlwYm9hcmRTdHIgPSB2YWw7XHJcbiAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgaXMgYSBsYWJlbCBjbGljaycpO1xyXG4gICAgICAgICAgc3RyMSA9ICd3aWR0aCc7XHJcbiAgICAgICAgICBzdHIyID0gJ2hlaWdodCc7XHJcbiAgICAgICAgICBpZiAoIG1vZGlmaWVyS2V5ID09PSAnc2hpZnQnKSB7XHJcbiAgICAgICAgICAgIGNsaXBib2FyZFN0ciA9IHN0cjEgKyAnPVwiJyArIHdpZHRodmFsICsgJ1wiICcgKyBzdHIyICsgJz0nICsgaGVpZ2h0dmFsICsgJyAnO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICggbW9kaWZpZXJLZXkgPT09ICdjdHJsJykge1xyXG4gICAgICAgICAgICBjbGlwYm9hcmRTdHIgPSBzdHIxICsgJzogJyArIHdpZHRodmFsICsgJ3B4OyAnICsgc3RyMiArICc6ICcgKyBoZWlnaHR2YWwgKyAncHg7ICc7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbGlwYm9hcmRTdHIgPSB3aWR0aHZhbCArICcgWCAnICsgaGVpZ2h0dmFsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2xpcGJvYXJkU3RyO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBHZXQgdGhlIEFwcGRhdGEgdmFsdWUgZm9yIHRoZSBjbGlja2VkIEluc3BlY3RvciBlbGVtZW50IGFuZCBnZXQgdGhlIENsaXBib2FyZCBzdHJpbmcgYmFzZWQgb24gd2hldGhlciBzaGlmIG9yIGN0cmwgaXMgcHJlc3NlZCBcclxuICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgLy8gIVZBIEluc3BlY3RvciBMYWJlbCBjbGlja2VkXHJcbiAgICAgIGNhc2UgdGFyZ2V0aWQgPT09ICdpbnMtZGlzcGxheS1zaXplLWxhYmVsJzpcclxuICAgICAgICB3aWR0aHZhbCA9IEFwcGRhdGEuaW1nVztcclxuICAgICAgICBoZWlnaHR2YWwgPSBBcHBkYXRhLmltZ0g7XHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gZ2V0VmFsKCB3aWR0aHZhbCwgaGVpZ2h0dmFsLCBtb2RpZmllcktleSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgdGFyZ2V0aWQgPT09ICdpbnMtc21hbGwtcGhvbmVzLWxhYmVsJzpcclxuICAgICAgICB3aWR0aHZhbCA9IEFwcGRhdGEuc1Bob25lc1c7XHJcbiAgICAgICAgaGVpZ2h0dmFsID0gQXBwZGF0YS5zUGhvbmVzSDtcclxuICAgICAgICBjbGlwYm9hcmRTdHIgPSBnZXRWYWwoIHdpZHRodmFsLCBoZWlnaHR2YWwsIG1vZGlmaWVyS2V5KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSB0YXJnZXRpZCA9PT0gJ2lucy1sYXJnZS1waG9uZXMtbGFiZWwnOlxyXG4gICAgICAgIHdpZHRodmFsID0gQXBwZGF0YS5sUGhvbmVzVztcclxuICAgICAgICBoZWlnaHR2YWwgPSBBcHBkYXRhLmxQaG9uZXNIO1xyXG4gICAgICAgIGNsaXBib2FyZFN0ciA9IGdldFZhbCggd2lkdGh2YWwsIGhlaWdodHZhbCwgbW9kaWZpZXJLZXkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAvLyAhVkEgSW5zcGVjdG9yIFZhbHVlIGNsaWNrZWRcclxuICAgICAgY2FzZSB0YXJnZXRpZCA9PT0gJ2lucy1kaXNwbGF5LXNpemUtd2lkdGgtdmFsdWUnOlxyXG4gICAgICAgIHdpZHRodmFsID0gQXBwZGF0YS5pbWdXO1xyXG4gICAgICAgIGNsaXBib2FyZFN0ciA9IGdldFZhbCggd2lkdGh2YWwsIGhlaWdodHZhbCwgbW9kaWZpZXJLZXkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIHRhcmdldGlkID09PSAnaW5zLWRpc3BsYXktc2l6ZS1oZWlnaHQtdmFsdWUnOlxyXG4gICAgICAgIGhlaWdodHZhbCA9IEFwcGRhdGEuaW1nSDtcclxuICAgICAgICBjbGlwYm9hcmRTdHIgPSBnZXRWYWwoIHdpZHRodmFsLCBoZWlnaHR2YWwsIG1vZGlmaWVyS2V5KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSB0YXJnZXRpZCA9PT0gJ2lucy1zbWFsbC1waG9uZXMtd2lkdGgtdmFsdWUnOlxyXG4gICAgICAgIHdpZHRodmFsID0gQXBwZGF0YS5zUGhvbmVzVztcclxuICAgICAgICBjbGlwYm9hcmRTdHIgPSBnZXRWYWwoIHdpZHRodmFsLCBoZWlnaHR2YWwsIG1vZGlmaWVyS2V5KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSB0YXJnZXRpZCA9PT0gJ2lucy1zbWFsbC1waG9uZXMtaGVpZ2h0LXZhbHVlJzpcclxuICAgICAgICBoZWlnaHR2YWwgPSBBcHBkYXRhLnNQaG9uZXNIO1xyXG4gICAgICAgIGNsaXBib2FyZFN0ciA9IGdldFZhbCggd2lkdGh2YWwsIGhlaWdodHZhbCwgbW9kaWZpZXJLZXkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIHRhcmdldGlkID09PSAnaW5zLWxhcmdlLXBob25lcy13aWR0aC12YWx1ZSc6XHJcbiAgICAgICAgd2lkdGh2YWwgPSBBcHBkYXRhLmxQaG9uZXNXO1xyXG4gICAgICAgIGNsaXBib2FyZFN0ciA9IGdldFZhbCggd2lkdGh2YWwsIGhlaWdodHZhbCwgbW9kaWZpZXJLZXkpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIHRhcmdldGlkID09PSAnaW5zLWxhcmdlLXBob25lcy1oZWlnaHQtdmFsdWUnOlxyXG4gICAgICAgIGhlaWdodHZhbCA9IEFwcGRhdGEubFBob25lc0g7XHJcbiAgICAgICAgY2xpcGJvYXJkU3RyID0gZ2V0VmFsKCB3aWR0aHZhbCwgaGVpZ2h0dmFsLCBtb2RpZmllcktleSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgLy8gY29kZSBibG9ja1xyXG4gICAgICB9IFxyXG4gICAgICB3cml0ZUNsaXBib2FyZCh0YXJnZXRpZCwgY2xpcGJvYXJkU3RyKTtcclxuICAgIH1cclxuICAgIC8vICFWQSBFTkQgQ0xJUEJPQVJEIEZVTkNUSU9OU1xyXG5cclxuICAgIC8vICFWQSBDQkNvbnRyb2xsZXIgcHVibGljIGZ1bmN0aW9ucyBcclxuICAgIHJldHVybiB7XHJcblxyXG4gICAgICAvLyAhVkEgQ2FsbGVkIGZyb20gZXZlbnRIYW5kbGVyIHRvIGluaXRpYWxpemUgY2xpcGJvYXJkIGZ1bmN0aW9uYWxpdHlcclxuICAgICAgZG9DbGlwYm9hcmQ6IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdkb0NsaXBib2FyZCBydW5uaW5nJyk7XHJcbiAgICAgICAgbGV0IHRhcmdldGlkLCBtb2RpZmllcktleTtcclxuICAgICAgICB0YXJnZXRpZCA9IGV2dC50YXJnZXQuaWQ7XHJcbiAgICAgICAgLy8gIVZBIERldGVybWluZWQgaWYgc2hpZnQgb3IgY3RybCBpcyBwcmVzc2VkIHdoaWxlIGNsaWNrZWRcclxuICAgICAgICBpZiAoZXZ0LnNoaWZ0S2V5KSB7IFxyXG4gICAgICAgICAgbW9kaWZpZXJLZXkgPSAnc2hpZnQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LmN0cmxLZXkgKSB7XHJcbiAgICAgICAgICBtb2RpZmllcktleSA9ICdjdHJsJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbW9kaWZpZXJLZXkgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIVZBIERldGVybWluZSB3aGljaCBlbGVtZW50IGlzIGNsaWNrZWQgLS0gbWFrZVRhZyBidXR0b24sIG1ha2VDU1NSdWxlIGJ1dHRvbiBvciBJbnNwZWN0b3IgZWxlbWVudCBhbmQgcnVuIGdldFVzZXJTZWxlY3Rpb25zLCBtYWtlQ1NTUnVsZSBvciBoYW5kbGVJbnNwZWN0b3JDbGlja3MgcmVzcGVjdGl2ZWx5LlxyXG4gICAgICAgIHN3aXRjaCh0cnVlKSB7XHJcbiAgICAgICAgY2FzZSB0YXJnZXRpZC5pbmNsdWRlcygndGFnJykgOlxyXG4gICAgICAgICAgZ2V0VXNlclNlbGVjdGlvbnModGFyZ2V0aWQpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSB0YXJnZXRpZC5pbmNsdWRlcygnY3NzJykgOlxyXG4gICAgICAgICAgbWFrZUNzc1J1bGUodGFyZ2V0aWQpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSB0YXJnZXRpZC5pbmNsdWRlcygnaW5zJykgOlxyXG4gICAgICAgICAgaGFuZGxlSW5zcGVjdG9yQ2xpY2tzKHRhcmdldGlkLCBtb2RpZmllcktleSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgLy8gY29kZSBibG9ja1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgcmV0dXJuIHRhcmdldGlkO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8gIVZBIFRlc3QgZnVuY3Rpb25cclxuICAgICAgcnVuVGVzdDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3J1blRlc3QgcnVubmluZycpO1xyXG5cclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9KSgpO1xyXG5cclxuICAvLyBHTE9CQUwgQVBQIE1PRFVMRVxyXG4gIHZhciBhcHBDb250cm9sbGVyID0gKGZ1bmN0aW9uKENCQ3RybCwgVUlDdHJsKSB7XHJcblxyXG4gICAgLy8gIVZBIEdldHRpbmcgRE9NIElEIHN0cmluZ3MgZnJvbSBVSUNvbnRyb2xsZXJcclxuICAgIGNvbnN0IGluc3BlY3RvckVsZW1lbnRzID0gVUlDdHJsLmdldEluc3BlY3RvckVsZW1lbnRJRHMoKTtcclxuICAgIGNvbnN0IGluc3BlY3RvclZhbHVlcyA9IFVJQ3RybC5nZXRJbnNwZWN0b3JWYWx1ZXNJRHMoKTtcclxuICAgIGNvbnN0IGluc3BlY3RvckxhYmVscyA9IFVJQ3RybC5nZXRJbnNwZWN0b3JMYWJlbHNJRHMoKTtcclxuICAgIGNvbnN0IGR5bmFtaWNSZWdpb25zID0gVUlDdHJsLmdldER5bmFtaWNSZWdpb25JRHMoKTtcclxuICAgIGNvbnN0IHN0YXRpY1JlZ2lvbnMgPSBVSUN0cmwuZ2V0U3RhdGljUmVnaW9uSURzKCk7XHJcbiAgICBjb25zdCB0b29sYmFyRWxlbWVudHMgPSBVSUN0cmwuZ2V0VG9vbEJ1dHRvbklEcygpO1xyXG4gICAgY29uc3QgY2NwVXNlcklucHV0ID0gVUlDdHJsLmdldENjcFVzZXJJbnB1dElEcygpO1xyXG4gICAgY29uc3QgY2NwVXNlcklucHV0TGFiZWxzID0gVUlDdHJsLmdldENjcFVzZXJJbnB1dExhYmVsSWRzKCk7XHJcbiAgICBjb25zdCBidG5DY3BNYWtlQ2xpcHMgPSAgVUlDdHJsLmdldEJ0bkNjcE1ha2VDbGlwcygpO1xyXG4gICAgY29uc3QgYXBwTWVzc2FnZUVsZW1lbnRzID0gIFVJQ3RybC5nZXRBcHBNZXNzYWdlRWxlbWVudHMoKTtcclxuICAgIFxyXG4gICAgLy9FVkVOVCBIQU5ETElORyBTVEFSVCBcclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBCcmFuY2g6IGltcGxlbWVudE1vZGlmaWVyVG9vbHRpcHMgKDA1MTgyMClcclxuICAgIC8vICFWQSBDcmVhdGluZyBhIHNlcGFyYXRlIEV2ZW50TGlzdGVuZXIgc2V0dXAgZnVuY3Rpb24gc3BlY2lmaWNhbGx5IGZvciB0b29sdGlwcywgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgcnVuIG9uIERPTUNvbnRlbnRMb2FkZWQgaW4gYW4gaWlmZSBldmVyeSB0aW1lIHRoZSBDVFJMICsgQUxUIGtleSBjb21iaW5hdGlvbiBpcyBwcmVzc2VkLiBUaGUgb25Nb2RpZmllcktleXByZXNzIGZ1bmN0aW9uIHNob3VsZCBsaXZlIGluIGFwcENvbnRyb2xsZXIsIEkgdGhpbmsuIFRoZSB0b29sdGlwcyB0aGVtc2VsdmVzIGNhbiBiZSBkaXNwbGF5ZWQgZWl0aGVyIHRocm91Z2ggVUlDb250cm9sbGVyLnNob3dBcHBNZXNzYWdlcyBvciBhIG5ldywgc2VwYXJhdGUgVUlDb250cm9sbGVyIHB1YmxpYyBmdW5jdGlvbi5cclxuICAgIC8vICFWQSBQcm9jZXNzIHRoZSB0b29sdGlwIHRyaWdnZXJzIHdoZW4gdGhlIG1vdXNlZW50ZXIgZXZlbnQgaXMgZmlyZWQgb24gdGhlbSwgaS5lLiBnZXQgdGhlIGFwcE1lc3NDb2RlLCBhcHBNZXNzQ29udGVudCBhbmQgZHVyYXRpb24gYW5kIHBhc3MgdG8gc2hvd1Rvb2x0aXBcclxuXHJcbiAgICAvLyAhVkEgSU1QT1JUQU5UOiBhZGRFdmVudExpc3RlbmVycyBhbmQgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgcmVxdWlyZSBhIE5BTUVEIGZ1bmN0aW9uLCBub3QganVzdCBhIGZ1bmN0aW9uIGRlZmluaXRpb24uIElmIHlvdSBqdXN0IHVzZSBhIGZ1bmN0aW9uIGRlZmluaXRpb24sIHlvdSBjYW4gY3JlYXRlIHRoZSBldmVudExpc3RlbmVyIGJ1dCB5b3UgY2FuJ3QgcmVtb3ZlIGl0IGJlY2F1c2UgSmF2YXNjcmlwdCBkb2Vzbid0IGtub3cgd2hpY2ggb25lIHlvdSB3YW50IHRvIHJlbW92ZS4gV29yc2UsIGl0IGZhaWxzIHNpbGVudGx5LiBTbyBhbHdheXMgbmFtZSB5b3VyIGZ1bmN0aW9uIGNhbGxzIGludG8gYSB2YXIgd2hlbiBhZGRpbmcvcmVtb3ZpbmcgZXZlbnQgbGlzdGVuZXJzIVxyXG4gICAgLy8gIVZBIE5PVEU6IHZhcmlhYmxlIG5hbWUgY2FuJ3QgYmUgdGhlIHNhbWUgYXMgdGhlIGZ1bmN0aW9uIG5hbWUuIE90aGVyd2lzZSwgeW91IGNhbiBhZGQgYW5kIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgb25seSBPTkNFLCBidXQgbm90IG11bHRpcGxlIHRpbWVzLlxyXG4gICAgdmFyIHRvb2x0aXBUcmlnZ2VycyA9IGZ1bmN0aW9uIHRvb2x0aXBUcmlnZ2VycyhldnQpIHsgXHJcbiAgICAgIC8vICFWQSBOYW1lZCBmdW5jdGlvbiB0byBpbmNsdWRlIGFzIGZ1bmN0aW9uIHBhcmFtZXRlciBpbiB0b29sdGlwIGV2ZW50IGhhbmRsZXJzLiBJTVBPUlRBTlQ6IGFub255bW91cyBmdW5jdGlvbnMgY2FuJ3QgYmUgcmVtb3ZlZCB3aXRoIHJlbW92ZUV2ZW50TGlzdGVuZXIuIFRoYXQncyB3aHkgaXQgaGFzIHRvIGJlIG5hbWVkLiBUaGlzIGlzIGp1c3QgYSBwYXNzLXRocnUgdG8gZ2V0IHRvIGFwcENvbnRyb2xsZXIuaGFuZGxlQXBwTWVzc2FnZXMuXHJcbiAgICAgIGFwcENvbnRyb2xsZXIuaGFuZGxlQXBwTWVzc2FnZXMoZXZ0KTtcclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAvLyAhVkEgQUREIEVWRU5UIExJU1RFTkVSUyBGT1IgVE9PTFRJUCBUUklHR0VSU1xyXG4gICAgZnVuY3Rpb24gYWRkVG9vbHRpcEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnYWRkVG9vbHRpcEV2ZW50TGlzdGVuZXJzIHJ1bm5pbmcnKTtcclxuICAgICAgLy8gIVZBIEV2ZW50IGhhbmRsZXIgZm9yIGluaXRpYWxpemluZyB0b29sdGlwIGV2ZW50IGxpc3RlbmVycyBcclxuICAgICAgZnVuY3Rpb24gYWRkRXZlbnRIYW5kbGVyKG9Ob2RlLCBldnQsIG9GdW5jLCBiQ2FwdHVyZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnb05vZGUgaXM6Jyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob05vZGUpO1xyXG4gICAgICAgIG9Ob2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBvRnVuYywgYkNhcHR1cmVzKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgaW5pdGlhbGl6ZSB0aGUgdG9vbGJhciB0b29sdGlwIHRyaWdnZXJzXHJcbiAgICAgIHZhciB0b29sYmFySWRzID0gT2JqZWN0LnZhbHVlcyh0b29sYmFyRWxlbWVudHMpO1xyXG4gICAgICBsZXQgZWw7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbGJhcklkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b29sYmFySWRzW2ldIGlzOiAnICsgIHRvb2xiYXJJZHNbaV0pO1xyXG4gICAgICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFySWRzW2ldKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlbCk7XHJcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKGVsLCAnbW91c2VlbnRlcicsIHRvb2x0aXBUcmlnZ2VycywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEFkZCB0b29sdGlwIHRyaWdnZXJzIGZvciBJbnNwZWN0b3IgbGFiZWxzXHJcbiAgICAgIHZhciBpbnNwZWN0b3JMYWJlbElkcyA9IE9iamVjdC52YWx1ZXMoaW5zcGVjdG9yTGFiZWxzKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnNwZWN0b3JMYWJlbElkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b29sYmFySWRzW2ldIGlzOiAnICsgIHRvb2xiYXJJZHNbaV0pO1xyXG4gICAgICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNwZWN0b3JMYWJlbElkc1tpXSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZWwpO1xyXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcihlbCwgJ21vdXNlZW50ZXInLCB0b29sdGlwVHJpZ2dlcnMsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBBZGQgdG9vbHRpcCB0cmlnZ2VycyBmb3IgSW5zcGVjdG9yIFZhbHVlICBlbGVtZW50c1xyXG4gICAgICB2YXIgaW5zcGVjdG9yVmFsdWVJZHMgPSBPYmplY3QudmFsdWVzKGluc3BlY3RvclZhbHVlcyk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zcGVjdG9yVmFsdWVJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndG9vbGJhcklkc1tpXSBpczogJyArICB0b29sYmFySWRzW2ldKTtcclxuICAgICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yVmFsdWVJZHNbaV0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVsKTtcclxuICAgICAgICBhZGRFdmVudEhhbmRsZXIoZWwsICdtb3VzZWVudGVyJywgdG9vbHRpcFRyaWdnZXJzLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgQWRkIHRvb2x0aXAgdHJpZ2dlcnMgZm9yIENDUCB1c2VyIGlucHV0IGVsZW1lbnRzXHJcbiAgICAgIC8vICFWQSBUbyBnZXQgdGhlIHRvb2x0aXAgdGFyZ2V0cywgd2UgbmVlZCBib3RoIHRoZSBpbnB1dCBlbGVtZW50IGFuZCBpdHMgbGFiZWwgYmVjYXVzZSB0aGUgdXNlciB3aWxsIHByb2JhYmx5IGNsaWNrIG9uIHRoZSBsYWJlbC4gV2UgbWlnaHQgbm90IGV2ZW4gbmVlZCB0aGUgY2NwVXNlcklucHV0IGVsZW1lbnQgaXRzZWxmIGJ1dCByYXRoZXIgb25seSB0aGUgbGFiZWwsIGJ1dCBmb3Igbm93IHdlJ2xsIHVzZSBib3RoLiBXZSBjb3VsZCBsb29wIHRocm91Z2ggdGhlIHBhcmVudCBESVYgb2YgdGhlIGlucHV0IGVsZW1lbnQgYW5kIGFkZCB0aGUgZXZlbnRIYW5kbGVyIHRoYXQgd2F5LCBidXQgdGhlbiB3ZSBjYW4ndCByZW1vdmUgdGhlIGlucHV0IGVsZW1lbnQgaWYgd2UgZGVjaWRlIHdlIGRvbid0IG5lZWQgdGhlIHRvb2x0aXAgb24gaXQsIHNvIHdlJ2xsIGRvIHRoZW0gc2VwYXJhdGVseS5cclxuICAgICAgdmFyIGNjcFVzZXJJbnB1dElkcyA9IE9iamVjdC52YWx1ZXMoY2NwVXNlcklucHV0KTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjY3BVc2VySW5wdXRJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0SWRzW2ldKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlbCk7XHJcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKGVsLCAnbW91c2VlbnRlcicsIHRvb2x0aXBUcmlnZ2VycywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEFkZCB0b29sdGlwIHRyaWdnZXJzIGZvciBDQ1AgdXNlciBpbnB1dCBsYWJlbCBlbGVtZW50c1xyXG4gICAgICAvLyAhVkEgQWxsIHRoZSBsYWJlbHMgaGF2ZSB0aGUgc2FtZSBpZCBhcyB0aGUgaW5wdXRzIHdpdGggLWxhYmVsIGFwcGVuZGVkIGV4Y2VwdCB0aGUgbW9jayBjaGVja2JveGVzLCB3aG9zZSBsYWJlbCBoYXMgbm8gdGV4dCBhbmQgb25seSBzZXJ2ZXMgdG8gc3R5bGUgdGhlIG1vY2sgY2hlY2tib3guIFNvIGZvciB0aGUgbW9jayBjaGVja2JveGVzLCB0cmFuc2Zvcm0gdGhlIGlkIGludG8gdGhlIGlkIG9mIHRoZSBhY3R1YWwgdGV4dCBsYWJlbCBieSByZW1vdmluZyB0aGUgc3BuLSBwcmVmaXggYW5kIHJlcGxhY2luZyAnY2hlY2ttcmsnIHdpdGggJ2xhYmVsJy5cclxuICAgICAgbGV0IGxhYmVsaWQsIGxhYmVsZWw7XHJcbiAgICAgIC8vICFWQSBMb29wIHRocm91Z2ggdGhlIENDUCB1c2VyIGlucHV0IGVsZW1lbnQgaWRzXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2NwVXNlcklucHV0SWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGFiZWxpZCA9IGNjcFVzZXJJbnB1dElkc1tpXTtcclxuICAgICAgICAvLyAhVkEgSWYgdGhlIGxhYmVsIGNvbnRhaW5zICdjaGVja21yaycuLi5cclxuICAgICAgICBpZiAobGFiZWxpZC5pbmNsdWRlcygnY2hlY2ttcmsnKSkge1xyXG4gICAgICAgICAgLy8gIVZBIFJlbW92ZSB0aGUgc3BuIHByZWZpeFxyXG4gICAgICAgICAgbGFiZWxpZCA9IGxhYmVsaWQucmVwbGFjZSgvc3BuLS9nLCAnJyk7XHJcbiAgICAgICAgICAvLyAhVkEgUmVwbGFjZSBjaGVja21yayB3aXRoIGxhYmVsXHJcbiAgICAgICAgICBsYWJlbGlkID0gbGFiZWxpZC5yZXBsYWNlKC9jaGVja21yay9nLCAnbGFiZWwnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gIVZBIElmIGl0J3Mgbm90IGEgY2hlY2ttYXJrLCBqdXN0IGFwcGVuZCAtbGFiZWwgdG8gdGhlIGlkIHRvIGdldCB0aGUgbGFiZWwgaWRcclxuICAgICAgICAgIGxhYmVsaWQgPSBsYWJlbGlkICsgJy1sYWJlbCc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICFWQSBnZXQgdGhlIGVsZW1lbnQgd2l0aCB0aGUgbGFiZWxpZFxyXG4gICAgICAgIGxhYmVsZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxhYmVsaWQpO1xyXG4gICAgICAgIC8vICFWQSBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoIGxhYmVsIGVsZW1lbnRcclxuICAgICAgICBhZGRFdmVudEhhbmRsZXIobGFiZWxlbCwgJ21vdXNlZW50ZXInLCB0b29sdGlwVHJpZ2dlcnMsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBBZGQgdG9vbHRpcCB0YXJnZXRzIHRvIHRoZSBNYWtlIENsaXAgYnV0dG9ucyAtIGJvdGggdGhlIE1ha2UgSFRNTCBhbmQgTWFrZSBDU1MgYnV0dG9uc1xyXG4gICAgICB2YXIgYnRuQ2NwTWFrZUNsaXBJZHMgPSBPYmplY3QudmFsdWVzKGJ0bkNjcE1ha2VDbGlwcyk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnRuQ2NwTWFrZUNsaXBJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuQ2NwTWFrZUNsaXBJZHNbaV0pO1xyXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcihlbCwgJ21vdXNlZW50ZXInLCB0b29sdGlwVHJpZ2dlcnMsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlVG9vbHRpcEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAvLyAhVkEgRXZlbnQgaGFuZGxlciBmb3IgaW5pdGlhbGl6aW5nIHRvb2x0aXAgZXZlbnQgbGlzdGVuZXJzIFxyXG4gICAgICBjb25zb2xlLmxvZygncmVtb3ZlVG9vbHRpcEV2ZW50TGlzdGVuZXJzIHJ1bm5pbmcnKTtcclxuICAgICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnRIYW5kbGVyKG9Ob2RlLCBldnQsIG9GdW5jLCBiQ2FwdHVyZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnb05vZGUgaXM6Jyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob05vZGUpO1xyXG4gICAgICAgIG9Ob2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCBvRnVuYywgYkNhcHR1cmVzKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgaW5pdGlhbGl6ZSB0aGUgdG9vbGJhciB0b29sdGlwIHRyaWdnZXJzXHJcbiAgICAgIHZhciB0b29sYmFySWRzID0gT2JqZWN0LnZhbHVlcyh0b29sYmFyRWxlbWVudHMpO1xyXG4gICAgICBsZXQgZWw7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9vbGJhcklkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCd0b29sYmFySWRzW2ldIGlzOiAnICsgIHRvb2xiYXJJZHNbaV0pO1xyXG4gICAgICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFySWRzW2ldKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlbCk7XHJcblxyXG4gICAgICAgIHJlbW92ZUV2ZW50SGFuZGxlcihlbCwgJ21vdXNlZW50ZXInLCB0b29sdGlwVHJpZ2dlcnMsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBBZGQgdG9vbHRpcCB0cmlnZ2VycyBmb3IgSW5zcGVjdG9yIGxhYmVsc1xyXG4gICAgICB2YXIgaW5zcGVjdG9yTGFiZWxJZHMgPSBPYmplY3QudmFsdWVzKGluc3BlY3RvckxhYmVscyk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zcGVjdG9yTGFiZWxJZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygndG9vbGJhcklkc1tpXSBpczogJyArICB0b29sYmFySWRzW2ldKTtcclxuICAgICAgICBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaW5zcGVjdG9yTGFiZWxJZHNbaV0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGVsKTtcclxuICAgICAgICByZW1vdmVFdmVudEhhbmRsZXIoZWwsICdtb3VzZWVudGVyJywgdG9vbHRpcFRyaWdnZXJzLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgQWRkIHRvb2x0aXAgdHJpZ2dlcnMgZm9yIEluc3BlY3RvciBWYWx1ZSAgZWxlbWVudHNcclxuICAgICAgdmFyIGluc3BlY3RvclZhbHVlSWRzID0gT2JqZWN0LnZhbHVlcyhpbnNwZWN0b3JWYWx1ZXMpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluc3BlY3RvclZhbHVlSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rvb2xiYXJJZHNbaV0gaXM6ICcgKyAgdG9vbGJhcklkc1tpXSk7XHJcbiAgICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvclZhbHVlSWRzW2ldKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhlbCk7XHJcbiAgICAgICAgcmVtb3ZlRXZlbnRIYW5kbGVyKGVsLCAnbW91c2VlbnRlcicsIHRvb2x0aXBUcmlnZ2VycywgdHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEFkZCB0b29sdGlwIHRyaWdnZXJzIGZvciBDQ1AgdXNlciBpbnB1dCBlbGVtZW50c1xyXG4gICAgICAvLyAhVkEgVG8gZ2V0IHRoZSB0b29sdGlwIHRhcmdldHMsIHdlIG5lZWQgYm90aCB0aGUgaW5wdXQgZWxlbWVudCBhbmQgaXRzIGxhYmVsIGJlY2F1c2UgdGhlIHVzZXIgd2lsbCBwcm9iYWJseSBjbGljayBvbiB0aGUgbGFiZWwuIFdlIG1pZ2h0IG5vdCBldmVuIG5lZWQgdGhlIGNjcFVzZXJJbnB1dCBlbGVtZW50IGl0c2VsZiBidXQgcmF0aGVyIG9ubHkgdGhlIGxhYmVsLCBidXQgZm9yIG5vdyB3ZSdsbCB1c2UgYm90aC4gV2UgY291bGQgbG9vcCB0aHJvdWdoIHRoZSBwYXJlbnQgRElWIG9mIHRoZSBpbnB1dCBlbGVtZW50IGFuZCBhZGQgdGhlIGV2ZW50SGFuZGxlciB0aGF0IHdheSwgYnV0IHRoZW4gd2UgY2FuJ3QgcmVtb3ZlIHRoZSBpbnB1dCBlbGVtZW50IGlmIHdlIGRlY2lkZSB3ZSBkb24ndCBuZWVkIHRoZSB0b29sdGlwIG9uIGl0LCBzbyB3ZSdsbCBkbyB0aGVtIHNlcGFyYXRlbHkuXHJcbiAgICAgIHZhciBjY3BVc2VySW5wdXRJZHMgPSBPYmplY3QudmFsdWVzKGNjcFVzZXJJbnB1dCk7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2NwVXNlcklucHV0SWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dElkc1tpXSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coZWwpO1xyXG4gICAgICAgIHJlbW92ZUV2ZW50SGFuZGxlcihlbCwgJ21vdXNlZW50ZXInLCB0b29sdGlwVHJpZ2dlcnMsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBBZGQgdG9vbHRpcCB0cmlnZ2VycyBmb3IgQ0NQIHVzZXIgaW5wdXQgbGFiZWwgZWxlbWVudHNcclxuICAgICAgLy8gIVZBIEFsbCB0aGUgbGFiZWxzIGhhdmUgdGhlIHNhbWUgaWQgYXMgdGhlIGlucHV0cyB3aXRoIC1sYWJlbCBhcHBlbmRlZCBleGNlcHQgdGhlIG1vY2sgY2hlY2tib3hlcywgd2hvc2UgbGFiZWwgaGFzIG5vIHRleHQgYW5kIG9ubHkgc2VydmVzIHRvIHN0eWxlIHRoZSBtb2NrIGNoZWNrYm94LiBTbyBmb3IgdGhlIG1vY2sgY2hlY2tib3hlcywgdHJhbnNmb3JtIHRoZSBpZCBpbnRvIHRoZSBpZCBvZiB0aGUgYWN0dWFsIHRleHQgbGFiZWwgYnkgcmVtb3ZpbmcgdGhlIHNwbi0gcHJlZml4IGFuZCByZXBsYWNpbmcgJ2NoZWNrbXJrJyB3aXRoICdsYWJlbCcuXHJcbiAgICAgIGxldCBsYWJlbGlkLCBsYWJlbGVsO1xyXG4gICAgICAvLyAhVkEgTG9vcCB0aHJvdWdoIHRoZSBDQ1AgdXNlciBpbnB1dCBlbGVtZW50IGlkc1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNjcFVzZXJJbnB1dElkcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxhYmVsaWQgPSBjY3BVc2VySW5wdXRJZHNbaV07XHJcbiAgICAgICAgLy8gIVZBIElmIHRoZSBsYWJlbCBjb250YWlucyAnY2hlY2ttcmsnLi4uXHJcbiAgICAgICAgaWYgKGxhYmVsaWQuaW5jbHVkZXMoJ2NoZWNrbXJrJykpIHtcclxuICAgICAgICAgIC8vICFWQSBSZW1vdmUgdGhlIHNwbiBwcmVmaXhcclxuICAgICAgICAgIGxhYmVsaWQgPSBsYWJlbGlkLnJlcGxhY2UoL3Nwbi0vZywgJycpO1xyXG4gICAgICAgICAgLy8gIVZBIFJlcGxhY2UgY2hlY2ttcmsgd2l0aCBsYWJlbFxyXG4gICAgICAgICAgbGFiZWxpZCA9IGxhYmVsaWQucmVwbGFjZSgvY2hlY2ttcmsvZywgJ2xhYmVsJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vICFWQSBJZiBpdCdzIG5vdCBhIGNoZWNrbWFyaywganVzdCBhcHBlbmQgLWxhYmVsIHRvIHRoZSBpZCB0byBnZXQgdGhlIGxhYmVsIGlkXHJcbiAgICAgICAgICBsYWJlbGlkID0gbGFiZWxpZCArICctbGFiZWwnO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgZ2V0IHRoZSBlbGVtZW50IHdpdGggdGhlIGxhYmVsaWRcclxuICAgICAgICBsYWJlbGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihsYWJlbGlkKTtcclxuICAgICAgICAvLyAhVkEgQWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aCBsYWJlbCBlbGVtZW50XHJcbiAgICAgICAgcmVtb3ZlRXZlbnRIYW5kbGVyKGxhYmVsZWwsICdtb3VzZWVudGVyJywgdG9vbHRpcFRyaWdnZXJzLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgQWRkIHRvb2x0aXAgdGFyZ2V0cyB0byB0aGUgTWFrZSBDbGlwIGJ1dHRvbnMgLSBib3RoIHRoZSBNYWtlIEhUTUwgYW5kIE1ha2UgQ1NTIGJ1dHRvbnNcclxuICAgICAgdmFyIGJ0bkNjcE1ha2VDbGlwSWRzID0gT2JqZWN0LnZhbHVlcyhidG5DY3BNYWtlQ2xpcHMpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ0bkNjcE1ha2VDbGlwSWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0bkNjcE1ha2VDbGlwSWRzW2ldKTtcclxuICAgICAgICByZW1vdmVFdmVudEhhbmRsZXIoZWwsICdtb3VzZWVudGVyJywgdG9vbHRpcFRyaWdnZXJzLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIHZhciBzZXR1cEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAvL0RSQUcgQU5EIERST1AgUFJPQ0VTU0lORyBTVEFSVFxyXG4gICAgICAvLyBFdmVudCBMaXN0ZW5lcnMgZm9yIERyYWcgYW5kIERyb3BcclxuICAgICAgLy8gIVZBIGRyb3BBcmVhIGlzIHRoZSBzY3JlZW4gcmVnaW9uIHRoYXQgd2lsbCBhY2NlcHQgdGhlIGRyb3AgZXZlbnQgXHJcbiAgICAgIHZhciBkcm9wQXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuYXBwQ29udGFpbmVyKTtcclxuICAgICAgZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBoYW5kbGVEcmFnT3ZlciwgZmFsc2UpO1xyXG4gICAgXHJcbiAgICAgIC8vICFWQSBJbml0aWF0ZXMgdGhlIEZpbGVSZWFkZXIgZnVuY3Rpb24gdG8gZ2V0IHRoZSBkcm9wcGVkIGltYWdlIGRhdGFcclxuICAgICAgZHJvcEFyZWEuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGhhbmRsZUZpbGVTZWxlY3QsIGZhbHNlKTtcclxuICAgICAgLy8gRHJhZyBhbmQgRHJvcCBMaXN0ZW5lciBcclxuICAgICAgLy9EUkFHIEFORCBEUk9QIFBST0NFU1NJTkcgRU5EXHJcblxyXG4gICAgICAvLyAhVkEgQWRkIHRoZSBjbGljayBldmVudCBsaXN0ZW5lciBmb3IgY3JlYXRpbmcgdGhlIGlzb2xhdGUgcG9wdXBcclxuICAgICAgdmFyIHJ1bklzb2xhdGVBcHAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0YXRpY1JlZ2lvbnMuaGRySXNvbGF0ZUFwcCk7XHJcbiAgICAgIHJ1bklzb2xhdGVBcHAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpc29sYXRlQXBwLCBmYWxzZSk7XHJcblxyXG4gICAgICAvLyAhVkEgRXZlbnQgaGFuZGxlciBmb3IgaW5pdGlhbGl6aW5nIGV2ZW50IGxpc3RlbmVycyBcclxuICAgICAgZnVuY3Rpb24gYWRkRXZlbnRIYW5kbGVyKG9Ob2RlLCBldnQsIG9GdW5jLCBiQ2FwdHVyZXMpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnb05vZGUgaXM6Jyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cob05vZGUpO1xyXG4gICAgICAgIG9Ob2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBvRnVuYywgYkNhcHR1cmVzKTtcclxuICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgICAvLyAhVkEgQWRkIGNsaWNrIGFuZCBibHVyIGV2ZW50IGhhbmRsZXJzIGZvciBjbGlja2FibGUgdG9vbGJhckVsZW1lbnRzIFxyXG4gICAgICBjb25zdCB0YkNsaWNrYWJsZXMgPSBbIHRvb2xiYXJFbGVtZW50cy5idG5UYnJJbmNyNTAsIHRvb2xiYXJFbGVtZW50cy5idG5UYnJJbmNyMTAsIHRvb2xiYXJFbGVtZW50cy5idG5UYnJJbmNyMDEsIHRvb2xiYXJFbGVtZW50cy5idG5UYnJEZWNyNTAsIHRvb2xiYXJFbGVtZW50cy5idG5UYnJEZWNyMTAsIHRvb2xiYXJFbGVtZW50cy5idG5UYnJEZWNyMDEgIF07XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGJDbGlja2FibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gIVZBIGNvbnZlcnQgdGhlIElEIHN0cmluZyB0byB0aGUgb2JqZWN0IGluc2lkZSB0aGUgbG9vcFxyXG4gICAgICAgIHRiQ2xpY2thYmxlc1tpXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGJDbGlja2FibGVzW2ldKTtcclxuICAgICAgICBhZGRFdmVudEhhbmRsZXIodGJDbGlja2FibGVzW2ldLCdjbGljaycsaGFuZGxlTW91c2VFdmVudHMsZmFsc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAhVkEgQWRkIG9uZm9jdXMgZXZlbnQgaGFuZGxlcnMgZ2xvYmFsbHkgZm9yIGlucHV0IGVsZW1lbnRzIFxyXG4gICAgICBjb25zdCB0YkZvY3VzSW5wdXRzID0gWyB0b29sYmFyRWxlbWVudHMuaXB0VGJyVmlld2VyVywgdG9vbGJhckVsZW1lbnRzLmlwdFRiclNQaG9uZXNXaWR0aCwgdG9vbGJhckVsZW1lbnRzLmlwdFRickxQaG9uZXNXaWR0aCAgXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YkZvY3VzSW5wdXRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gIVZBIGNvbnZlcnQgdGhlIElEIHN0cmluZyB0byB0aGUgb2JqZWN0IGluc2lkZSB0aGUgbG9vcFxyXG4gICAgICAgIHRiRm9jdXNJbnB1dHNbaV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRiRm9jdXNJbnB1dHNbaV0pO1xyXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcih0YkZvY3VzSW5wdXRzW2ldLCdjbGljaycsaGFuZGxlT25mb2N1cyxmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vICFWQSBBZGQgZXZlbnQgaGFuZGxlcnMgZm9yIGlucHV0IHRvb2xiYXJFbGVtZW50c1xyXG4gICAgICBjb25zdCB0YktleXByZXNzZXMgPSBbIHRvb2xiYXJFbGVtZW50cy5pcHRUYnJWaWV3ZXJXLCB0b29sYmFyRWxlbWVudHMuaXB0VGJySW1nV2lkdGgsIHRvb2xiYXJFbGVtZW50cy5pcHRUYnJJbWdIZWlnaHQsIHRvb2xiYXJFbGVtZW50cy5pcHRUYnJTUGhvbmVzV2lkdGgsIHRvb2xiYXJFbGVtZW50cy5pcHRUYnJMUGhvbmVzV2lkdGggXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YktleXByZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAhVkEgY29udmVydCB0aGUgSUQgc3RyaW5nIHRvIHRoZSBvYmplY3QgaW5zaWRlIHRoZSBsb29wXHJcbiAgICAgICAgdGJLZXlwcmVzc2VzW2ldID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YktleXByZXNzZXNbaV0pO1xyXG4gICAgICAgIC8vICFWQSBIYW5kbGVzIGFsbCBrZXkgZXZlbnRzIGV4Y2VwdCBUQUIsIHdoaWNoIHJlcXVpcmUga2V5RG93biB0byBnZXQgdGhlIHZhbHVlIG9mIHRoZSBjdXJyZW50IGlucHV0IHJhdGhlciB0aGFuIHRoZSBpbnB1dCBiZWluZyB0YWJiZWQgdG8uXHJcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKCh0YktleXByZXNzZXNbaV0pLCdrZXlkb3duJyxoYW5kbGVLZXlkb3duLGZhbHNlKTtcclxuICAgICAgICBhZGRFdmVudEhhbmRsZXIoKHRiS2V5cHJlc3Nlc1tpXSksJ2tleXVwJyxoYW5kbGVLZXl1cCxmYWxzZSk7XHJcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKCh0YktleXByZXNzZXNbaV0pLCdmb2N1cycsaGFuZGxlRm9jdXMsZmFsc2UpO1xyXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcigodGJLZXlwcmVzc2VzW2ldKSwnYmx1cicsaGFuZGxlQmx1cixmYWxzZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vICFWQSBBZGQgY2xpY2sgZXZlbnQgaGFuZGxlcnMgZm9yIEluc3BlY3RvciBjbGlja2FibGUgZWxlbWVudHM6IERpc3BsYXkgU2l6ZSwgU21hbGwgUGhvbmVzIGFuZCBMYXJnZSBQaG9uZXMgdmFsdWVzIGluIHRoZSBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZWQgU1BBTiB0YWdzXHJcbiAgICAgIGNvbnN0IGluc3BlY3RvckNsaWNrYWJsZXMgPSBbIGluc3BlY3RvckxhYmVscy5pbnNEaXNwbGF5U2l6ZUxhYmVsLCBpbnNwZWN0b3JMYWJlbHMuaW5zU21hbGxQaG9uZXNMYWJlbCwgaW5zcGVjdG9yTGFiZWxzLmluc0xhcmdlUGhvbmVzTGFiZWwsIGluc3BlY3RvclZhbHVlcy5pbnNEaXNwbGF5U2l6ZVdpZHRoVmFsdWUsIGluc3BlY3RvclZhbHVlcy5pbnNEaXNwbGF5U2l6ZUhlaWdodFZhbHVlLCBpbnNwZWN0b3JWYWx1ZXMuaW5zU21hbGxQaG9uZXNXaWR0aFZhbHVlLCBpbnNwZWN0b3JWYWx1ZXMuaW5zU21hbGxQaG9uZXNIZWlnaHRWYWx1ZSwgaW5zcGVjdG9yVmFsdWVzLmluc0xhcmdlUGhvbmVzV2lkdGhWYWx1ZSwgaW5zcGVjdG9yVmFsdWVzLmluc0xhcmdlUGhvbmVzSGVpZ2h0VmFsdWUgXTtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ2luc3BlY3RvckNsaWNrYWJsZXMgaXM6ICcgKyBpbnNwZWN0b3JDbGlja2FibGVzKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnNwZWN0b3JDbGlja2FibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gIVZBIGNvbnZlcnQgdGhlIElEIHN0cmluZyB0byB0aGUgb2JqZWN0IGluc2lkZSB0aGUgbG9vcFxyXG4gICAgICAgIGluc3BlY3RvckNsaWNrYWJsZXNbaV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvckNsaWNrYWJsZXNbaV0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbnNwZWN0b3JDbGlja2FibGVzW2ldLmlkIGlzOiAnICsgaW5zcGVjdG9yQ2xpY2thYmxlc1tpXS5pZCk7XHJcbiAgICAgICAgLy8gYWRkRXZlbnRIYW5kbGVyKGluc3BlY3RvckNsaWNrYWJsZXNbaV0sJ21vdXNlZW50ZXInLENCQ29udHJvbGxlci5lbnRlcmVkTWUsZmFsc2UpO1xyXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcihpbnNwZWN0b3JDbGlja2FibGVzW2ldLCdjbGljaycsQ0JDb250cm9sbGVyLmRvQ2xpcGJvYXJkLGZhbHNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gIVZBIEFkZCBtb3VzZW92ZXIgZXZlbnQgaGFuZGxlcnMgZm9yIEluc3BlY3RvciBjbGlja2FibGUgZWxlbWVudHM6IERpc3BsYXkgU2l6ZSwgU21hbGwgUGhvbmVzIGFuZCBMYXJnZSBQaG9uZXMgdmFsdWVzIGluIHRoZSBwcm9ncmFtbWF0aWNhbGx5IGNyZWF0ZWQgU1BBTiB0YWdzXHJcbiAgICAgIGNvbnN0IGluc3BlY3RvckhvdmVyYWJsZXMgPSBbIGluc3BlY3RvckxhYmVscy5pbnNEaXNwbGF5U2l6ZUxhYmVsLCBpbnNwZWN0b3JMYWJlbHMuaW5zU21hbGxQaG9uZXNMYWJlbCwgaW5zcGVjdG9yTGFiZWxzLmluc0xhcmdlUGhvbmVzTGFiZWwsIGluc3BlY3RvclZhbHVlcy5pbnNEaXNwbGF5U2l6ZVdpZHRoVmFsdWUsIGluc3BlY3RvclZhbHVlcy5pbnNEaXNwbGF5U2l6ZUhlaWdodFZhbHVlLCBpbnNwZWN0b3JWYWx1ZXMuaW5zU21hbGxQaG9uZXNXaWR0aFZhbHVlLCBpbnNwZWN0b3JWYWx1ZXMuaW5zU21hbGxQaG9uZXNIZWlnaHRWYWx1ZSwgaW5zcGVjdG9yVmFsdWVzLmluc0xhcmdlUGhvbmVzV2lkdGhWYWx1ZSwgaW5zcGVjdG9yVmFsdWVzLmluc0xhcmdlUGhvbmVzSGVpZ2h0VmFsdWUgXTtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ2luc3BlY3RvckNsaWNrYWJsZXMgaXM6ICcgKyBpbnNwZWN0b3JDbGlja2FibGVzKTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnNwZWN0b3JIb3ZlcmFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gIVZBIGNvbnZlcnQgdGhlIElEIHN0cmluZyB0byB0aGUgb2JqZWN0IGluc2lkZSB0aGUgbG9vcFxyXG4gICAgICAgIGluc3BlY3RvckhvdmVyYWJsZXNbaV0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvckhvdmVyYWJsZXNbaV0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbnNwZWN0b3JIb3ZlcmFibGVzW2ldLmlkIGlzOiAnICsgaW5zcGVjdG9ySG92ZXJhYmxlc1tpXS5pZCk7XHJcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKGluc3BlY3RvckhvdmVyYWJsZXNbaV0sJ21vdXNlZW50ZXInLENCQ29udHJvbGxlci5lbnRlcmVkTWUsZmFsc2UpO1xyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gIVZBIEFkZCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGlucHV0IGVsZW1lbnRzIHRoYXQgc2hvdyBtb2JpbGUgQ1NTIGNsaXBib2FyZCBidXR0b25zIGluIHRoZSBDQ1Agd2hlbiBpbnB1dCBpcyBtYWRlLiBUaGVzZSBhcmUgdGhlIGNsYXNzIGlucHV0IGVsZW1lbnRzIGZvciBjY3AgSW1nLCBUZCBhbmQgVGFibGUgb3B0aW9uc1xyXG4gICAgICBjb25zdCBjY3BLZXlwcmVzc2VzID0gWyBjY3BVc2VySW5wdXQuaXB0Q2NwSW1nQ2xhc3MsIGNjcFVzZXJJbnB1dC5pcHRDY3BUZENsYXNzLCBjY3BVc2VySW5wdXQuaXB0Q2NwVGFibGVDbGFzcyBdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNjcEtleXByZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAhVkEgY29udmVydCB0aGUgSUQgc3RyaW5nIHRvIHRoZSBvYmplY3QgaW5zaWRlIHRoZSBsb29wXHJcbiAgICAgICAgY2NwS2V5cHJlc3Nlc1tpXSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwS2V5cHJlc3Nlc1tpXSk7XHJcbiAgICAgICAgYWRkRXZlbnRIYW5kbGVyKChjY3BLZXlwcmVzc2VzW2ldKSwnaW5wdXQnLHNob3dFbGVtZW50T25JbnB1dCxmYWxzZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vICFWQSBBZGQgY2xpY2sgaGFuZGxlcnMgZm9yIEluc3BlY3RvciAtIHRoZXJlJ3Mgb25seSB0aGUgY2xpcGJvYXJkIGJ1dHRvbiBub3cgYnV0IHRoZXJlIGNvdWxkIGJlIG1vcmUuIFxyXG4gICAgICB2YXIgZHZDbGlja2FibGVzID0gWyBpbnNwZWN0b3JFbGVtZW50cy5idG5Ub2dnbGVDY3AgXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkdkNsaWNrYWJsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAhVkEgY29udmVydCB0aGUgSUQgc3RyaW5nIHRvIHRoZSBvYmplY3QgaW5zaWRlIHRoZSBsb29wXHJcbiAgICAgICAgZHZDbGlja2FibGVzW2ldID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkdkNsaWNrYWJsZXNbaV0pO1xyXG4gICAgICAgIGFkZEV2ZW50SGFuZGxlcigoZHZDbGlja2FibGVzW2ldKSwnY2xpY2snLGluaXRDQ1AsZmFsc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAhVkEgV2UgbmVlZCBldmVudExpc3RlbmVycyBmb3IgQUxMIHRoZSBjbGlwYm9hcmQgYnV0dG9ucyBzbyBtYWtlIGFuIGV2ZW50TGlzdGVuZXIgZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGJ0bkNjcE1ha2VDbGlwcyBvYmplY3QuIFdlIG5lZWQgYSBmb3IgaW4gbG9vcCBmb3Igb2JqZWN0c1xyXG4gICAgICBmb3IobGV0IGkgaW4gYnRuQ2NwTWFrZUNsaXBzKSB7XHJcbiAgICAgICAgLy8gIVZBIGxvb3AgdGhyb3VnaCB0aGUgb2JqZWN0IHRoYXQgY29udGFpbiB0aGUgaWQgYW5kIGZ1bmMgcHJvcGVydGllcy5cclxuICAgICAgICBsZXQgY2xpcEJ1dDtcclxuICAgICAgICBpZihidG5DY3BNYWtlQ2xpcHMuaGFzT3duUHJvcGVydHkoaSkpe1xyXG4gICAgICAgICAgY2xpcEJ1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuQ2NwTWFrZUNsaXBzW2ldKTtcclxuICAgICAgICAgIGFkZEV2ZW50SGFuZGxlcihjbGlwQnV0LCdjbGljaycsQ0JDb250cm9sbGVyLmRvQ2xpcGJvYXJkLGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vICFWQSBldmVudExpc3RlbmVycyBmb3IgdGhlIHRkT3B0aW9ucyByYWRpbyBidXR0b25zIGZvciBzaG93aW5nL2hpZGluZyBvcHRpb25zIGJhc2VkIG9uIHNlbGVjdGVkUmFkaW9cclxuICAgICAgZm9yKGxldCBpIGluIGNjcFVzZXJJbnB1dCkge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZFJhZGlvO1xyXG4gICAgICAgIC8vICFWQSBUYXJnZXQgb25seSB0aG9zZSBjY3BVc2VySW5wdXQgZWxlbWVudHMgd2hvc2UgZmlyc3QgNCBjaGFyYWN0ZXJzIGFyZSAjcmRvLiBUaGlzIGlkZW50aWZpZXMgdGhlbSBhcyB0aGUgcmFkaW8gYnV0dG9uIG9wdGlvbnMuXHJcbiAgICAgICAgaWYgKGNjcFVzZXJJbnB1dFtpXS5zdWJzdHJpbmcoMCwgNCkgPT09ICcjcmRvJykge1xyXG4gICAgICAgICAgc2VsZWN0ZWRSYWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0W2ldKTtcclxuICAgICAgICAgIC8vICFWQSBBZGQgYW4gZXZlbnQgaGFuZGxlciB0byB0cmFwIGNsaWNrcyB0byB0aGUgdGRvcHRpb25zIHJhZGlvIGJ1dHRvblxyXG4gICAgICAgICAgYWRkRXZlbnRIYW5kbGVyKHNlbGVjdGVkUmFkaW8sJ2NsaWNrJyxVSUNvbnRyb2xsZXIuZGlzcGxheVRkT3B0aW9ucyxmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAhVkEgTWlzYyBVbnVzZWQgSGFuZGxlcnMgZm9yIHJldmlld1xyXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAvLyAhVkEgVGhpcyB3YXMgbW92ZWQgdG8gaW5pdENDUCBJIHRoaW5rXHJcbiAgICAgIC8vIGFkZEV2ZW50SGFuZGxlcihpbnNwZWN0b3JFbGVtZW50cy5idG5Ub2dnbGVDY3AsJ2NsaWNrJyx0b2dnbGVDQ1AsZmFsc2UpO1xyXG5cclxuICAgICAgLy8gS2V5cHJlc3MgaGFuZGxlcnMgLSBzaG93TW9iaWxlSW1hZ2VCdXR0b25zXHJcbiAgICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgXHJcbiAgICAgIC8vIEtleXByZXNzIGhhbmRsZXJzIC0gTWlzY1xyXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgIC8vIGFkZEV2ZW50SGFuZGxlcihpbnNwZWN0b3JFbGVtZW50cy5idG5Ub2dnbGVDY3AsJ2tleXByZXNzJyx0b2dnbGVDQ1AsZmFsc2UpO1xyXG5cclxuICAgICAgLy8gQmx1ciBoYW5kbGVycyAtIGhhbmRsZUlucHV0Qmx1clxyXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgLy8gYWRkRXZlbnRIYW5kbGVyKGNjcFVzZXJJbnB1dC5pcHRDY3BJbWdDbGFzcywnYmx1cicsc2hvd01vYmlsZUltYWdlQnV0dG9ucyxmYWxzZSk7XHJcbiAgICAgIC8vIGNjcFVzZXJJbnB1dC5pcHRDY3BJbWdBbHQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHNob3dNb2JpbGVJbWFnZUJ1dHRvbnMpO1xyXG4gICAgICAvLyBjY3BVc2VySW5wdXQuaXB0Q2NwSW1nQ2xhc3MuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHNob3dNb2JpbGVJbWFnZUJ1dHRvbnMpO1xyXG4gICAgICAvLyBjY3BVc2VySW5wdXQuaXB0Q2NwSW1nUmVsUGF0aC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgc2hvd01vYmlsZUltYWdlQnV0dG9ucyk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGFuZ2UgaGFuZGxlcnMgLSBoYW5kbGVPbkNoYW5nZVxyXG4gICAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgLy8gYWRkRXZlbnRIYW5kbGVyKGNjcFVzZXJJbnB1dC5pcHRUYnJJbWdXaWR0aCwnY2hhbmdlJyxoYW5kbGVPbkNoYW5nZSxmYWxzZSk7XHJcbiAgICAgIC8vIGFkZEV2ZW50SGFuZGxlcihjY3BVc2VySW5wdXQudGFibGVXaWR0aCwnY2hhbmdlJyxoYW5kbGVPbkNoYW5nZSxmYWxzZSk7XHJcblxyXG4gICAgICAvLyAhVkEgVGhlIGNsb3NpbmcgYnJhY2tldCBiZWxvdyBiZWxvbmdzIHRvIGluaXRpYWxpemVIYW5kbGVycygpLCBzZWUgdGhlIHRvcCBvZiB0aGlzIGZ1bmN0aW9uXHJcbiAgICAgIC8vIH1cclxuICAgICAgLy8gYWRkRXZlbnRIYW5kbGVyKHdpbmRvdywgJ2xvYWQnLCBmdW5jdGlvbihldnQpIHtpbml0aWFsaXplSGFuZGxlcnMoKTsgfSApO1xyXG4gICAgfTtcclxuICAgIC8vICFWQSBFVkVOVCBIQU5ETElORyBFTkRcclxuXHJcbiAgICAvLyAhVkEgRklMRVJFQURFUiBPQkpFQ1QgUFJPQ0VTU0lOR1xyXG4gICAgLy8gYXBwQ29udHJvbGxlciBwcml2YXRlOiBoZnMgLSBGSUxFUkVBREVSIE9CSkVDVCBQUk9DRVNTSU5HXHJcbiAgICAvL0dldCB0aGUgdXNlci1zZWxlY3RlZCBpbWFnZSBmaWxlIG9iamVjdCBcclxuICAgIGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3QoZXZ0KSB7XHJcbiAgICAgIC8vIElmIGEgZmlsZSBpcyBhbHJlYWR5IGJlaW5nIGRpc3BsYXllZCwgaS5lLiBBcHBkYXRhLmZuYW1lIGlzIHRydWUsIHRoZW4gcmVtb3ZlIHRoYXQgaW1hZ2UgdG8gbWFrZSByb29tIGZvciB0aGUgbmV4dCBpbWFnZSBiZWluZyBkcm9wcGVkXHJcbiAgICAgIC8vICFWQSBSZW1vdmUgdGhlIGN1cnJlbnQgI2N1ci1pbWcgZnJvbSB0aGUgRE9NLiBUaGlzIGhhcyB0byBiZSBkb25lIGluIGEgc2VwYXJhdGUgZnVuY3Rpb24gY2FsbCwgSSdtIG5vdCBzdXJlIHdoeSBoYW5kbGVGaWxlU2VsZWN0IGRvZXNuJ3Qgc2VlICNjdXItaW1nIGV2ZW4gdGhvdWdoIGl0IGlzIGluIHRoZSBET00gYXQgdGhpcyBwb2ludFxyXG4gICAgICAvLyAhVkEgUmVtb3ZlIHRoZSBjdXJyZW50IGltYWdlIGlmIG9uZSBleGlzdHMgc28gdGhlIHVzZXIgY2FuIGRyb3AgYW5vdGhlciBvbmUgb3ZlciBpdCBhbmQgcmVib290IHRoZSBwcm9jZXNzIHJhdGhlciB0aGFuIGhhdmluZyB0byByZWZyZXNoIHRoZSBicm93c2VyIGFuZCBkcm9wIGFub3RoZXIgaW1hZ2UuIFRoaXMgd2F5LCBhbGwgdGhlIGN1cnJlbnQgc2V0dGluZ3MgYXJlIG1haW50YWluZWQuIElmIHRoZXkgd2FudCBuZXcgc2V0dGluZ3MgdGhleSBjYW4gcmVmcmVzaCB0aGUgYnJvd3Nlci5cclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1ci1pbWctY29udGFpbmVyJykucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3VyLWltZy1jb250YWluZXInKSk7XHJcbiAgICAgIC8vVGhlIGRyb3AgZXZlbnQgaGFzIGJlZW4gZXhlY3V0ZWQgYW5kIGhhbmRsZUZpbGVTZWxlY3QgaXMgcnVubmluZy5cclxuICAgICAgLy8gIVZBIENhbid0IHJlbWVtYmVyIHdoYXQgdGhpcyBkb2VzIHJ1bm5pbmcgICAgXHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIC8vZGF0YVRyYW5zZmVyIG9iamVjdCBpcyB1c2VkIHRvIGhvbGQgb2JqZWN0IGRhdGEgZHVyaW5nIGEgZHJhZyBvcGVyYXRpb25cclxuICAgICAgdmFyIGZpbGVzID0gZXZ0LmRhdGFUcmFuc2Zlci5maWxlczsgLy8gRmlsZUxpc3Qgb2JqZWN0LlxyXG4gICAgICAvLyBmaWxlcyBpcyBhIEZpbGVMaXN0IG9mIEZpbGUgb2JqZWN0cy4gTGlzdCBzb21lIHByb3BlcnRpZXMuXHJcbiAgICAgIC8vTm90ZSB0aGF0IHRoZSBGaWxlIG9iamVjdHMgYXJlIGJsb2Igb2JqZWN0cyB0aGF0IGluY2x1ZGUgdGhlIHBhcmFtZXRlclxyXG4gICAgICAvLyB0eXBlLCB3aGljaCBpbmRpY2F0ZXMgdGhlIHR5cGUgb2YgZmlsZS4gXHJcbiAgICAgIC8vICFWQSBJIGRvbid0IHRoaW5rIHRoZSBvdXRwdXQgYXJyYXkgaXMgdXNlZCBoZXJlLCBzbyBjb21tZW50aW5nIG91dC5cclxuICAgICAgLy8gdmFyIG91dHB1dCA9IFtdO1xyXG4gICAgICAvLyAhVkEgZ2V0IHRoZSBudW1iZXIgb2YgZmlsZXMgc2VsZWN0ZWRcclxuICAgICAgXHJcbiAgICAgIHZhciBmID0gIGZpbGVzWzBdO1xyXG4gICAgICAvLyAhVkEgdGhpcyBmb3IgbG9vcCB3b3VsZCBiZSB1c2VkIGlmIHdlIHdlcmUgdXNpbmcgdGhlIGVudGlyZSBmaWxlbGlzdCBpbnN0ZWFkIG9mIGp1c3Qgb25lXHJcbiAgICAgIC8vIGEgc2luZ2xlIGRyb3BwZWQgZmlsZVxyXG4gICAgICAvLyBmb3IgKHZhciBpID0gMCwgZjsgZiA9IGZpbGVzW2ldOyBpKyspIHtcclxuICAgICAgLy8gT25seSBwcm9jZXNzIGltYWdlIGZpbGVzLlxyXG4gICAgICAvL1RoaXMgaXMgdGhlIHF1ZXJ5IGZvciBmaWxlIHR5cGUgLS0gaXQgaW5jbHVkZXMgYW55IE1JTUUgdHlwZSB0aGF0IHN0YXJ0cyBcclxuICAgICAgLy93aXRoICdpbWFnZScgd2hpY2ggaXMgYSBodWdlIGxpc3Qgb2YgcG9zc2libGUgZm9ybWF0cyAtLSBzZWUgdGhlIGNvbXBsZXRlXHJcbiAgICAgIC8vbGlzdCBvZiBNSU1FIGZvcm1hdHMuIEJlc3QgdG8gbmFycm93IHRoYXQgZG93biB0byBKUEcsIEdJRiwgUE5HIC0tIG5vdCBzdXJlXHJcbiAgICAgIC8vYWJvdXQgU1ZHIGFuZCBWTUwsIHRoZXkncmUgbm90IGluIHRoZSBiaWcgbGlzdCBvZiBNSU1FIHR5cGVzIEkgZm91bmQgXHJcbiAgICAgIC8vICFWQSBOZWVkIHRvIGhhbmRsZSB0aGlzIGVycm9yXHJcbiAgICAgIGlmICghZi50eXBlLm1hdGNoKCdpbWFnZS4qJykpIHtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gXCJub3RpbWFnZVwiO1xyXG4gICAgICAgIC8vICFWQSBCZWxvdyBpcyB0aGUgZXJyb3IgaGFuZGxlciAtIHNraXBwaW5nIGZvciBub3dcclxuICAgICAgICAvLyB2YXIgaXNFcnIgPSBlcnJvckhhbmRsZXIodGFyZ2V0LCAwLCAwKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgIC8vIENsb3N1cmUgdG8gY2FwdHVyZSB0aGUgZmlsZSBpbmZvcm1hdGlvbi5cclxuICAgICAgcmVhZGVyLm9ubG9hZCA9IChmdW5jdGlvbih0aGVGaWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIC8vIENyZWF0ZSB0aGUgaW1hZ2Ugb2JqZWN0ICAgICAgICBcclxuICAgICAgICAgIHZhciBjdXJJbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgIC8vICFWQSBjcmVhdGUgdGhlIGlkXHJcbiAgICAgICAgICBjdXJJbWcuaWQgPSAnY3VyLWltZyc7XHJcbiAgICAgICAgICAvLyAhVkEgYXNzaWduIHRoZSBibG9iIGluIGUudGFyZ2V0LnJlc3VsdCB0byB0aGUgc291cmNlIG9mIHRoZSBpbWFnZS4gdGhlIG9ubG9hZCBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgdGhlIGJsb2IgaXMgbG9hZGVkIGJlZm9yZSB0aGVcclxuICAgICAgICAgIC8vIGN1ckltZy5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICBjdXJJbWcuc3JjID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgbGV0IGZpbGVOYW1lO1xyXG4gICAgICAgICAgLy8gUmVhZCB0aGUgaW5zRmlsZW5hbWUgb2YgdGhlIEZpbGVSZWFkZXIgb2JqZWN0IGludG8gYSB2YXJpYWJsZSB0byBwYXNzIHRvIHRoZSBnZXRBcHBEYXRhIGZ1bmN0aW9uLCBvdGhlcndpc2UgdGhlIGJsb2IgaGFzIG5vIG5hbWVcclxuICAgICAgICAgIGZpbGVOYW1lID0gdGhlRmlsZS5uYW1lO1xyXG4gICAgICAgICAgLy8gIVZBIFdyaXRlIHRoZSBpbnNGaWxlbmFtZSB0byB0aGUgRE9NIHNvIHdlIGNhbiBhZGQgaXQgbGF0ZXIgdG8gQXBwZGF0YS4gSXQncyBub3QgY29tcGxldGVseSBEUlkgYmVjYXVzZSBpdCdzIGFkZGVkIHRvIHRoZSBET00gaGVyZSBhbmQgbGF0ZXIgdG8gQXBwZGF0YSwgYW5kIHRoZW4gcXVlcmllZCBpbiB0aGUgQ0NQIGZyb20gQXBwZGF0YSwgYnV0IGl0J3MgYmV0dGVyIHRoYW4gaGF2aW5nIHRvIHF1ZXJ5IGl0IGZyb20gdGhlIERPTSBldmVyeSB0aW1lIGl0J3MgdXNlZCBpbiBhIHNlcGFyYXRlIGZ1bmN0aW9uIGNhbGwuIFRoaXMgd2F5LCB3ZSBjYW4gbG9vcCB0aHJvdWdoIEFwcGRhdGEgdG8gZ2V0IGl0IGlmIHdlIG5lZWQgdG8uXHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3BlY3RvckVsZW1lbnRzLmluc0ZpbGVuYW1lKS50ZXh0Q29udGVudCA9IGZpbGVOYW1lO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyAhVkEgSGlkZSB0aGUgZHJvcEFyZWEgLSBub3Qgc3VyZSBpZiB0aGlzIGlzIHRoZSByaWdodCBwbGFjZSBmb3IgdGhpcy5cclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3RhdGljUmVnaW9ucy5kcm9wQXJlYSkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgIC8vICFWQSAgT25jZSB0aGUgY3VycmVudCBpbWFnZSBoYXMgbG9hZGVkLCBpbml0aWFsaXplIHRoZSBkaW5WaWV3ZXJzIGJ5IHF1ZXJ5aW5nIHRoZSBjdXJyZW50IGltYWdlIHByb3BlcnRpZXMgZnJvbSBVSUN0cmwgYW5kIHBhc3NpbmcgdGhlbSB0byB3cml0ZUluc3BlY3RvcnMuXHJcbiAgICAgICAgICBmdW5jdGlvbiBpbml0SW5zcGVjdG9ycygpIHsgXHJcbiAgICAgICAgICAgIC8vICFWQSAgSW5pdGlhbGl6ZSB0aGUgdmFyaWFibGUgdGhhdCB3aWxsIGNvbnRhaW4gdGhlIG5ldyBpbWFnZSdzIGhlaWdodCwgd2lkdGgsIG5hdHVyYWxIZWlnaHQgYW5kIG5hdHVyYWxXaWR0aFxyXG4gICAgICAgICAgICB2YXIgY3VySW1nRGltZW5zaW9ucztcclxuICAgICAgICAgICAgLy8gIVZBIFJldmlld1xyXG4gICAgICAgICAgICAvLyAhVkEgU2V0IGEgc2hvcnQgdGltZW91dCB3aGlsZSB0aGUgYmxvYiBsb2FkcywgdGhlbiBydW4gdGhlIG9ubG9hZCBmdW5jdGlvbiBiZWZvcmUgZGlzcGxheWluZyB0aGUgaW1hZ2UgYW5kIGdldHRpbmcgaXRzIHByb3BlcnRpZXMuIFRoaXMgaXMgcHJvYmFibHkgb3ZlcmtpbGwsIGJ1dCBub29uZSB3aWxsIG5vdGljZSB0aGUgMjUwbXMgYW55d2F5IGFuZCBiZXR0ZXIgc2FmZSB0aGVuIG5vLXdvcmtpZS4gQnV0IG5vdyB0aGF0IHRoZSBpbWFnZSBpcyBsb2FkZWQsIHdlIGNhbiBkaXNwbGF5IGl0IGFuZCBnZXQgaXRzIHByb3BlcnRpZXMuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgIC8vIE9uY2UgdGhlIGJsb2IgaXMgbG9hZGVkLCBzaG93IGl0IGFuZCBnZXQgaXRzIGRhdGFcclxuICAgICAgICAgICAgICBjdXJJbWcub25sb2FkID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIC8vICFWQSBIaWRlIHRoZSBkcm9wIGFyZWEuXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0YXRpY1JlZ2lvbnMuZHJvcEFyZWEpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICAvLyAhVkEgIFNob3cgdGhlIHRvb2xiYXJcclxuICAgICAgICAgICAgICAgIC8vICFWQSBSZWJvb3Q6IGJsb2NrID0+IGZsZXhcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3RhdGljUmVnaW9ucy50YnJDb250YWluZXIpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gIVZBIERpc3BsYXkgdGhlIGN1cnJlbnQgaW1hZ2VcclxuICAgICAgICAgICAgICAgIGN1ckltZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAhVkEgQ2FsY3VsYXRlIHRoZSB2aWV3ZXIgc2l6ZSBiYXNlZCBvbiB0aGUgbG9hZGVkIGltYWdlXHJcbiAgICAgICAgICAgICAgICBjYWxjVmlld2VyU2l6ZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgfSkoKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAvLyAhVkEgVGltZW91dCBvZiAyNTAgbXMgd2hpbGUgdGhlIGJsb2IgbG9hZHMuXHJcbiAgICAgICAgICAgIH0sIDI1MCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gIVZBIEZpcnN0LCB3cml0ZSB0aGUgbmV3IGN1ckltZyBvYmplY3QgdG8gdGhlIERPTVxyXG4gICAgICAgICAgZnVuY3Rpb24gaW5pdEltZ1RvRE9NKGN1ckltZywgY2FsbGJhY2spIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFZBISBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gYWxsb3dzIGFjY2VzcyBvZiBpbWFnZSBwcm9wZXJ0aWVzLiBZb3UgY2FuJ3QgZ2V0IGltYWdlIHByb3BlcnRpZXMgZnJvbSBhIEZpbGVSZWFkZXIgb2JqZWN0IC0tIGl0J3MgYSBiaW5hcnkgYmxvYiB0aGF0IHRha2VzIHRpbWUgdG8gbG9hZCwgYW5kIGJ5IHRoZSB0aW1lIGl0J3MgbG9hZGVkIGFsbCB0aGUgZnVuY3Rpb25zIHRoYXQgZ2V0IGl0cyBwcm9wZXJ0aWVzIGhhdmUgcnVuIGFuZCByZXR1cm5lZCB1bmRlZmluZWQuIFRlbXBvcmFyeSBzb2x1dGlvbjogaGlkZSB0aGUgaW1hZ2Ugb2JqZWN0IGZvciAyNTAgbXMsIHRoZW4gc2hvdyBpdCBhbmQgZ2V0IHRoZSBwcm9wZXJ0aWVzIC0tIGJ5IHRoZW4gaXQgc2hvdWxkIGhhdmUgbG9hZGVkLiBUaGVyZSBpcyBhIGJldHRlciB3YXkgdG8gZG8gdGhpcyB3aXRoIHByb21pc2VzIGJ1dCB0aGF0IHdpbGwgaGF2ZSB0byBiZSBmb3IgbGF0ZXIuXHJcbiAgICAgICAgICAgIC8vICFWQSBDcmVhdGUgYSBkaXYgaW4gdGhlIERPTVxyXG4gICAgICAgICAgICB2YXIgY3VySW1nRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIC8vICFWQSBBc3NpZ24gdGhlIG5ldyBkaXYgYW4gaWQgdGhhdCByZWZsZWN0cyBpdHMgcHVycG9zZVxyXG4gICAgICAgICAgICBjdXJJbWdEaXYuaWQgPSAnY3VyLWltZy1jb250YWluZXInO1xyXG4gICAgICAgICAgICAvLyBJbnNlcnQgY3VyLWltZy1jb250YWluZXIgaW50byB0aGUgZXhpc3RpbmcgbWFpbi1pbWFnZSBpbnNpZGUgdGhlIG1haW4taW1hZ2UgZGl2LlxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1pbWFnZScpLmluc2VydEJlZm9yZShjdXJJbWdEaXYsIG51bGwpO1xyXG4gICAgICAgICAgICAvLyAhVkEgaW5zZXJ0IHRoZSBuZXcgY3VySW1nIGludG8gdGhlIG5ldyBjdXItaW1nIGNvbnRhaW5lclxyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3VyLWltZy1jb250YWluZXInKS5pbnNlcnRCZWZvcmUoY3VySW1nLCBudWxsKTtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBpbWFnZSBvYmplY3QgYW5kIHJlYWQgaW4gdGhlIGJpbmFyeSBpbWFnZSBmcm9tIHRoZSBGaWxlUmVhZGVyIG9iamVjdC5cclxuICAgICAgICAgICAgLy8gVGhpcyBhbGxvd3MgYWNjZXNzIG9mIGltYWdlIHByb3BlcnRpZXMuIFlvdSBjYW4ndCBnZXQgaW1hZ2UgcHJvcGVydGllcyBmcm9tIGEgRmlsZVJlYWRlciBvYmplY3QgLS0gaXQncyBqdXN0IGEgYmxvYicgXHJcbiAgICAgICAgICAgIC8vICFWQSBIaWRlIHRoZSBET00gZWxlbWVudCB3aGlsZSB0aGUgYmxvYiBsb2Fkcy5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkeW5hbWljUmVnaW9ucy5jdXJJbWcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGN1ckltZyk7XHRcdFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gIVZBIENhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd3JpdGVzIHRoZSBuZXcgaW1hZ2UgdG8gdGhlIERPTS5cclxuICAgICAgICAgIGluaXRJbWdUb0RPTShjdXJJbWcsIGluaXRJbnNwZWN0b3JzKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgfSkoZik7XHJcbiAgICAgIC8vIFJlYWQgaW4gdGhlIGltYWdlIGZpbGUgYXMgYSBkYXRhIFVSTC5cclxuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZik7XHJcbiAgICB9XHJcbiAgICAvL0ZJTEVSRUFERVIgT0JKRUNUIFBST0NFU1NJTkcgRU5EXHJcblxyXG5cclxuICAgIC8vICFWQSBzZGYgTU9ESUZJRVIgS0VZUyBGT1IgVE9PTFRJUCBESVNQTEFZXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nIG9uIERPTSBjb250ZW50IGxvYWQnKTtcclxuXHJcbiAgICAgIC8vICFWQSBHZXQgdGhlIHJvb3QgKGh0bWwpIGVsZW1lbnQgXHJcbiAgICAgIGNvbnN0IHJvb3RFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignOnJvb3QnKTtcclxuICAgICAgLy8gIVZBIEFkZCBhIGtleWRvd24gZXZlbnQgbGlzdGVuZXIgdG8gdHJhcCB0aGUgQWx0ICsgQ3RybCBrZXkgY29tYmluYXRpb25cclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LmFsdEtleSAmJiBldmVudC5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAvLyAhVkEgVGhpcyBpcyB0aGUgY2xhc3MgdGhhdCBjaGFuZ2VzIHRoZSBkZWZhdWx0IGN1cnNvciBpbnRvIGEgaGVscCBjdXJzb3IuIFdoaWxlIHRoZSBrZXkgY29tYm8gaXMgcHJlc3NlZCwgYWRkIHRoZSBtb2RpZmllci1wcmVzc2VkIGNsYXNzIHRvIHRoZSByb290IGVsZW1lbnQgd2hpY2ggZGlzcGxheXMgdGhlIGhlbHAgY3Vyc29yIG9uIHRoZSBjdXJzb3IgXHJcbiAgICAgICAgICByb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtb2RpZmllci1wcmVzc2VkJyk7XHJcbiAgICAgICAgICAvLyAhVkEgQWRkIGV2ZW50TGlzdGVuZXJzIGZvciBhbGwgdG9vbHRpcCB0cmlnZ2VyIGVsZW1lbnRzLiBJTVBPUlRBTlQ6IGFkZEV2ZW50TGlzdGVuZXJzIHJlcXVpcmVzIHRoYXQgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50IGJlIGEgTkFNRUQgZnVuY3Rpb24gKGkuZS4gdmFyIG15TmFtZSA9IGZ1bmN0aW9uKG15TmFtZSkgLi4uKSAsIG90aGVyd2lzZSByZW1vdmVFdmVudExpc3RlbmVycyBjYW4ndCByZW1vdmUgaXQgYmVjYXVzZSBpdCBjYW4ndCBpZGVudGlmeSBpdC4gSW50ZXJlc3RpbmdseSwgYWRkVG9vbHRpcEV2ZW50TGlzdGVuZXJzIGdpdmVzIGFsbCB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciBhbGwgdGhlIHRyaWdnZXJzIHRoZSBzYW1lIG5hbWVkIGZ1bmN0aW9uIGFzIGFyZ3VtZW50LCBhbmQgaXQgd29ya3MuIEkgd2FzIGFmcmFpZCB0aGVyZSB3b3VsZCBiZSBhIG5hbWUgY29uZmxpY3QsIGJ1dCB0aGVyZSBkb2Vzbid0IGFwcGVhciB0byBiZSAtLSB0aGUgZXZlbnRMaXN0ZW5lcnMgZG8gZ2V0IHJlbW92ZWQgYmVsb3cgd2hlbiB0aGUgbW9kaWZpZXIga2V5cyBhcmUgcmVsZWFzZWQuXHJcbiAgICAgICAgICBhZGRUb29sdGlwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgLy8gIVZBIE9uIGtleXVwIGlmIGVpdGhlciB0aGUgQWx0IG9yIEN0cmwga2V5IGlzIHJlbGVhc2VkLCByZW1vdmUgdGhlIGFjdGl2ZSBjbGFzcyBmcm9tIHRoZSBhcHBCbG9ja2VyLCByZW1vdmUgdGhlIG1vZGlmaWVyLXByZXNzZWQgY2xhc3Mgb24gdGhlIHJvb3QgZWxlbWVudCB0byBjaGFuZ2UgYmFjayB0byB0aGUgZGVmYXVsdCBjdXJzb3IsIHJlc2V0IHRoZSBpbm5lckhUTUwgb2YgdGhlIHRpcENvbnRlbnRDb250YWluZXIgdG8gJycsIHRoZW4gcmVtb3ZlIGFsbCB0aGUgZXZlbnRMaXN0ZW5lcnMgZnJvbSBhbGwgdGhlIHRvb2x0aXAgdGFyZXRzLiBcclxuICAgICAgICAvLyAhVkEgTk9URTogVGhpcyBzaG91bGQgYmUgcmV2aXNpdGVkIHRvIG1ha2UgaXQgRFJZZXIsIGl0IHNob3VsZG4ndCBiZSBuZWNlc3NhcnkgdG8gaGF2ZSB0d28gc2VwYXJhdGUgZnVuY3Rpb25zIHRoYXQgaW5jbHVkZSBhbGwgdGhlIHRvb2x0aXAgdGFyZ2V0cyB0byBsb29wIHRocm91Z2ggdG8gYWRkL3JlbW92ZSBldmVudCBsaXN0ZW5lcnMgZnJvbSBhbGwgb2YgdGhlbS4gXHJcbiAgICAgICAgaWYgKGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5KSB7XHJcbiAgICAgICAgICBsZXQgdGlwQ29udGVudENvbnRhaW5lciwgYXBwQmxvY2tlcjtcclxuICAgICAgICAgIGFwcEJsb2NrZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN0YXRpY1JlZ2lvbnMuYXBwQmxvY2tlcik7XHJcbiAgICAgICAgICByb290RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdtb2RpZmllci1wcmVzc2VkJyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTW9kaWZpZXIgcmVsZWFzZWQnKTtcclxuICAgICAgICAgIHRpcENvbnRlbnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFwcE1lc3NhZ2VFbGVtZW50cy50aXBDb250ZW50KTtcclxuICAgICAgICAgIHRpcENvbnRlbnRDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICBpZiAoYXBwQmxvY2tlci5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7IGFwcEJsb2NrZXIuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7IH1cclxuICAgICAgICAgIHJlbW92ZVRvb2x0aXBFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgXHJcbiAgICAvLyAhVkEgSU5QVVQgSEFORExJTkdcclxuICAgIC8vICFWQSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICAvLyAhVkEgRHJhZyBhbmQgRHJvcCBIYW5kbGVyIFxyXG4gICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHJpdmF0ZSBmdW5jdGlvblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlRHJhZ092ZXIoZXZ0KSB7XHJcbiAgICAgIC8vcHJldmVudCB0aGUgYnViYmxpbmcgb2YgdGhlIGV2ZW50IHRvIHRoZSBwYXJlbnQgZXZlbnQgaGFuZGxlclxyXG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgIC8vcHJldmVudCB0aGUgZGVmYXVsdCBhY3Rpb24gb2YgdGhlIGVsZW1lbnQgZnJvbSBleGVjdXRpbmcgLS0gc28gaW4gdGhpcyBjYXNlXHJcbiAgICAgIC8vSSB0aGluayBzaW5jZSBpdCBpcyBhIGRpdiB0aGUgZGVmYXVsdCBldmVudCB3b3VsZCBiZSBmb3Igc29tZSBicm93c2VycyB0byBcclxuICAgICAgLy9vcGVuIHRoZSBmaWxlIGluIHRoZSBicm93c2VyIHdoZW4gZHJvcHBlZFxyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZXZ0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknOyAvLyBFeHBsaWNpdGx5IHNob3cgdGhpcyBpcyBhIGNvcHkuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgLy8gIVZBIEhhbmRsZSBiZWhhdmlvciB3aGVuIGFuIGVsZW1lbnQgZ2V0cyB0aGUgZm9jdXMuIFBlcnRhaW5zIG9ubHkgdG8ga2V5Ym9hcmQgaW5wdXQsIGFjdHVhbGx5LCBJJ20gbm90IHN1cmUgd2hldGhlciBidXR0b25zIG9yIENDUCBlbGVtZW50cyBuZWVkIHNwZWNpYWwgaGFuZGxpbmcuXHJcbiAgICAvLyAhVkEgVE9ETzogV2h5IGlzIHRoZSBhcmd1bWVudCAgdW51c2VkLCB3aHkgYXJlIHRoZXJlIHVudXNlZCBlbGVtZW50cyBhbmQgd2hhdCBpcyBhY3R1YWxseSBoYXBwZW5pbmcgaGVyZT9cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUZvY3VzKGV2dCkge1xyXG4gICAgICAvLyAhVkEgR2V0IHRoZSB0YXJnZXQgZWxlbWVudCBvZiB0aGUgY2xpY2tcclxuICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKTtcclxuICAgICAgLy8gIVZBIFNlbGVjdCB0aGUgY2xpY2tlZCBlbGVtZW50J3MgdmFsdWUsIG9yIGlmIHRoZXJlJ3Mgbm8gdmFsdWUsIHNldCBpdCB0byBlbXB0eSB3aXRoIGEgY3Vyc29yLCB3aGljaCBpcyB0aGUgZGVmYXVsdCBzZWxlY3QgYmVoYXZpb3IgZm9yIGVtcHR5IGZpZWxkcy5cclxuICAgICAgdGhpcy5zZWxlY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgVE9ETzogV2h5IGlzIHRoZSBhcmd1bWVudCAgdW51c2VkLCB3aHkgYXJlIHRoZXJlIHVudXNlZCBlbGVtZW50cyBhbmQgd2hhdCBpcyBhY3R1YWxseSBoYXBwZW5pbmcgaGVyZT9cclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIGhhbmRsZUJsdXIoZXZ0KSB7XHJcbiAgICAgIC8vICFWQSBIYW5kbGUgYmx1clxyXG4gICAgICB2YXIgQXBwZGF0YSA9IHt9O1xyXG4gICAgICBBcHBkYXRhID0gYXBwQ29udHJvbGxlci5pbml0R2V0QXBwZGF0YSgpO1xyXG4gICAgICBwcm9wID0gZWxlbWVudElkVG9BcHBkYXRhUHJvcCh0aGlzLmlkKTtcclxuICAgICAgLy8gIVZBIElmIGJsdXJyaW5nIGZyb20gaW1nVyBvciBpbWdILCBjbGVhciB0aGUgZmllbGQgdG8gZGlzcGxheSB0aGUgcGxhY2Vob2xkZXJzLiBPdGhlcndpc2UsIHJlc3RvcmUgdGhlIGZpZWxkIHZhbHVlIHRvIHRoZSBBcHBkYXRhIHByb3BlcnR5LlxyXG4gICAgICAvLyAhVkEgTk9URTogVGhpcyBjYW4gcHJvYmFibHkgcmVwbGFjZSB0aGUgYmx1ciBzdGF0ZW1lbnRzIGluIGhhbmRsZUtleWRvd25cclxuICAgICAgaWYgKHByb3AgPT09ICdpbWdXJyB8fCBwcm9wID09PSAnaW1nSCcpIHtcclxuICAgICAgICB0aGlzLnZhbHVlID0gJyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHRoaXMudmFsdWUgPSBBcHBkYXRhW3Byb3BdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFuZGxlT25mb2N1cyhldnQpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ2hhbmRsZU9uZm9jdXMgcnVubmluZycpO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnZXZ0LnRhcmdldCBpczogJyArIGV2dC50YXJnZXQpO1xyXG4gICAgICBsZXQgdGFyZyA9IGV2dC50YXJnZXQ7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCd0YXJnLmlkIGlzOiAnICsgdGFyZy5pZCk7XHJcbiAgICAgIGxldCB2YWwgPSB0YXJnLnZhbHVlO1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygndmFsIGlzOiAnICsgdmFsKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHJpdmF0ZSBcclxuICAgIC8vICFWQSBQcmVwcm9jZXNzIG1vdXNlIGV2ZW50cyBhbmQgcm91dGUgdGhlbSB0byByZXNwZWN0aXZlIGV2YWwgaGFuZGxlci5cclxuICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRXZlbnRzKGV2dCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnaGFuZGxlTW91c2VFdmVudHMgcnVubmluZycpO1xyXG4gICAgICBcclxuICAgICAgLy8gIVZBIENhcnJ5b3ZlciBmcm9tIGVhcmxpZXIgaGFuZGxlVXNlckFjdGlvblxyXG4gICAgICAvLyAhVkEgR2V0IHRoZSB0YXJnZXQgZWxlbWVudCBvZiB0aGUgY2xpY2tcclxuICAgICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XHJcbiAgICAgIHZhciBhcmdzID0geyB9O1xyXG4gICAgICBhcmdzLnRhcmdldCA9IGVsLmlkO1xyXG4gICAgICAvLyAhVkEgQnJhbmNoOiByZWNvbmZpZ3VyZU1lc3NhZ2VzICgwNTE2MjApIENoZWNrIGlmIGFueSBhcHBNZXNzYWdlcyBhcmUgcnVubmluZ1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdoYW5kbGVNb3VzZUV2ZW50cyB0cnk6ICcpO1xyXG4gICAgICAgIHZhciB2YWxzID0gW10sIG1zZ0VsZW1lbnQ7XHJcbiAgICAgICAgLy8gdmFscyA9IChPYmplY3QudmFsdWVzKGFwcE1lc3NhZ2VFbGVtZW50cykpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ3ZhbHNbaV0gaXM6ICcgKyAgdmFsc1tpXSk7XHJcbiAgICAgICAgICBtc2dFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih2YWxzW2ldKTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdtc2dFbGVtZW50IGlzOiAnICsgbXNnRWxlbWVudCk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbXNnRWxlbWVudFtpXS5pZCBpczogJyArIG1zZ0VsZW1lbnRbaV0uaWQpO1xyXG4gICAgICAgICAgLy8gLy8gaWYgKG1zZ0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgICAgLy8gLy8gICBjb25zb2xlLmxvZygndmFsc1tpXSBpczogJyArIHZhbHNbaV0pICsgJyBpcyBhY3RpdmUnO1xyXG4gICAgICAgICAgLy8gLy8gfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaGFuZGxlTW91c2VFdmVudHMgY2F0Y2g6Jyk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEhhbmRsZSB0aGUgaW5jcmVtZW50IHRvb2xidXR0b25zXHJcbiAgICAgIGlmIChldmVudC50eXBlID09PSAnY2xpY2snKSB7XHJcbiAgICAgICAgc3dpdGNoICh0cnVlKSB7XHJcbiAgICAgICAgY2FzZSAoIGVsLmlkLmluY2x1ZGVzKCd0YnInKSkgOlxyXG4gICAgICAgICAgLy8gIVZBIFZhcmlhYmxlIHRvIGhvbGQgdGhlIG5hbWUgb2YgdGhlIEFwcGRhdGEgcHJvcGVydHkgdGhlIGV2ZW50IGNvcnJlc3BvbmRzIHRvXHJcbiAgICAgICAgICAvLyAhVkEgcHJvcCBub3QgZGVmaW5lZFxyXG4gICAgICAgICAgLy92YXIgcHJvcCwgdmFsLCBpc0VycjsgXHJcbiAgICAgICAgICB2YXIgdmFsLCBpc0VycjtcclxuICAgICAgICAgIC8vICFWQSBXZSBuZWVkIHRvIHF1ZXJ5IEFwcGRhdGEgcHJvcGVydGllcyB0byBnZXQgdGhlIGN1cnJlbnQgdmFsdWUgb2YgaW1nVyBzbyB3ZSBjYW4gYWRkIHRoZSB0b29sYnV0dG9uIGluY3JlbWVudHMgdG8gaWRcclxuICAgICAgICAgIHZhciBBcHBkYXRhID0ge307XHJcbiAgICAgICAgICAvLyAhVkEgQnJhbmNoOiByZWNvbmZpZ3VyZU1lc3NhZ2VzICgwNTE2MjApXHJcbiAgICAgICAgICAvLyAhVkEgQ2FuY2VsIGFueSBydW5uaW5nIGFwcG1lc3NhZ2UgdGltZW91dHMgYW5kIGFuaW1hdGlvbnNcclxuXHJcblxyXG4gICAgICAgICAgQXBwZGF0YSA9IGFwcENvbnRyb2xsZXIuaW5pdEdldEFwcGRhdGEoKTtcclxuICAgICAgICAgIC8vICFWQSBUaGlzIGlzIGEgY2xpY2sgb24gb25lIG9mIHRoZSB0b29sYnV0dG9uIGluY3JlbWVudCBidXR0b25zLCBzbyB3ZSdyZSBkZWFsaW5nIHdpdGggdGhlIEFwcGRhdGEuaW1nVyBwcm9wZXJ0eS5cclxuICAgICAgICAgIGFyZ3MucHJvcCA9ICdpbWdXJztcclxuICAgICAgICAgIC8vICFWQSBUaGUgbGFzdCAyIGNoYXJzIG9mIHRoZSBpZCBpbmRpY2F0ZSB0aGUgdmFsdWUgYnkgd2hpY2ggdGhlIGltZyBkaW1lbnNpb24gc2hvdWxkIGJlIGluY3JlbWVudGVkLHNvIGdldCB0aGUgbGFzdCAyIGNoYXJzIGFuZCBjb252ZXJ0IHRvIGludGVnZXJcclxuICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGVsLmlkLnNsaWNlKC0yKSk7XHJcbiAgICAgICAgICAvLyAhVkEgSWYgdGhlIHRhcmdldCBJRCBpbmNsdWRlcyAnaW5jcicgdGhlbiB0aGUgaW1hZ2UgZGltZW5zaW9uIHdpbGwgYmUgaW5jcmVtZW50ZWQsIGlmICdkZWNyJyB0aGVuIGl0IHdpbGwgYmUgZGVjcmVtZW50ZWRcclxuICAgICAgICAgIChlbC5pZC5pbmNsdWRlcygnaW5jcicpKSA/IHZhbCA6IHZhbCA9IC12YWw7XHJcbiAgICAgICAgICAvLyAhVkEgQWRkIHZhbCB0byB0aGUgY3VycmVudCBpbWdXIHRvIGdldCB0aGUgdmFsdWUgdG8gYmUgcGFzc2VkIHRvIGNoZWNrVXNlcklucHV0IGZvciBlcnJvciBwYXJzaW5nLlxyXG4gICAgICAgICAgdmFsID0gQXBwZGF0YS5pbWdXICsgdmFsO1xyXG4gICAgICAgICAgYXJncy52YWwgPSB2YWw7XHJcbiAgICAgICAgICBpc0VyciA9IGNoZWNrVXNlcklucHV0KGFyZ3MpO1xyXG4gICAgICAgICAgaWYgKGlzRXJyKSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBJZiBpdCByZXR1cm5zIGFuIGVycm9yLCBzZWxlY3QgdGhlIGlucHV0IGFuZCBzaG93IHRoZSBlcnJvciBtZXNzYWdlIHNvIHRoZSB1c2VyIGNhbiBjb3JyZWN0IGl0IG9yIEVTQyBvdXQgb2YgdGhlIGZpZWxkLlxyXG4gICAgICAgICAgICAvLyAhVkEgUG9zdC1lcnJvciBidXR0b24gaGFuZGxpbmc/XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAhVkEgSWYgbm8gZXJyb3IsIHBhc3MgdGhlIEFwcGRhdGEgcHJvcGVydHkgbmFtZSBhbmQgdGhlIGVudGVyZWQgdmFsdWUgZm9yIGZ1cnRoZXIgcHJvY2Vzc2luZy5cclxuICAgICAgICAgICAgLy8gIVZBIE5PVEU6IFdlIG1pZ2h0IGhhdmUgdG8gaW5jbHVkZSB0aGUgdGFyZ2V0IElEIGluIHRoZSBlcnJvciBoYW5kbGluZyBiZWNhdXNlIHRoaXMgYnV0dG9uIHNob3VsZCB0cmlnZ2VyIGEgZGlmZmVyZW50IG1lc3NhZ2UgdGhhbiB0aGUga2V5Ym9hcmQgbWVzc2FnZS4gUmV2aXNpdC5cclxuICAgICAgICAgICAgLy8gIVZBIFBhc3NpbmcgYXJndW1lbnRzIGFzIG9iamVjdFxyXG4gICAgICAgICAgICBldmFsVG9vbGJhcklucHV0KGFyZ3MpO1xyXG4gICAgICAgICAgfSBcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAhVkEgVE9ETzogUmV2aXNpdCB0aGlzXHJcbiAgICAgIH0gIGVsc2UgaWYgKCBldmVudC50eXBlID09PSAnZHJvcCcpIHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQ7XHJcbiAgICAgICAgLy8gIVZBIFRPRE86IFJldmlzaXQgdGhpc1xyXG4gICAgICB9IGVsc2UgaWYgKCBldmVudC50eXBlID09PSAnZHJhZ292ZXInKSB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0O1xyXG4gICAgICB9IFxyXG4gICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAvLyAhVkEgYXBwQ29udHJvbGxlciBwcml2YXRlIGZ1bmN0aW9uXHJcbiAgICAvKiAhVkEgVGhpcyBpcyBhIGJpdCBjb21wbGljYXRlZCBidXQgaXQgZXhwcmVzc2VzIG5vbi1kZWZhdWx0IGZpZWxkIGJlaGF2aW9yOlxyXG4gICAgICAtLWltZ1cgYW5kIGltZ0ggZmllbGRzIHNob3VsZCBuZXZlciBzaG93IGVudGVyZWVkIHZhbHVlcyBidXQgcmF0aGVyIG9ubHkgcGxhY2Vob2xkZXJzLiBUaGlzIGlzIGJlY2F1c2UgdGhleSBhY3R1YWwgdmFsdWVzIGFyZSByZWZsZWN0ZWQgdXBvbiBlbnRlcmluZyBpbiB0aGUgRElTUExBWSBTSVpFIGluc3BlY3RvckVsZW1lbnRzIGFuZCBiZWNhdXNlIGFueSB2YWx1ZSBlbnRlcmVkIGluIG9uZSBvZiB0aGUgZmllbGRzIHdvdWxkIHJlcXVpcmUgYW4gYXNwZWN0IHJhdGlvIGNhbGN1bGF0aW9uIHRvIGRpc3BsYXkgaW4gdGhlIG90aGVyIG9uZS4gU28gb25lIG9mIHRoZSBmaWVsZCB2YWx1ZXMgd291bGQgaGF2ZSB0byB1cGRhdGUgYXV0b21hdGljYWxseSB3aGljaCBpcyBkaXN0cmFjdGluZyBhbmQgY29uZnVzaW5nIElNTyBlc3BlY2lhbGx5IHNpbmNlIHRoZSB2YWx1ZXMgYXJlIHByZXNlbnRlZCBjbGVhcmx5IGVsc2V3aGVyZS5cclxuICAgICAgLS1UaGUgb3RoZXIgZmllbGRzIHNob3VsZCBzaG93IHRoZSBjdXJyZW50IEFwcGRhdGEgdmFsdWUsIGkuZS4gdGhlIGFjdHVhbCBET00gZWxlbWVudCBkaW1lbnNpb25zIG9yIGRhdGEgcHJvcGVydHkgdmFsdWUsIGJlY2F1c2UgdGhlc2UgdmFsdWVzIGFyZSBOT1QgcmVmbGVjdGVkIGFueXdoZXJlIGluIGEgSW5zcGVjdG9yLiBTbyB3aGVuIHRoZXkgYXJlIGNoYW5nZWQsIHRoZXkgbmVlZCB0byBiZSB1cGRhdGVkIGFuZCB3aGVuIGEgdXNlciBtYWtlcyBhIGJhZCBlbnRyeSwgdGhleSBoYXZlIHRvIGJlIHJlc3RvcmVkIHRvIHdoYXQgdGhleSB3ZXJlIHByZXZpb3VzbHkuXHJcbiAgICAgIC0tRGVmYXVsdCBUYWIgYmVoYXZpb3IsIGkuZS4gY3ljbGluZyB0aHJvdWdoIHRoZSB0YWIgb3JkZXIsIGhhcyB0byBiZSBtYWludGFpbmVkIHVuZGVyIGNvbnNpZGVyYXRpb24gb2YgdGhlIGFib3ZlIDIgcG9pbnRzLlxyXG4gICAgKi9cclxuICAgIC8vICFWQSBUYWIgbmVlZHMgdG8gYmUgaW4gYSBrZXlEb3duIGJlY2F1c2Uga2V5dXAgaXMgdG9vIGxhdGUgdG8gdHJhcCB0aGUgdmFsdWUgYmVmb3JlIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGFkdmFuY2VzIG90IHRoZSBuZXh0IGZpZWxkLlxyXG4gICAgLy8gIVZBIFRPRE86IFdoeSBhcmUgdGhlcmUgdW51c2VkIGVsZW1lbnRzIGFuZCB3aGF0IGlzIGFjdHVhbGx5IGhhcHBlbmluZyBoZXJlP1xyXG4gICAgZnVuY3Rpb24gaGFuZGxlS2V5ZG93bihldnQpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ2hhbmRsZUtleWRvd24gcnVubmluZycpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdoYW5kbGVLZXlEb3duIHRyeTogJyk7XHJcbiAgICAgICAgdmFyIHZhbHMgPSBbXSwgbXNnRWxlbWVudDtcclxuICAgICAgICB2YWxzID0gKE9iamVjdC52YWx1ZXMoYXBwTWVzc2FnZUVsZW1lbnRzKSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygndmFsc1tpXSBpczogJyArICB2YWxzW2ldKTtcclxuICAgICAgICAgIG1zZ0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2YWxzW2ldKTtcclxuICAgICAgICAgIGlmIChtc2dFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2lzIGFjdGl2ZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnaGFuZGxlTW91c2VFdmVudHMgY2F0Y2g6Jyk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gIVZBIEdldCB0aGUga2V5cHJlc3NcclxuICAgICAga2V5ZG93biA9IGV2dC53aGljaCB8fCBldnQua2V5Q29kZSB8fCBldnQua2V5O1xyXG4gICAgICAvLyAhVkEgT25seSBzZXQgdmFycyBhbmQgZ2V0IHZhbHVlcyBpZiBUYWIgYW5kIEVudGVyIGtleXMgd2VyZSBwcmVzc2VkXHJcbiAgICAgIGlmIChrZXlkb3duID09IDkgfHwga2V5ZG93biA9PSAxMyApIHtcclxuICAgICAgICB2YXIgZWwsIGlzRXJyLCBpc0VudGVyLCBpc1RhYlxyXG4gICAgICAgIHZhciBhcmdzID0geyB9LCBBcHBkYXRhID0geyB9O1xyXG4gICAgICAgIC8vICFWQSBXZSBuZWVkIEFwcGRhdGEgdG8gcmVzdG9yZSBmaWVsZHMgdG8gcHJldmlvdXMgdmFsdWVzIG9uIGVycm9yIG9yIHRhYmJpbmcgdGhyb3VnaCBmaWVsZHMgd2l0aG91dCBjaGFuZ2luZyB0aGVpciB2YWx1ZXMuXHJcbiAgICAgICAgQXBwZGF0YSA9IGFwcENvbnRyb2xsZXIuaW5pdEdldEFwcGRhdGEoKTtcclxuICAgICAgICAvLyAhVkEgR2V0IHRoZSB0YXJnZXQgZWxlbWVudFxyXG4gICAgICAgIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7XHJcbiAgICAgICAgLy8gIVZBIEFyZ3MgaXMgdGFyZ2V0LCBwcm9wLCB2YWxcclxuICAgICAgICBhcmdzLnRhcmdldCA9IGVsLmlkO1xyXG4gICAgICAgIGFyZ3MudmFsID0gdGhpcy52YWx1ZTtcclxuICAgICAgICBhcmdzLnByb3AgPSBlbGVtZW50SWRUb0FwcGRhdGFQcm9wKHRoaXMuaWQpO1xyXG4gICAgICAgIC8vICFWQSBTZXQgYSBmbGFnIGlmIHRoZSB0aGUgRW50ZXIga2V5IHdhcyBwcmVzc2VkLCBmb3IgcmVhZGFiaWxpdHlcclxuICAgICAgICAoa2V5ZG93biA9PSAxMykgPyBpc0VudGVyID0gdHJ1ZSA6IGlzRW50ZXIgPSBmYWxzZTtcclxuICAgICAgICAvLyAhVkEgU2V0IGEgZmxhZyBpZiB0aGUgdGhlIFRhYiBrZXkgd2FzIHByZXNzZWQsIGZvciByZWFkYWJpbGl0eVxyXG4gICAgICAgIChrZXlkb3duID09IDkpID8gaXNUYWIgPSB0cnVlIDogaXNUYWIgPSBmYWxzZTtcclxuICAgICAgICAvLyAhVkEgSWYgVGFiIHdhcyBwcmVzc2VkIGFuZCB0aGlzLnZhbHVlIGlzIGVpdGhlciBlbXB0eSBvciBlcXVhbHMgdGhlIEFwcGRhdGEgdmFsdWUsIHRoZW4gdGhlcmUncyBiZWVuIG5vIGNoYW5nZSB0byB0aGUgZmllbGQsIHNvIGxldCBUYWIganVzdCBjeWNsZSB0aHJvdWdoIHRoZSBmaWVsZHMgYXMgcGVyIGl0cyBkZWZhdWx0LlxyXG4gICAgICAgIGlmICgoaXNUYWIpICYmICgodGhpcy52YWx1ZSA9PT0gJycgfHwgdGhpcy52YWx1ZSA9PSBBcHBkYXRhW2FyZ3MucHJvcF0pKSkge1xyXG4gICAgICAgICAgLy8gIVZBIE9ubHkgaWYgaW1nVyBvciBpbWdILCBkZWxldGUgdGhlIGV4aXN0aW5nIHZhbHVlIHRvIGRpc3BsYXkgdGhlIHBsYWNlaG9sZGVycy4gT3RoZXJ3aXNlLCB0YWIgdGhyb3VnaCBhbmQgbGVhdmUgdGhlIGV4aXN0aW5nIHZhbHVlIGZyb20gQXBwZGF0YVxyXG4gICAgICAgICAgaWYgKGFyZ3MucHJvcCA9PT0gJ2ltZ1cnIHx8IGFyZ3MucHJvcCA9PT0gJ2ltZ0gnKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25ibHVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyAhVkEgRmllbGQgdmFsdWUgd2FzIGNoYW5nZWQsIHNvIGZpcnN0LCBwYXNzIHRoZSBhcmdzIHRvIGNoZWNrVXNlcklucHV0IGZvciBlcnJvcnMuXHJcbiAgICAgICAgICBpc0VyciA9IGNoZWNrVXNlcklucHV0KGFyZ3MpO1xyXG4gICAgICAgICAgaWYgKGlzRXJyKSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBJZiBpdCByZXR1cm5zIGFuIGVycm9yLCBzZWxlY3QgdGhlIGlucHV0IGFuZCBzaG93IHRoZSBlcnJvciBtZXNzYWdlIHNvIHRoZSB1c2VyIGNhbiBjb3JyZWN0IGl0IG9yIEVTQyBvdXQgb2YgdGhlIGZpZWxkLiBJZiBUYWIsIHByZXZlbnQgYWR2YW5jaW5nIHRvIHRoZSBuZXh0IGZpZWxkIHVudGlsIHRoZSBlcnJvciBpcyBjb3JyZWN0ZWQgb3IgRVNDIGlzIHByZXNzZWQuXHJcbiAgICAgICAgICAgIGlzRW50ZXIgPyBpc0VudGVyIDogZXZ0LnByZXZlbnREZWZhdWx0KCk7IFxyXG4gICAgICAgICAgICAvLyAhVkEgV2UgaGF2ZSB0byBsZWF2ZSB0aGUgYmFkIHZhbHVlIGluIHRoZSBmaWVsZCBzbyB0aGUgdXNlciBjYW4gY29ycmVjdCBpdCBvciBwcmVzcyBFc2MgdG8gYmx1ciB3aXRob3V0IGNoYW5nZSwgb3RoZXJ3aXNlIGl0IHdpbGwgY29uZmxpY3Qgd2l0aCB0aGUgZGVmYXVsdCB0YWIgb3JkZXIgYmVoYXZpb3IuXHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0KCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyAhVkEgSWYgdGhlIHZhbHVlIHdhcyBlbnRlcmVkIGluIHRoZSBpbWdXIG9yIGltZ0ggZmllbGQsIHNob3cgdGhlIHZhbHVlIHNlbGVjdGVkIGZpcnN0IHNvIHRoZSB1c2VyIGNhbiB2aWV3IGFuZCBjaGFuZ2UgaXQgYmVmb3JlIGltcGxlbWVudGluZy4gT25seSBvbiBUYWIgY2FuIHRoZSB2YWx1ZSBiZSBpbXBsZW1lbnRlZCBhbmQgYWR2YW5jZSB0byB0aGUgbmV4dCBmaWVsZC5cclxuICAgICAgICAgICAgaWYgKGFyZ3MucHJvcCA9PT0gJ2ltZ1cnIHx8IGFyZ3MucHJvcCA9PT0gJ2ltZ0gnKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzRW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgICAgIHRoaXMuYmx1cigpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAhVkEgUGFzcyB0aGUgdGFyZ2V0LCBwcm9wIGFuZCB2YWx1ZSB0byBldmFsVG9vbGJhcklucHV0LlxyXG4gICAgICAgICAgICBldmFsVG9vbGJhcklucHV0KGFyZ3MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgYXBwQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICAvLyAhVkEgVE9ETzogV2h5IGFyZSB0aGVyZSB1bnVzZWQgZWxlbWVudHMgYW5kIHdoYXQgaXMgYWN0dWFsbHkgaGFwcGVuaW5nIGhlcmU/XHJcbiAgICAvLyAhVkEga2V5UHJlc3MgaGFuZGxlciBmb3IgdGhlIEVTQyBrZXkuICBUaGlzIGhhcyB0byBiZSBoYW5kbGVkIG9uIGtleXVwLCBzbyB3ZSBuZWVkIGEgc2VwYXJhdGUgaGFuZGxlciBmb3IgaXQuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVLZXl1cChldnQpIHtcclxuICAgICAgY29uc29sZS5sb2coJ2hhbmRsZUtleVVwIHJ1bm5pbmcnKTtcclxuICAgICAgbGV0IHByb3AsIGN1ckxvY2FsU3RvcmFnZTtcclxuICAgICAgLy8gIVZBIFdlIG9ubHkgbmVlZCB0aGUgcHJvcGVydHkgaGVyZSwgc28gbm8gbmVlZCB0byBjcmVhdGUgYW4gYXJncyBvYmplY3QuIFdlIGNvdWxkIGFjdHVhbGx5IGp1c3QgdXNlIHRoZSB0YXJnZXQgYnV0IHNpbmNlIHdlJ3JlIHN0YW5kYXJkaXppbmcgb24gcHJvcGVydHkgbmFtZXMsIGxldCdzIHN0aWNrIHdpdGggdGhhdC4gR2V0IHRoZSBwcm9wZXJ0eSBuYW1lIGZyb20gdGhlIGlkIG9mIHRoaXMsIGkuZS4gdGhlIGV2ZW50IHRhcmdldFxyXG4gICAgICBwcm9wID0gZWxlbWVudElkVG9BcHBkYXRhUHJvcCh0aGlzLmlkKTtcclxuICAgICAgLy8gIVZBIEZpbmQgb3V0IHdoaWNoIGtleSB3YXMgc3RydWNrXHJcbiAgICAgIGtleXVwID0gZXZ0LndoaWNoIHx8IGV2dC5rZXlDb2RlIHx8IGV2dC5rZXk7XHJcbiAgICAgIC8vIHZhciBBcHBkYXRhID0gYXBwQ29udHJvbGxlci5pbml0R2V0QXBwZGF0YSgpO1xyXG4gICAgICAvLyAhVkEgIE9uIEVTQywgd2Ugd2FudCBpbWdXIGFuZCBpbWdIIHRvIGV4aXQgdGhlIGZpZWxkIGFuZCBnbyBiYWNrIHRvIHNob3dpbmcgdGhlIHBsYWNlaG9sZGVycyBkZWZpbmVkIGluIHRoZSBDU1MuIFRoaXMgaXMgYmVjYXVzZSB0aGVzZSB2YWx1ZXMgYXJlIGFscmVhZHkgcHJvdmlkZWQgaW4gdGhlIGluc3BlY3RvckVsZW1lbnRzIGFuZCB0aGVyZSdzIG5vIG5lZWQgdG8gcmVjYWxjIHRoZSBXIGFuZCBIIGVhY2ggdGltZSB0aGUgdXNlciBtYWtlcyBhbmQgZW50cnkgLSB0aGF0IHdvdWxkIGp1c3QgYmUgY29uZnVzaW5nLiBGb3Igdmlld2VyVywgc1NwaG9uZXNXIGFuZCBsUGhvbmVzVywgcmV2ZXJ0IHRvIHRoZSBwcmV2aW91c2x5IGRpc3BsYXllZCB2YWx1ZSBpZiB0aGUgdXNlciBlc2NhcGVzIG91dCBvZiB0aGUgaW5wdXQgZmllbGQuIFRoZSBwcmV2aW91c2x5IGRpc3BsYXllZCB2YWx1ZSB3aWxsIGJlIGVpdGhlciAxKSB0aGUgZGVmYXVsdCBpbiB0aGUgSFRNTCBwbGFjZWhvbGRlciBhdHRyaWJ1dGUgb3IgMikgdGhlIGxvY2FsU3RvcmFnZSB2YWx1ZS4gU28sIHRoZSBsb2NhbFN0b3JhZ2UgdmFsdWUgaXMgZmFsc2UsIGdldCB0aGUgcGxhY2Vob2xkZXIsIG90aGVyd2lzZSBnZXQgdGhlIGxvY2FsU3RvcmFnZSB2YWx1ZS5cclxuICAgICAgLy8gIVZBIEVzYyBrZXlcclxuICAgICAgaWYgKGtleXVwID09IDI3ICkge1xyXG4gICAgICAgIC8vICFWQSBJZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIHRoZSBpbWdXIG9yIGltZ0ggaW5wdXQgZmllbGRzLCBvbiBFU0MgZXhpdCB0aGUgZmllbGQgYW5kIHJlc3RvcmUgdGhlIHBsYWNlaG9sZGVyIHNldCBpbiB0aGUgSFRNTCBmaWxlLlxyXG4gICAgICAgIGlmIChwcm9wID09PSAnaW1nVycgfHwgcHJvcCA9PT0gJ2ltZ0gnKSB7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlID0gKCcnKTtcclxuICAgICAgICAgIHRoaXMuYmx1cigpO1xyXG4gICAgICAgIC8vICFWQSBJZiB0aGUgZXZlbnQgdGFyZ2V0IGlzIHZpZXdlclcsIGlwdFRiclNtYWxsUGhvbmVzVyBhbmQgaXB0VGJyTGFyZ2VQaG9uZXNXLCBvbiBFU0MgZXhpdCB0aGUgZmllbGQgYW5kIHJlc3RvcmUgdGhlIHByZWV4aXN0aW5nIHZhbHVlIGxvY2FsU3RvcmFnZSBpZiBpdCBleGlzdHMsIGlmIG5vdCwgcmVzdG9yZSB0aGUgZGVmYXVsdCBzdG9yZWQgaW4gdGhlIEhUTUwgcGxhY2Vob2xkZXIuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGN1ckxvY2FsU3RvcmFnZSA9IGFwcENvbnRyb2xsZXIuZ2V0TG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICBpZiAocHJvcCA9PT0gJ3ZpZXdlclcnKSB7XHJcbiAgICAgICAgICAgIGN1ckxvY2FsU3RvcmFnZVswXSA/IHRoaXMudmFsdWUgPSBjdXJMb2NhbFN0b3JhZ2VbMF0gOiB0aGlzLnZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0b29sYmFyRWxlbWVudHMuaXB0VGJyVmlld2VyVykucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcJyNcXCcgKyBwcm9wKS5wbGFjZWhvbGRlciBpczogJyArIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRiclZpZXdlclcpLnBsYWNlaG9sZGVyKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAocHJvcCA9PT0gJ3NQaG9uZXNXJykge1xyXG4gICAgICAgICAgICBjdXJMb2NhbFN0b3JhZ2VbMV0gPyB0aGlzLnZhbHVlID0gY3VyTG9jYWxTdG9yYWdlWzFdIDogdGhpcy52YWx1ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRiclNQaG9uZXNXaWR0aCkucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHByb3AgPT09ICdsUGhvbmVzVycpIHtcclxuICAgICAgICAgICAgY3VyTG9jYWxTdG9yYWdlWzJdID8gdGhpcy52YWx1ZSA9IGN1ckxvY2FsU3RvcmFnZVsyXSA6IHRoaXMudmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJMUGhvbmVzV2lkdGgpLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SIGluIGhhbmRsZUtleXVwOiBsb2NhbFN0b3JhZ2UgdmFsdWUgZG9lcyBub3QgZXhpc3QnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgIFBhcnNpbmcga2V5Ym9hcmQgaW5wdXQgYmFzZWQgb24gQXBwZGF0YSBwcm9wZXJ0eSBwYXNzZWQgaW4gZnJvbSBoYW5kbGVLZXl1cC5cclxuICAgIC8vICFWQSBUT0RPOiByZW5hbWUgdG8gY2hlY2tVc2VySW5wdXQgYW5kIGluY2x1ZGUgcGFyc2luZyBvZiB0aGUgdG9vbGJ1dHRvbiBtb3VzZWNsaWNrcyBmcm9tIGhhbmRsZVRvb2xiYXJDbGlja3MuXHJcbiAgICAvLyAhVkEgVE9ETzogV2h5IGFyZSB0aGVyZSB1bnVzZWQgdmFyaWFibGVzIGFuZCB3aGF0IGlzIGFjdHVhbGx5IGhhcHBlbmluZyBoZXJlP1xyXG4gICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gY2hlY2tVc2VySW5wdXQoYXJncykge1xyXG4gICAgICAvLyAhVkEgRGVzdHJ1Y3R1cmUgYXJnc1xyXG4gICAgICBjb25zdCB7IHRhcmdldCwgcHJvcCwgdmFsIH0gPSBhcmdzO1xyXG4gICAgICBsZXQgYXBwTWVzc0NvZGU7XHJcbiAgICAgIHZhciBpc0VycjtcclxuICAgICAgaXNFcnIgPSBmYWxzZTtcclxuICAgICAgdmFyIEFwcGRhdGE9IHt9O1xyXG4gICAgICBBcHBkYXRhID0gYXBwQ29udHJvbGxlci5pbml0R2V0QXBwZGF0YSgpO1xyXG4gICAgICAvLyAhVkEgVE9ETzogU2V0dGluZyBtYXhWaWV3ZXJXaWR0aCBqdXN0IGZvciBub3dcclxuICAgICAgdmFyIG1heFZpZXdlcldpZHRoID0gODAwO1xyXG4gICAgICAvLyAhVkEgQnJhbmNoOiByZWNvbmZpZ3VyZU1lc3NhZ2VzICgwNTE2MjApIFxyXG4gICAgICAvLyAhVkEgRmlyc3QsIGNoZWNrIGlmIHRoZXJlJ3MgYSBtZXNzYWdlIHJ1bm5pbmdcclxuICAgICAgLy8gIVZBIEZpcnN0LCB3ZSB2YWxpZGF0ZSB0aGF0IHRoZSB1c2VyLWVudGVyZWQgdmFsdWUgaXMgYW4gaW50ZWdlciBhbmQgaWYgc28sIHNldCB0aGUgZXJyb3IgdmFyaWFibGVzLlxyXG4gICAgICBpZiAodmFsaWRhdGVJbnRlZ2VyKHZhbCkpIHtcclxuICAgICAgICAvLyAhVkEgTk9URTogVGhpcyBpcyB3aGVyZSB3ZSBjb3VsZCBlYXNpbHkgdHJhcCB0aGUgbmVnYXRpdmUgYnV0dG9uIGluY3JlbWVudCBpZiBpdCBmYWxscyBiZWxvdyAwIHRvIHNlbmQgYSBkaWZmZXJlbnQgbWVzc2FnZSB0aGFuIGp1c3QgdGhlIHN0YW5kYXJkICdub3RfSW50ZWdlcicgbWVzc2FnZS4gUmV2aXNpdC5cclxuICAgICAgICBhcHBNZXNzQ29kZSA9ICdlcnJfbm90X0ludGVnZXInO1xyXG4gICAgICAgIGlzRXJyID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAhVkEgTm93LCB3ZSBoYW5kbGUgdGhlIGVycm9yIGNhc2VzIGlmIHVzZXIgaGFzIGVudGVyZWQgYSB2YWx1ZSBpbiB0aGUgaW1nVmlld2VyIGZpZWxkIFxyXG4gICAgICAgIHN3aXRjaCAodHJ1ZSkge1xyXG4gICAgICAgIGNhc2UgKHByb3AgPT09ICd2aWV3ZXJXJykgOlxyXG4gICAgICAgICAgLy8gIVZBIFRoZSB1c2VyIGhhcyBzZWxlY3RlZCBhIHZpZXdlclcgdGhhdCdzIHNtYWxsZXIgdGhhbiB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBpbWFnZS4gVW5kZXRlcm1pbmVkIGhvdyB0byBkZWFsIHdpdGggdGhpcyBidXQgZm9yIG5vdyB0aGUgY3VycmVudCBpbWFnZSBpcyBzaHJ1bmsgdG8gdGhlIHNlbGVjdGVkIHZpZXdlclcuIEJ1dCBBcHBkYXRhIGlzIG5vdCB1cGRhdGVkIGFjY29yZGluZ2x5LCBuZWVkcyB0byBiZSBmaXhlZC5cclxuICAgICAgICAgIGlmICh2YWwgPCBBcHBkYXRhLmltZ1cgKSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBEbyBub3RoaW5nIGZvciBub3csIHNlZSBhYm92ZS5cclxuICAgICAgICAgIH0gZWxzZSBpZiAodmFsID4gbWF4Vmlld2VyV2lkdGggKSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBUT0RPOiByZXZpZXcgdGhlIG1heFZpZXdlcldpZHRoIGlzc3VlLCBidXQgZm9yIG5vdyBzZXQgaXQgdG8gODAwcHggLSBhbmQgdGhlIHVzZXItZW50ZXJlZCB2YWx1ZSBleGNlZWRzIHRoaXMsIHNvIGVycm9yLlxyXG4gICAgICAgICAgICBpc0VyciA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcE1lc3NDb2RlID0gJ2Vycl92aWV3ZXJXX0dUX21heFZpZXdlcldpZHRoJztcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vICFWQSBmaXJzdCB3cml0ZSB2YWwgdG8gdGhlIHZpZXdlclcgaW5wdXQncyB2YWx1ZVxyXG4gICAgICAgICAgICAvLyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGR5bmFtaWNSZWdpb25zLmltZ1ZpZXdlcikudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICAgIC8vICFWQSAgVGhlIHZpZXdlclcgaXMgZ3JlYXRlciB0aGFuIHRoZSBpbWdXIHNvIHdlIGNhbiBnbyBhaGVhZCBhbmQgd2lkZW4gdGhlIHZpZXdlclcgd2l0aCBubyBhZmZlY3RvbiB0aGUgY3VycmVudCBpbWFnZSBhbmQgd2l0aG91dCBydW5uaW5nIGNhbGNWaWV3ZXJTaXplLiBTbywgcmV0dXJuIG5vIGVycm9yIGFuZCBjb250aW51ZSBpbiBoYW5kbGVLZXl1cC5cclxuICAgICAgICAgICAgaXNFcnIgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgLy8gIVZBIEhhbmRsZSB0aGUgaW1hZ2V3aWR0aCB0b29sQnV0dG9uIGlucHV0XHJcbiAgICAgICAgY2FzZSAocHJvcCA9PT0gJ2ltZ1cnKSA6XHJcbiAgICAgICAgICAvLyAhVkEgSWYgdGhlIG5ldyBpbWFnZSB3aWR0aCBpcyBncmVhdGVyIHRoYW4gdGhlIHZpZXdlciB3aWR0aCwgdGhlbiBzaG93IG1lc3NhZ2UuIFxyXG4gICAgICAgICAgaWYgKHZhbCA+IEFwcGRhdGEudmlld2VyVyApIHtcclxuICAgICAgICAgICAgLy8gIVZBIGVycm9ySGFuZGxlciFcclxuICAgICAgICAgICAgaXNFcnIgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHBNZXNzQ29kZSA9ICdlcnJfaW1nV19HVF92aWV3ZXJXJztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIC8vICFWQSBUT0RPOiBIYW5kbGUgdGhlIGltYWdlaGVpZ2h0IHRvb2xCdXR0b24gaW5wdXRcclxuICAgICAgICBjYXNlIChwcm9wID09PSAnaW1nSCcpIDpcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBoYW5kbGluZyBmb3IgaW1hZ2VoZWlnaHQgaW5wdXQgbm90IGltcGxlbWVudGVkIScpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgLy8gIVZBIFRPRE86IEhhbmRsZSB0aGUgc21hbGwgcGhvbmUgaW5wdXRcclxuICAgICAgICBjYXNlIChwcm9wID09PSAnc1Bob25lVycpIDpcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBoYW5kbGluZyBmb3IgaXB0VGJyU21hbGxQaG9uZXNXIGlucHV0IG5vdCBpbXBsZW1lbnRlZCEnKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vICFWQSBIYW5kbGUgdGhlIGxhcmdlIHBob25lIGlucHV0XHJcbiAgICAgICAgY2FzZSAocHJvcCA9PT0gJ2xQaG9uZVcnKSA6XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgaGFuZGxpbmcgZm9yIGltYWdld2lkdGggaW5wdXQgbm90IGltcGxlbWVudGVkIScpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IFxyXG5cclxuICAgICAgaWYgKGlzRXJyKSB7XHJcbiAgICAgICAgLy8gIVZBIElGIEVycm9yIHBhc3MgdGhlIGNvZGUgdG8gZXJyb3JIYW5kbGVyIHRvIGdldCB0aGUgZXJyb3IgbWVzc2FnZVxyXG4gICAgICAgIGFwcENvbnRyb2xsZXIuaGFuZGxlQXBwTWVzc2FnZXMoIGFwcE1lc3NDb2RlICk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gIVZBIElmIG5vIGVycm9yLCBwYXNzIGZhbHNlIGJhY2sgdG8gaGFuZGxlS2V5dXAgYW5kIGNvbnRpbnVlLlxyXG4gICAgICAgIGlzRXJyID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGlzRXJyO1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBUT0RPOiBXaHkgYXJlIHRoZXJlIHVudXNlZCB2YXJpYWJsZXMgYW5kIHdoYXQgaXMgYWN0dWFsbHkgaGFwcGVuaW5nIGhlcmU/XHJcbiAgICAvLyAhVkEgYXJncyBpcyB0aGUgdGFyZ2V0LCBwcm9wIGFuZCB2YWwgcGFzc2VkIGluIGZyb20gaGFuZGxlS2V5VXAgYW5kIGhhbmRsZU1vdXNlRXZlbnRzLiBcclxuICAgIGZ1bmN0aW9uIGV2YWxUb29sYmFySW5wdXQoYXJncykge1xyXG4gICAgICAvLyAhVkEgSGVyZSB3ZSBnZXQgdGhlIHRvb2xiYXIgaW5wdXQgZnJvbSBoYW5kbGVLZXlEb3duLCBkZXRlcm1pbmUgd2hpY2ggaW5wdXQgZmllbGQgaXQgd2FzIGVudGVyZWQgaW4sIGFuZCBwYXNzIHRoZSB2YWx1ZSB0byB0aGUgdXBkYXRlQXBwZGF0YS4gTm90ZSB0aGF0IHVudGlsIHVwZGF0ZUFwcGRhdGEgaXMgY2FsbGVkLCBBcHBkYXRhIHN0aWxsIHJldGFpbnMgdGhlIHZhbHVlcyBwcmlvciB0byB0aGUgdXNlciBpbnB1dCBpbiB0aGUgZmllbGRzIHRoYXQgaW5pdGlhdGVkIHRoaXMgYWN0aW9uLlxyXG4gICAgICAvLyAhVkEgSW5pdGlhbGl6ZSB2YXJzIGZvciBpbWdIIGFuZCBpbWdXIHNpbmNlIHdlIG5lZWQgdG8gY2FsY3VsYXRlIG9uZSBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIG90aGVyIGFuZCBBcHBkYXRhLmFzcGVjdC4gQWxzbyBpbml0aWFsaXplIGFyZzEgYW5kIGFyZzIgd2hpY2ggd2lsbCBiZSBwYXNzZWQgdG8gdXBkYXRlQXBwZGF0YVxyXG4gICAgICBsZXQgaW1nSCwgaW1nVywgYXJnMSwgYXJnMjtcclxuICAgICAgLy8gIVZBIEdldCBBcHBkYXRhIHByb3BlcnRpZXMuIEFsbCB3ZSByZWFsbHkgbmVlZCBoZXJlIGlzIEFwcGRhdGEuYXNwZWN0LiBFdmVyeXRoaW5nIGVsc2UgaXMgY2FsY3VsYXRlZCBiYXNlZCBvbiB0aGUgdXNlcidzIGlucHV0LlxyXG4gICAgICBsZXQgQXBwZGF0YSA9IHt9O1xyXG4gICAgICBBcHBkYXRhID0gYXBwQ29udHJvbGxlci5pbml0R2V0QXBwZGF0YSgpO1xyXG4gICAgICAvLyAhVkEgVE9ETzogVGFyZ2V0IGlzbid0IHJlYWQgaW4gdGhpcyBmdW5jdGlvbi4gRXZhbHVhdGUgd2hldGhlciBpdCBuZWVkcyB0byBiZSBwYXNzZWQgaW4gIGZyb20gdGhlIGNhbGxlciAoaGFuZGxlS2V5RG93biwgaGFuZGxlTW91c2VFdmVudHMpXHJcbiAgICAgIC8vICFWQSBFUzYgRGVzdHJ1Y3R1cmUgYXJncyBpbnRvIGNvbnN0YW50cy5cclxuICAgICAgY29uc3QgeyB0YXJnZXQsIHByb3AsIHZhbCB9ID0gYXJncztcclxuXHJcbiAgICAgIHN3aXRjaCh0cnVlKSB7XHJcbiAgICAgIC8vICFWQSBJZiB0aGUgdmFsdWUgd2FzIGVudGVyZWQgaW4gdGhlIGltZ1ZpZXdlciBmaWVsZCwganVzdCBwYXNzIHByb3AgYW5kIHZhbCB0aHJvdWdoIHRvIHVwZGF0ZUFwcGRhdGEuXHJcbiAgICAgIGNhc2UgKHByb3AgPT09ICd2aWV3ZXJXJykgOlxyXG4gICAgICAgIGFyZzEgPSBbIHByb3AsIHZhbCBdO1xyXG4gICAgICAgIGFyZzIgPSAnJztcclxuICAgICAgICBicmVhazsgICAgICAgICAgXHJcbiAgICAgIGNhc2UgKHByb3AgPT09ICdpbWdXJykgOlxyXG4gICAgICAgIC8vICFWQSBJZiB0aGUgdmFsdWUgd2FzIGVudGVyZWQgaW4gaW1nd2lkdGgsIGNhbGMgaW1nSCBiYXNlZCBvbiB2YWwgYW5kIGFzcGVjdC4gVGhlbiBwdXQgcHJvcCBhbmQgdmFsIGluIGFyZzEsIGFuZCBwdXQgdGhlIGltZ0ggcHJvcGVydHkgbmFtZSBhbmQgdGhlIGNhbGN1bGF0ZWQgaW1nSCBpbnRvIGFyZzIuIFRoZXNlIHdpbGwgYmUgcGFzc2VkIG9uIGF2aWEgdGhlIHNwcmVhZCBvcGVyYXRvciB0byB1cGRhdGVBcHBkYXRhLiBcclxuICAgICAgICBpbWdIID0gIHZhbCAqICgxIC8gQXBwZGF0YS5hc3BlY3RbMF0pO1xyXG4gICAgICAgIC8vIHVwZGF0ZUFwcGRhdGEocHJvcCwgdmFsKTsgXHJcbiAgICAgICAgYXJnMSA9IFsgcHJvcCwgdmFsIF07XHJcbiAgICAgICAgYXJnMiA9IFsgJ2ltZ0gnLCBpbWdIIF07XHJcbiAgICAgICAgLy8gdXBkYXRlQXBwZGF0YSgnaW1nSCcsIGltZ0gpOyBcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAocHJvcCA9PT0gJ2ltZ0gnKSA6XHJcbiAgICAgICAgLy8gIVZBIElmIHRoZSB2YWx1ZSB3YXMgZW50ZXJlZCBpbiBpbWdoZWlnaHQsIGNhbGMgaW1nVyBiYXNlZCBvbiB2YWwgYW5kIGFzcGVjdC4gVGhlbiBwdXQgcHJvcCBhbmQgdmFsIGluIGFyZzEsIGFuZCBwdXQgdGhlIGltZ1cgcHJvcGVydHkgbmFtZSBhbmQgdGhlIGNhbGN1bGF0ZWQgaW1nVyBpbnRvIGFyZzIuIFRoZXNlIHdpbGwgYmUgcGFzc2VkIG9uIHZpYSB0aGUgRVM2IHNwcmVhZCBvcGVyYXRvciB0byB1cGRhdGVBcHBkYXRhLlxyXG4gICAgICAgIGltZ1cgPSAgdmFsICogKEFwcGRhdGEuYXNwZWN0WzBdKTtcclxuICAgICAgICBhcmcxID0gWyBwcm9wLCB2YWwgXVxyXG4gICAgICAgIGFyZzIgPSBbICdpbWdXJywgaW1nVyBdIFxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIChwcm9wID09PSAnc1Bob25lc1cnIHx8IHByb3AgPT09ICdsUGhvbmVzVycpIDpcclxuICAgICAgICAvLyBzUGhvbmVzSCA9ICB2YWwgKiAoMSAvIEFwcGRhdGEuYXNwZWN0WzBdKTtcclxuICAgICAgICBhcmcxID0gW3Byb3AsIHZhbF07XHJcbiAgICAgICAgYXJnMiA9ICcnO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyAhVkEgQ2FsbCB1cGRhdGVBcHBkYXRhIHRvIHJlc2l6ZSB0aGUgRE9NIGVsZW1lbnRzIGFuZCBkYXRhIHByb3BlcnRpZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBBcHBkYXRhIHByb3BlcnRpZXMgYWJvdmUuXHJcbiAgICAgIC8vICFWQSBJTVBPUlRBTlQgLS0gdGhlc2UgYXJncyBhcmVuJ3QgdXNlZC4uLj8/P1xyXG4gICAgICB1cGRhdGVBcHBkYXRhKCBhcmcxLCBhcmcyICk7XHJcbiAgICAgIC8vICFWQSBPbmNlIHRob3NlIERPTSBwcm9wZXJ0aWVzIGFuZCBkYXRhIHByb3BlcnRpZXMgaGF2ZSBiZWVuIHVwZGF0ZWQsIHJlY2FsY3VsYXRlIHRoZSBpbWFnZSdzIGNvbnRhaW5lcnMuXHJcbiAgICAgIGNhbGNWaWV3ZXJTaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHJpdmF0ZVxyXG4gICAgZnVuY3Rpb24gdXBkYXRlQXBwZGF0YSggLi4ucGFyYW1zICkge1xyXG4gICAgICBjb25zb2xlLmxvZygndXBkYXRlQXBwZGF0YSBydW5uaW5nJyk7XHJcbiAgICAgIGxldCBwcm9wLCB2YWw7XHJcbiAgICAgIC8vICFWQSBFYWNoIHBhcmFtIHBhaXIgaXMgYSBwcm9wZXJ0eSBuYW1lIHByb3AgYW5kIGEgdmFsdWUgdmFsLiBldmFsVG9vbGJhcklucHV0IHBhc3NlcyBpbiBvbmUgb3IgbW9yZSBzdWNoIHBhaXJzIHdob3NlIGNvcnJlc3BvbmRpbmcgQXBwZGF0YSBET00gZWxlbWVudC9kYXRhIGF0dHJpYnV0ZSBoYXMgdG8gYmUgdXBkYXRlZC4gU28sIGxvb3AgdGhyb3VnaCB0aGUgYXJndW1lbnQgYXJyYXlzIGFuZCB1cGRhdGUgdGhlIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnRzXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgcHJvcCA9IHBhcmFtc1tpXVswXTtcclxuICAgICAgICB2YWwgPSBwYXJhbXNbaV1bMV07XHJcbiAgICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgICBjYXNlICghcHJvcCkgOlxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ25vIHByb3AnKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgcHJvcCA9PT0gJ3ZpZXdlclcnIDpcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuaW1nVmlld2VyKS5zdHlsZS53aWR0aCA9IHZhbCArICdweCc7IFxyXG4gICAgICAgICAgLy8gIVZBIFdyaXRlIHRoZSBpbWdWaWV3ZXIgdmFsdWUgdG8gbG9jYWxTdG9yYWdlLiBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCd3cml0aW5nIExTJyk7XHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndmlld2VyVycsIHZhbCk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnU2V0dGluZyBsb2NhbFN0b3JhZ2Ugdmlld2VyVycpO1xyXG4gICAgICAgICAgLy8gdmFyIGZvbyA9IGFwcENvbnRyb2xsZXIuZ2V0TG9jYWxTdG9yYWdlKCk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZm9vIGlzOiAnICsgZm9vKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgcHJvcCA9PT0gJ2ltZ1cnIDpcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuY3VySW1nKS5zdHlsZS53aWR0aCA9IHZhbCArICdweCc7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIHByb3AgPT09ICdpbWdIJyA6XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGR5bmFtaWNSZWdpb25zLmN1ckltZykuc3R5bGUuaGVpZ2h0ID0gdmFsICsgJ3B4JztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgcHJvcCA9PT0gJ3NQaG9uZXNXJyA6XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRvb2xiYXJFbGVtZW50cy5pcHRUYnJTUGhvbmVzV2lkdGgpLnNldEF0dHJpYnV0ZSgnZGF0YS1zcGhvbmVzdycsIHZhbCk7XHJcbiAgICAgICAgICAvLyAhVkEgV3JpdGUgdGhlIHNQaG9uZXNXIHZhbHVlIHRvIGxvY2FsU3RvcmFnZS4gXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc1Bob25lc1cnLCB2YWwpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBwcm9wID09PSAnbFBob25lc1cnIDpcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodG9vbGJhckVsZW1lbnRzLmlwdFRickxQaG9uZXNXaWR0aCkuc2V0QXR0cmlidXRlKCdkYXRhLWxwaG9uZXN3JywgdmFsKTtcclxuICAgICAgICAgIC8vICFWQSBXcml0ZSB0aGUgbFBob25lc1cgdmFsdWUgdG8gbG9jYWxTdG9yYWdlLiBcclxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsUGhvbmVzVycsIHZhbCk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gbGV0IEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKGZhbHNlKTtcclxuICAgICAgLy8gY29uc29sZS5kaXIoQXBwZGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBICBhcHBDb250cm9sbGVyIHByaXZhdGUgXHJcbiAgICAvLyAhVkEgUFJPQkxFTTogdGhpcyBpcyBvbmx5IGdvb2QgZm9yIGluaXRpYWxpemluZyBiZWNhdXNlIGl0IGNhbGN1bGF0ZXMgdGhlIHZpZXdlciBzaXplIGJhc2VkIG9uIE5XIGFuZCBOSC4gT24gdXNlciBpbnB1dCwgaXQgaGFzIHRvIGNhbGN1bGF0ZSBiYXNlZCBvbiBpbWdXIGFuZCBpbWdILiBJJ20gbm90IHN1cmUgd2hhdCB0aGF0IG1lYW5zIGFueW1vcmUgMDUuMTEuMjBcclxuICAgIGZ1bmN0aW9uIGNhbGNWaWV3ZXJTaXplKCkge1xyXG4gICAgICBsZXQgQXBwZGF0YSA9IHt9O1xyXG4gICAgICBsZXQgdmlld2VyVywgdmlld2VySCwgY29tcFN0eWxlczsgXHJcbiAgICAgIGxldCBjdXJMb2NhbFN0b3JhZ2U7XHJcbiAgICAgIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKGZhbHNlKTtcclxuICAgICAgLy8gIVZBIFVzaW5nIHRoZSBjdXJyZW50IGltYWdlIGRpbWVuc2lvbnMgaW4gQXBwZGF0YSwgY2FsY3VsYXRlIHRoZSBjdXJyZW50IHNpemUgb2YgaW1nVmlld2VyIHNvIGl0IGFkanVzdHMgdG8gdGhlIGN1cnJlbnQgaW1hZ2Ugc2l6ZS4gXHJcbiAgICAgIC8vICFWQSAgR2V0IHRoZSBhY3R1YWwgdmlld2VyVyBhbmQgdmlld2VySCBDU1MgdmFsdWVzIGZyb20gZ2V0Q29tcHV0ZWRTdHlsZVxyXG4gICAgICBjb21wU3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkeW5hbWljUmVnaW9ucy5pbWdWaWV3ZXIpKTtcclxuXHJcbiAgICAgIC8vICFWQSBTZXQgdGhlIHZpZXdlclcgdmFsdWUgYmFzZWQgb24gbG9jYWxTdG9yYWdlICBJZiB0aGUgdXNlciBoYXMgc2V0IHRoaXMgdmFsdWUgaW4gdGhlIHRvb2xiYXIgYmVmb3JlLCB0aGVuIHF1ZXJpZWQgZnJvbSBsb2NhbFN0b3JhZ2UuIFRoYXQgdmFsdWUgcGVyc2lzdHMgYmV0d2VlbiBzZXNzaW9ucy4gSWYgdGhpcyBpcyB0aGUgaW5pdGlhbCB1c2Ugb2YgdGhlIGFwcCwgdGhlbiB2aWV3ZXJXIGlzIHF1ZXJpZWQgZnJvbSB0aGUgQ1NTIHZhbHVlLiBcclxuICAgICAgY3VyTG9jYWxTdG9yYWdlID0gYXBwQ29udHJvbGxlci5nZXRMb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgaWYgKGN1ckxvY2FsU3RvcmFnZVswXSkge1xyXG4gICAgICAgIC8vICFWQSBTZXQgaW1nVmlld2VyIGFuZCB2aWV3ZXJXIHRvIHRoZSBsb2NhbFN0b3JhZ2UgdmFsdWVcclxuICAgICAgICB2aWV3ZXJXID0gY3VyTG9jYWxTdG9yYWdlWzBdO1xyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuaW1nVmlld2VyKS5zdHlsZS53aWR0aCA9IGN1ckxvY2FsU3RvcmFnZVswXSArICdweCc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gIVZBIElmIG5vIGxvY2FsU3RvcmFnZSBpcyBzZXQsIHVzZSB0aGUgQ1NTIHZhbHVlLlxyXG4gICAgICAgIHZpZXdlclcgPSBwYXJzZUludChjb21wU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ3dpZHRoJyksIDEwKTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgSW4gZWl0aGVyIGNhc2UsIHVzZSB0aGUgQ1NTIHZhbHVlIGZvciBoZWlnaHQsIHVubGVzcyB0aGUgaGVpZ2h0IG9mIHRoZSBsb2FkZWQgaW1hZ2UgaXMgZ3JlYXRlciB0aGFuIHRoZSBDU1MgdmFsdWUuXHJcbiAgICAgIHZpZXdlckggPSBwYXJzZUludChjb21wU3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2hlaWdodCcpLCAxMCk7XHJcbiAgICAgIC8vICFWQSBCcmFuY2g6IGltcGxlbWVudFBob25lc0xvY2FsU3RvcmFnZSAoMDUwOTIwKSBEb24ndCBldmVuIGtub3cgaWYgSSBoYXZlIHRvIGRvIHRoaXMgaGVyZVxyXG5cclxuICAgICAgLy8gIVZBIElmIHdlJ3JlIGluaXRpYWxpemluZyBhIG5ldyBpbWFnZSwgdXNlIHRoZSBuYXR1cmFsV2lkdGggYW5kIG5hdHVyYWxIZWlnaHQuIElmIHdlJ3JlIHVwZGF0aW5nIHZpYSB1c2VyIGlucHV0LCB3ZSBuZWVkIHRvIHVzZSB0aGUgZGlzcGxheSBpbWFnZSBhbmQgaGVpZ2h0LCBpbWdXIGFuZCBpbWdILiBJZiB3ZSdyZSBpbml0aWFsaXppbmcsIHRoZW4gQXBwZGF0YS5pbWdXIGFuZCBBcHBkYXRhLmltZ0ggd2lsbCBiZSAwIG9yIGZhbHN5IGJlY2F1c2UgaXQgaGFzbid0IGJlZW4gcmVzaXplZCB5ZXQuIFNvIHdlIG5lZWQgdG8gbWFrZSB0aGUgZm9sbG93aW5nIGRlY2lzaW9uIGJhc2VkIG9uIHRoZSBfYWN0dWFsXyBpbWFnZSB3aWR0aCBhbmQgaGVpZ2h0LCB3aGljaCB3aWxsIGJlIGRpZmZlcmVudCBiYXNlZCBvbiB3aGV0aGVyIHdlJ3JlIGluaXRpYWxpemluZyBvciB1cGRhdGluZy5cclxuICAgICAgLy8gIVZBIEkgdGhvdWdodCBJIGZpeGVkIHRoaXMuLi5pdCBhcHBlYXJzIHRvIG9ubHkgYXBwbHkgdG8gZGV2IG1vZGUuXHJcbiAgICAgIHZhciBhY3R1YWxXLCBhY3R1YWxIO1xyXG4gICAgICBpZiAoQXBwZGF0YS5pbWdXID09PSAwKSB7XHJcbiAgICAgICAgYWN0dWFsVyA9IEFwcGRhdGEuaW1nTlc7XHJcbiAgICAgICAgYWN0dWFsSCA9IEFwcGRhdGEuaW1nTkg7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0dWFsVyA9IEFwcGRhdGEuaW1nVztcclxuICAgICAgICBhY3R1YWxIID0gQXBwZGF0YS5pbWdIOyBcclxuICAgICAgfVxyXG5cclxuICAgICAgc3dpdGNoKHRydWUpIHtcclxuICAgICAgLy8gVGhlIGltYWdlIGZhbGxzIHdpdGhpbiB0aGUgZGVmYXVsdCB2aWV3ZXIgZGltZW5zaW9ucyBzZXQgaW4gaW5pdEFwcCwgc28gZG8gbm90aGluZy5cclxuICAgICAgLy8gIVZBIFRoaXMgY2FzZSBpcyBpcnJlbGV2YW50IHNpbmNlIHdlJ3JlIG5vdyBjb21wYXJpbmcgZXZlcnl0aGluZyB0byBtYXhWaWV3ZXJXaWR0aCBub3QgdGhlICBpbml0IHZhbHVlcy4gQ2hhbmdlIGFjY29yZGluZ2x5Li4uXHJcbiAgICAgIC8vICFWQSAgTk9UIFNPLi4ubm93IHdlJ3JlIHRyeWluZyB0byByZXN0b3JlIHRoZSBwcmV2aW91cyBmdW5jdGlvbmFsaXR5IHNvLi4uXHJcbiAgICAgIGNhc2UgKGFjdHVhbFcgPD0gdmlld2VyVykgJiYgKEFwcGRhdGEuaW1nTkggPCB2aWV3ZXJIKSA6XHJcbiAgICAgICAgYWN0dWFsVyA9IEFwcGRhdGEuaW1nTlc7XHJcbiAgICAgICAgYWN0dWFsSCA9IEFwcGRhdGEuaW1nTkg7XHJcbiAgICAgICAgLy8gIVZBIHZpZXdlckggaXMgc2V0IGluIGluaXRBcHAsIHNvIG5vIGNoYW5nZSB0byBpdCBoZXJlXHJcbiAgICAgICAgLy8gIVZBIHZpZXdlckggaXMgc2V0IGluIGluaXRhcHAsIHNvIG5vIGNoYW5nZSB0byB0aGF0IGhlcmUgZWl0aGVyLlxyXG4gICAgICAgIC8vICFWQSBXZSBkb24ndCBuZWVkIHRvIGFkanVzdCBoZWlnaHQuLi5idXQgbWF5YmUgd2UgZG8gZm9yIGNvbnNpc3RlbmN5J3Mgc2FrZVxyXG4gICAgICAgIC8vIHRoaXMuYWRqdXN0Q29udGFpbmVySGVpZ2h0cyhBcHBkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIC8vIFRoZSBpbWFnZSBpcyB3aWRlciB0aGFuIHRoZSBjdXJyZW50IHZpZXdlciB3aWR0aCBidXQgc2hvcnRlciB0aGFuIGN1cnJlbnQgdmlld2VyIGhlaWdodCwgc28gcmVzaXplIHRoZSBpbWFnZSBiYXNlZCBvbiB0aGUgdmlld2VyIHdpZHRoXHJcbiAgICAgIFxyXG4gICAgICBjYXNlIChhY3R1YWxXID4gdmlld2VyVykgJiYgKGFjdHVhbEggPCB2aWV3ZXJIKSA6XHJcbiAgICAgICAgLy8gU2V0IHRoZSBpbWFnZSB3aWR0aCB0byB0aGUgY3VycmVudCB2aWV3ZXJcclxuICAgICAgICBBcHBkYXRhLmltZ1cgPSB2aWV3ZXJXO1xyXG4gICAgICAgIC8vIEdldCB0aGUgaW1hZ2UgaGVpZ2h0IGZyb20gdGhlIGFzcGVjdCByYXRpb24gZnVuY3Rpb25cclxuICAgICAgICBBcHBkYXRhLmltZ0ggPSBNYXRoLnJvdW5kKCgxL0FwcGRhdGEuYXNwZWN0WzBdKSAqIEFwcGRhdGEuaW1nVyk7XHJcbiAgICAgICAgLy8gU2V0IHRoZSB2aWV3ZXJIIHRvIHRoZSBpbWdIXHJcbiAgICAgICAgdmlld2VySCA9IEFwcGRhdGEuaW1nSDtcclxuICAgICAgICAvLyB0aGlzLmFkanVzdENvbnRhaW5lckhlaWdodHMoQXBwZGF0YSk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAvLyBUaGUgaW1hZ2UgaXMgbm90IGFzIHdpZGUgYXMgdGhlIGN1cnJlbnQgdmlld2VyIHdpZHRoLCBidXQgaXMgdGFsbGVyIHRoYW4gdGhlIHZpZXdlciBoZWlnaHQuIEtlZXAgdGhlIGltYWdlIHdpZHRoIGJ1dCByZXNpemUgdGhlIHZpZXdlciBpbiBvcmRlciB0byBkaXNwbGF5IHRoZSBmdWxsIGltYWdlIGhlaWdodFxyXG4gICAgICAvLyAhVkEgVGhpcyBtaWdodCBiZSBhIHByb2JsZW0gd2l0aCBjb25zZWN1dGl2ZSBpbWFnZXMgd2l0aG91dCBwYWdlIHJlZnJlc2hcclxuICAgICAgY2FzZSAoYWN0dWFsVyA8PSB2aWV3ZXJXKSAmJiAoYWN0dWFsSCA+IHZpZXdlckgpIDpcclxuICAgICAgICAvLyBTZXQgdGhlIHZpZXdlciBoZWlnaHQgYW5kIHRoZSBpbWFnZSBoZWlnaHQgdG8gdGhlIGltYWdlIG5hdHVyYWwgaGVpZ2h0XHJcbiAgICAgICAgdmlld2VySCA9IEFwcGRhdGEuaW1nSCA9IEFwcGRhdGEuaW1nTkg7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBpbWFnZSB3aWR0aCB0byB0aGUgbmF0dXJhbCBpbWFnZSB3aWR0aFxyXG4gICAgICAgIEFwcGRhdGEuaW1nVyA9IEFwcGRhdGEuaW1nTlc7XHJcblxyXG4gICAgICAgIC8vICFWQSAgVXNlIGFkanVzdENvbnRhaW5lckhlaWdodHMgdG8gZ2V0IHRoZSBBcHBkYXRhIGhlaWdodFxyXG4gICAgICAgIC8vICFWQSAgTm90ZSB0aGUgZGVwZW5kZW5jeSB3aXRoIGluaXRBcHBkYXRhLCBzZWUgJ0RlcGVuZGVuY3kgd2l0aCBhZGp1c3RDb250YWluZXJIZWlnaHRzJ1xyXG4gICAgICAgIC8vIHRoaXMuYWRqdXN0Q29udGFpbmVySGVpZ2h0cyhBcHBkYXRhKTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIC8vIFRoZSBpbWFnZSBpcyB3aWRlciBhbmQgdGFsbGVyIHRoYW4gdGhlIGN1cnJlbnQgdmlld2VyIGhlaWdodCBhbmQgd2lkdGggc28gd2UgaGF2ZSB0byByZXNpemUgdGhlIGltYWdlIGFuZCB0aGUgdmlld3BvcnQgYmFzZWQgb24gdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lkdGhcclxuICAgICAgY2FzZSAoYWN0dWFsVyA+IHZpZXdlclcpICYmIChhY3R1YWxIID4gdmlld2VySCkgOlxyXG4gICAgICAgIC8vIFNldCB0aGUgaW1hZ2UgV2lkdGggdG8gdGhlIGN1cnJlbnQgIHZpZXdlciB3aWR0aCBcclxuICAgICAgICBBcHBkYXRhLmltZ1cgPSB2aWV3ZXJXO1xyXG4gICAgICAgIC8vIFNldCB0aGUgaW1hZ2UgaGVpZ2h0IHByb3BvcnRpb25hbCB0byB0aGUgbmV3IGltYWdlIHdpZHRoIHVzaW5nIHRoZSBhc3BlY3QgcmF0aW8gZnVuY3Rpb25cclxuICAgICAgICBBcHBkYXRhLmltZ0ggPSBNYXRoLnJvdW5kKCgxL0FwcGRhdGEuYXNwZWN0WzBdKSAqIEFwcGRhdGEuaW1nVyk7XHJcbiAgICAgICAgLy8gU2V0IHRoZSB2aWV3ZXIgaGVpZ2h0IHRvIHRoZSBpbWFnZSBoZWlnaHRcclxuICAgICAgICB2aWV3ZXJIID0gQXBwZGF0YS5pbWdIO1xyXG4gICAgICAgIC8vIEdldCB0aGUgdmlld3BvcnQgYW5kIEFwcGRhdGEgaGVpZ2h0IGZyb20gYWRqdXN0Q29udGFpbmVySGVpZ2h0c1xyXG5cclxuICAgICAgICAvLyAhVkEgVE9ETzogQ2hlY2sgdGhpcyBvdXQsIGRvZXNuJ3Qgc2VlbSB0byBiZSBhIHByb2JsZW0gYW55bW9yZTogQlVHIFByb2JsZW0gd2l0aCB0aGUgODAwWDU1MCwgODAwWDYwMCAtLSBubyB0b3AvYm90dG9tIGd1dHRlciBvbiB2aWV3cG9ydFxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIC8vICFWQSBUcmFuc2ZlciBjb250cm9sIHRvIFVJQ29udHJvbGxlciB0byBwcmludCBJbnNwZWN0b3IgdG8gdGhlIFVJXHJcbiAgICAgIHJlc2l6ZUNvbnRhaW5lcnModmlld2VySCwgQXBwZGF0YS5pbWdXLCBBcHBkYXRhLmltZ0ggKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgYXBwQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICBmdW5jdGlvbiByZXNpemVDb250YWluZXJzKHZpZXdlckgsIGltZ1csIGltZ0gpICB7XHJcbiAgICAgIC8vICFWQSBUaGlzIGNhbGN1bGF0ZXMgdGhlIGltZ1ZpZXdlciwgaW1nVmlld3BvcnQgYW5kIGFwcENvbnRhaW5lciBoZWlnaHQgYmFzZWQgb24gQXBwZGF0YSB2YWx1ZXMgd2hpY2ggYXJlIHBhc3NlZCBpbiBmcm9tIHJlc2l6ZUNvbnRhaW5lcnMuXHJcbiAgICAgIC8vICFWQSBJbml0aWFsIGhlaWdodCBpcyA0NTAsIGFzIGl0IGlzIGRlZmluZWQgaW4gdGhlIENTUy4gVE9vIG11Y2ggaGFzc2xlIHRvIHRyeSBhbmQgZ2V0IHRoZSB2YWx1ZSBhcyBkZWZpbmVkIGluIHRoZSBDU1MgcHJvZ3JhbW1hdGljYWxseS5cclxuICAgICAgLy8gY29uc3QgaW5pdFZpZXdlckg9IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuaW1nVmlld2VyKS5oZWlnaHQsIDEwKTtcclxuICAgICAgY29uc3QgaW5pdFZpZXdlckggPSA0NTA7XHJcbiAgICAgIGxldCB2aWV3cG9ydEg7XHJcbiAgICAgIGxldCBhcHBIOyBcclxuXHJcbiAgICAgIC8vICFWQSBJJ20gbm90IGV2ZW4gc3VyZSB0aGlzIGlzIG5lY2Vzc2FyeSBzaW5jZSB3ZSdyZSBnZXR0aW5nIHRoZSB2aWV3ZXJXIGZyb20gbWF4Vmlld2VySGVpZ2h0IG5vdyAtLSBidXQgd2UnbGwgbGVhdmUgaXQgaW4gaGVyZSBmb3IgdGhlIHRpbWUgYmVpbmcuIFxyXG4gICAgICAvLyAhVkEgVGhlIHZpZXdwb3J0IGlzIDE0NXB4IHRhbGxlciB0aGFuIHRoZSBpbWdWaWV3ZXIuIFxyXG4gICAgICBpZiAoaW1nSCA8PSBpbml0Vmlld2VySCkge1xyXG4gICAgICAgIHZpZXdlckggPSBpbml0Vmlld2VySDtcclxuICAgICAgICB2aWV3cG9ydEggPSB2aWV3ZXJIICsgMTQ1O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIE5lZWQgYSBsaXR0bGUgYnVmZmVyIGluIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgIHZpZXdlckggPSBpbWdIO1xyXG4gICAgICAgIHZpZXdwb3J0SCA9IGltZ0ggKyAxNDU7XHJcbiAgICAgIH0gXHJcbiAgICAgIGFwcEggPSB2aWV3cG9ydEg7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuY3VySW1nKS5zdHlsZS53aWR0aCA9IGltZ1cgKyAncHgnO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGR5bmFtaWNSZWdpb25zLmN1ckltZykuc3R5bGUuaGVpZ2h0ID1pbWdIICsgJ3B4JztcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkeW5hbWljUmVnaW9ucy5pbWdWaWV3ZXIpLnN0eWxlLmhlaWdodCA9IHZpZXdlckggKyAncHgnO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGR5bmFtaWNSZWdpb25zLmltZ1ZpZXdwb3J0KS5zdHlsZS5oZWlnaHQgPSB2aWV3cG9ydEggKyAncHgnO1xyXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGR5bmFtaWNSZWdpb25zLmFwcENvbnRhaW5lcikuc3R5bGUuaGVpZ2h0ID0gYXBwSCArICdweCc7O1xyXG4gICAgICAvLyAhVkEgTm93IHRoYXQgdGhlIGltYWdlIGFuZCBpdHMgY29udGFpbmVycyBhcmUgd3JpdHRlbiB0byB0aGUgRE9NLCBnbyBhaGVhZCBhbmQgd3JpdGUgdGhlIEluc3BlY3RvcnMuXHJcbiAgICAgIFVJQ3RybC53cml0ZUluc3BlY3RvcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgTk9URTogIFNvIHRoaXMgd2FzIHRoZSBjb25jZXB0IC0gdG8gaGF2ZSB0aGUgaW1hZ2UgaXRzZWxmIGJlIHRoZSBkYXRhIHN0b3JlLCBub3Qgc29tZSBvYmplY3QuIEluc3RlYWQgb2YgdXBkYXRpbmcgdGhlIGRhdGEgc3RvcmUgYW5kIHdyaXRpbmcgdGhlIFVJIGZyb20gdGhhdCwgeW91IHVwZGF0ZSB0aGUgY29yZSBVSSBlbGVtZW50LCB0aGVuIHJlY2FsY3VsYXRlIHRoZSBkYXRhIHN0b3JlIGVhY2ggdGltZSBpdCBjaGFuZ2VzLiBIZXJlLCB0aGVyZSBhcmUgNSBtdXRhYmxlIGVsZW1lbnRzIGFuZCA1IHByb3BlcnRpZXMuIE9ubHkgb25lIG9mIHRoZSBwcm9wZXJ0aWVzIGhhcyBjaGFuZ2VkLiBTbyB3ZSBsb29wIHRocm91Z2ggdGhlbSBhbGwsIGZpbmQgdGhlIG1hdGNoIGZvciB0aGUgcHJvcCBhcmd1bWVudCwgdGhlbiB1cGRhdGUgb25seSB0aGUgZWxlbWVudC9kYXRhIHByb3BlcnR5IHRoYXQgbWF0Y2hlcy4gVGhpcyBpcyBhIG1pY2tleS1tb3VzZSBzb2x1dGlvbiBidXQgaXQgd29ya3MgZm9yIG5vdy4gSWRlYWxseSB3ZSB3aWxsIHBhc3MgaW4gYSBrZXkvdmFsdWUgcGFpciBpbmNsdWRpbmcgdGhlIHByb3BlcnR5IG5hbWUgYW5kIHRoZSBJRCBhbGlhcyBzbyB3ZSBjYW4gdXNlIHByb3BlcnRpZXMuLi4gaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZS4gXHJcbiAgICAvLyAhVkEgVGhhdCBjb25jZXB0IGlzIGJhZCBiZWNhdXNlIGl0IHJlcXVpcmVzIGNvbnN0YW50IERPTSBhY2Nlc3MgMDUuMTEuMjBcclxuXHJcblxyXG4gICAgLy8gIVZBIENDUCBGVU5DVElPTlNcclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGUgXHJcbiAgICBmdW5jdGlvbiBpbml0Q0NQKCkge1xyXG4gICAgICAvLyAhVkEgR2V0IEFwcGRhdGFcclxuICAgICAgdmFyIEFwcGRhdGEgPSBhcHBDb250cm9sbGVyLmluaXRHZXRBcHBkYXRhKCk7XHJcbiAgICAgIGxldCBjY3BDaGVja21hcmtzLCBjY3BDaGVja2JveGVzLCB3cmFwcGVySXRlbXNUb0hpZGUsIHNlbGVjdGVkUmFkaW87XHJcbiAgICAgIC8vICFWQSBUaGUgYXBwIGluaXRpYWxpemVzIHdpdGggdGhlIENDUCBjbG9zZWQsIHNvIHRvZ2dsZSBpdCBvbiBhbmQgb2ZmIGhlcmUuXHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3RhdGljUmVnaW9ucy5jY3BDb250YWluZXIpLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xyXG4gICAgICAvLyAhVkEgSWYgdGhlIENDUCBpcyBvcGVuOlxyXG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzdGF0aWNSZWdpb25zLmNjcENvbnRhaW5lcikuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xyXG4gICAgICAgIC8vICFWQSBXZSBoYXZlIHRvIGluaXRpYWxpemUgQ0NQIERPTSBlbGVtZW50cyBoZXJlIGJlY2F1c2UgdGhleSBkb24ndCBleGlzdCB1bnRpbCB0aGUgQ0NQIGlzIGRpc3BsYXllZC5cclxuXHJcbiAgICAgICAgLy8gIVZBIENDUCBDaGVja2JveGVzIC0gdGhlc2UgYXJlIG1vY2sgY2hlY2tib3hlcyB3aXRoIGN1c3RvbSBzdHlsaW5nLCBzbyB0aGUgSUQgbmFtZXMgaGF2ZSB0byBiZSBjb252ZXJ0ZWQgdG8gY2hlY2tib3ggbmFtZXMgaW4gb3JkZXIgdG8gc2VsZWN0IG9yIGRlc2VsZWN0IHRoZW0uIFdlIGF0dGFjaCB0aGUgZXZlbnQgaGFuZGxlciB0byB0aGUgY2hlY2ttYXJrLCBub3QgdGhlIGNoZWNrYm94LiBUaGUgY2hlY2ttYXJrIGlzIGNvbnZlcnRlZCB0byBjaGVja2JveCBmb3IgaGFuZGxpbmcgaW4gdG9nZ2xlQ2hlY2tib3guXHJcbiAgICAgICAgY2NwQ2hlY2ttYXJrcyA9IFsgY2NwVXNlcklucHV0LnNwbkNjcEltZ0luY2x1ZGVXaWR0aEhlaWdodENoZWNrbXJrLCBjY3BVc2VySW5wdXQuc3BuQ2NwSW1nSW5jbHVkZUFuY2hvckNoZWNrbXJrLCBjY3BVc2VySW5wdXQuc3BuQ2NwVGFibGVJbmNsdWRlV3JhcHBlckNoZWNrbXJrIF07XHJcbiAgICAgICAgY2NwQ2hlY2tib3hlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2NwQ2hlY2ttYXJrcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BDaGVja21hcmtzW2ldKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNDUElucHV0LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAhVkEgSW5pdGlhbGl6ZSB3aXRoIGFsbCB0aGUgJ1dyYXBwZXIgdGFibGUnIG9wdGlvbnMgdW5kaXNwbGF5ZWQgLSB1bmNvbW1lbnQgdGhpcyBmb3IgREVWXHJcbiAgICAgICAgbGV0IHdyYXBwZXJJdGVtc1RvSGlkZSA9IFsnI2NjcC10YWJsZS13cmFwcGVyLWNsYXNzJywgJyNjY3AtdGFibGUtd3JhcHBlci13aWR0aCcsICcjY2NwLXRhYmxlLXdyYXBwZXItYWxpZ24nLCAnI2NjcC10YWJsZS13cmFwcGVyLWJnY29sb3InIF07IFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd3JhcHBlckl0ZW1zVG9IaWRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHdyYXBwZXJJdGVtc1RvSGlkZVtpXSkuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAhVkEgRmluZCBvdXQgd2hpY2ggdGRvcHRpb24gaXMgc2VsZWN0ZWQgYW5kIHNlbmQgYSBjbGljayB0byB0aGF0IG9wdGlvbiB0byBydW4gZGlzcGxheVRkT3B0aW9ucyBhbmQgZGlzcGxheSB0aGUgYXBwcm9wcmlhdGUgYXR0cmlidXRlcyBmb3IgdGhhdCBvcHRpb25cclxuICAgICAgICBzZWxlY3RlZFJhZGlvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cInRkb3B0aW9uc1wiXTpjaGVja2VkJyk7XHJcbiAgICAgICAgc2VsZWN0ZWRSYWRpby5jbGljaygpO1xyXG5cclxuICAgICAgICAvLyAhVkEgRGVmYXVsdCBmb3IgdGFibGUgd2lkdGhcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZVdpZHRoKS52YWx1ZSA9IGAke0FwcGRhdGEuaW1nV31gO1xyXG4gICAgICAgIC8vICFWQSBEZWZhdWx0cyBmb3Igd3JhcHBlciB3aWR0aCBhbmQgY2xhc3NcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZVdyYXBwZXJXaWR0aCkudmFsdWUgPSBgJHtBcHBkYXRhLnZpZXdlcld9YDtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZVdyYXBwZXJDbGFzcykudmFsdWUgPSAnZGV2aWNld2lkdGgnO1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgICBcclxuICAgIC8vICFWQSAgYXBwQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICAvLyAhVkEgVG9nZ2xlIGNoZWNrYm94ZXMgYW5kIHJ1biBhbnkgYXNzb2NpYXRlZCBhY3Rpb25zXHJcbiAgICAvLyAhVkEgVE9ETzogVGhpcyBmdW5jdGlvbiBpcyBtaXNuYW1lZCwgaXQgb25seSBwZXJ0YWlucyB0byBtb2NrIGNoZWNrYm94IHByb2Nlc3NpbmdcclxuICAgIGZ1bmN0aW9uIGhhbmRsZUNDUElucHV0KGV2ZW50KSB7XHJcbiAgICAgIC8vICFWQSBHZXQgdGhlIEFwcGRhdGEgZm9yIHRoZSBpbnB1dCBkZWZhdWx0IHZhbHVlXHJcbiAgICAgIHZhciBkYXRhID0gYXBwQ29udHJvbGxlci5pbml0R2V0QXBwZGF0YSgpO1xyXG4gICAgICB2YXIgY2hrSWQsIGNoZWNrYm94O1xyXG4gICAgICAvLyAhVkEgVG9nZ2xlIENDUCBjaGVja2JveGVzIGFuZCBydW4gYXNzb2NpYXRlZCBvcGVyYXRpb25zLiBUaGUgQ1NTIGNhbGxzIGZvciBoaWRpbmcgdGhlIGFjdHVhbCBjaGVja2JveCBlbGVtZW50IGFuZCBzaG93aW5nIGEgc3BhbiB3aXRoIGEgJ3Byb3h5JyBjaGVja2JveC4gV2UgY2FsbCBpdCAnY2hlY2ttcmsnIHRvIG1ha2UgaXQgZWFzaWVyIHRvIHJlcGxhY2UgaXQgd2l0aCAnY2hlY2tib3gnIGhlcmUuIFxyXG4gICAgICAvLyAhVkEgQXJyYXkgb2Ygd3JhcHBlciBpdGVtcyB0byBiZSBkaXNwbGF5ZWQgaWYgJ0luY2x1ZGUgd3JhcHBlciB0YWJsZScgaXMgY2hlY2tlZFxyXG4gICAgICB2YXIgd3JhcHBlckl0ZW1zVG9TaG93ID0gW107XHJcblxyXG4gICAgICAvLyAhVkEgV2l0aCB0aGlzIG1vY2sgY2hlY2ttYXJrIHN0cnVjdHVyZSwgdGhlIGNsaWNrZWQgZWxlbWVudCBpcyB0aGUgY2hlY2ttYXJrLCBzbyB3ZSBoYXZlIHRvIGNvbnZlcnQgdGhhdCBJRCB0byB0aGUgY29ycmVzcG9uZGluZyBjaGVja2JveCBiZWZvcmUgd2UgY2FuIHRvZ2dsZSBpdC4gXHJcbiAgICAgIC8vICFWQSBSZWJvb3Q6IEFsc28gaGF2ZSB0byByZXBsYWNlIHRoZSAzLWNoYXIgZWxlbWVudCBpZGVudGlmaWVyLlxyXG4gICAgICBjaGtJZCA9IGV2ZW50LnRhcmdldC5pZDtcclxuICAgICAgY2hrSWQgPSBjaGtJZC5yZXBsYWNlKCdtcmsnLCAnYm94Jyk7XHJcbiAgICAgIGNoa0lkID0gY2hrSWQucmVwbGFjZSgnc3BuJywgJ2NoaycpO1xyXG4gICAgICBjaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNoa0lkKTtcclxuICAgICAgY2hlY2tib3guY2hlY2tlZCA/IGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZSA6IGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgLy8gIVZBIE5vdyBydW4gYW55IGFjdGlvbnMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjaGVja2JveFxyXG4gICAgICAvLyAhVkEgVE9ETzogVGhpcyB2YWx1ZSBuZWVkcyB0byBiZSByZWZyZXNoZWQgd2hlbiB0aGUgQ0NQIGlzIG9wZW5lZC4gSW4gZmFjdCwgZW50ZXJpbmcgbmV3IHZhbHVlcyBpbiBhbnkgb2YgdGhlIHRvb2xCdXR0b24gaW5wdXRzIGhhcyB0byBjYWxsIGEgcmVmcmVzaCBvZiBBcHBkYXRhIGFuZCBhIGNsb3NpbmctcmVvcGVuaW5nIG9mIHRoZSBDQ1Agc28gdGhlIHZhbHVlcyBjYW4gcmVmcmVzaC5cclxuICAgICAgXHJcbiAgICAgIC8vICFWQSBEZWZhdWx0cyBmb3Igd3JhcHBlciB3aWR0aCBhbmQgY2xhc3NcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjY3BVc2VySW5wdXQuaXB0Q2NwVGFibGVXcmFwcGVyV2lkdGgpLnZhbHVlID0gYCR7ZGF0YS52aWV3ZXJXfWA7XHJcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2NwVXNlcklucHV0LmlwdENjcFRhYmxlV3JhcHBlckNsYXNzKS52YWx1ZSA9ICdkZXZpY2V3aWR0aCc7XHJcbiAgICAgIC8vICFWQSBTaG93IHdyYXBwZXIgdGFibGUgb3B0aW9ucyBpZiB0aGUgY2hlY2tlZCBlbGVtZW50IGlzICd0YWJsZS1pbmNsdWRlLXdyYXBwZXItY2hlY2tib3gnXHJcbiAgICAgIGlmIChjaGVja2JveC5pZCA9PT0gJ2Noay1jY3AtdGFibGUtaW5jbHVkZS13cmFwcGVyLWNoZWNrYm94Jykge1xyXG4gICAgICAgIHdyYXBwZXJJdGVtc1RvU2hvdyA9IFsnI2NjcC10YWJsZS13cmFwcGVyLWNsYXNzJywgJyNjY3AtdGFibGUtd3JhcHBlci13aWR0aCcsICcjY2NwLXRhYmxlLXdyYXBwZXItYWxpZ24nLCAnI2NjcC10YWJsZS13cmFwcGVyLWJnY29sb3InIF07IFxyXG4gICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdyYXBwZXJJdGVtc1RvU2hvdy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHdyYXBwZXJJdGVtc1RvU2hvd1tpXSkuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdyYXBwZXJJdGVtc1RvU2hvdy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHdyYXBwZXJJdGVtc1RvU2hvd1tpXSkuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vICFWQSBTaG93IGVsZW1lbnQgd2hlbiBpbnB1dCBpbiBhbm90aGVyIGVsZW1lbnQgaXMgbWFkZSBcclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIHNob3dFbGVtZW50T25JbnB1dChldmVudCkge1xyXG4gICAgICAvLyAhVkEgSGVyZSB3ZSBjYXRjaCB0aGUgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBDQ1AgY2xhc3MgaW5wdXQgZmllbGRzIGFuZCBzaG93IHRoZSBtb2JpbGUgY2xpcGJvYXJkIGJ1dHRvbnMgd2hlbiBhbiBpbnB1dCBpcyBtYWRlLiBUaGUgaW5wdXQgZXZlbnQgZmlyZXMgd2hlbmV2ZXIgYSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgY2hhbmdlcy5cclxuICAgICAgdmFyIGVsZW1zID0gW107XHJcbiAgICAgIGVsZW1zWzBdID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5DY3BNYWtlQ2xpcHMuYnRuQ2NwTWFrZUltZ0Rza3RwQ3NzUnVsZSk7XHJcbiAgICAgIGVsZW1zWzFdID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5DY3BNYWtlQ2xpcHMuYnRuQ2NwTWFrZUltZ1NtcGhuQ3NzUnVsZSk7XHJcbiAgICAgIGVsZW1zWzJdID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5DY3BNYWtlQ2xpcHMuYnRuQ2NwTWFrZUltZ0xncGhuQ3NzUnVsZSk7XHJcbiAgICAgIGVsZW1zWzNdID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5DY3BNYWtlQ2xpcHMuYnRuQ2NwTWFrZVRkRHNrdHBDc3NSdWxlKTtcclxuICAgICAgZWxlbXNbNF0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0bkNjcE1ha2VDbGlwcy5idG5DY3BNYWtlVGRTbXBobkNzc1J1bGUpO1xyXG4gICAgICBlbGVtc1s1XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuQ2NwTWFrZUNsaXBzLmJ0bkNjcE1ha2VUZExncGhuQ3NzUnVsZSk7XHJcbiAgICAgIGVsZW1zWzZdID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidG5DY3BNYWtlQ2xpcHMuYnRuQ2NwTWFrZVRhYmxlRHNrdHBDc3NSdWxlKTtcclxuICAgICAgZWxlbXNbN10gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGJ0bkNjcE1ha2VDbGlwcy5idG5DY3BNYWtlVGFibGVTbXBobkNzc1J1bGUpO1xyXG4gICAgICBlbGVtc1s4XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYnRuQ2NwTWFrZUNsaXBzLmJ0bkNjcE1ha2VUYWJsZUxncGhuQ3NzUnVsZSk7XHJcbiAgICAgIC8vICFWQSBXZSBvbmx5IHdhbnQgdG8gc2hvdyB0aGUgYnV0dG9ucyBpbiBlYWNoIHJlc3BlY3RpdmUgZmllbGRzZXRcclxuICAgICAgLy8gIVZBIElmIHRoZSBpbnB1dCBpcyBpbiB0aGUgaW1nIGZpZWxkc2V0LCBvbmx5IHNob3cgdGhlIGZpcnN0IHRocmVlIGJ1dHRvbnMgaW4gdGhlIGFycmF5LiBBZGQgdGhlIGhhc2ggIyB0byB0aGUgdGFyZ2V0IElEIHRvIGZpbmQgdGhlIG1hdGNoIHdpdGggdGhlIElEIGluIGNjcFVzZXJJbnB1dFxyXG4gICAgICBpZiAoKCcjJyArIGV2ZW50LnRhcmdldC5pZCkgPT0gY2NwVXNlcklucHV0LmlwdENjcEltZ0NsYXNzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMjsgaSsrKSB7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlID8gZWxlbXNbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJykgOiBlbGVtc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoKCcjJyArIGV2ZW50LnRhcmdldC5pZCkgPT09IGNjcFVzZXJJbnB1dC5pcHRDY3BUZENsYXNzKSB7IFxyXG4gICAgICAgIC8vICFWQSBJZiB0aGUgaW5wdXQgaXMgaW4gdGhlIHRkIGZpZWxkc2V0LCBvbmx5IHNob3cgdGhlIG5leHQgdGhyZWUgYnV0dG9ucyBpbiB0aGUgYXJyYXlcclxuICAgICAgICBmb3IgKGxldCBpID0gMzsgaSA8PSA1IDsgaSsrKSB7XHJcbiAgICAgICAgICB0aGlzLnZhbHVlID8gZWxlbXNbaV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJykgOiBlbGVtc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoKCcjJyArIGV2ZW50LnRhcmdldC5pZCkgPT09IGNjcFVzZXJJbnB1dC5pcHRDY3BUYWJsZUNsYXNzKSB7XHJcbiAgICAgICAgLy8gIVZBIElmIHRoZSBpbnB1dCBpcyBpbiB0aGUgdGFibGUgZmllbGRzZXQsIG9ubHkgc2hvdyB0aGUgbmV4dCBidXR0b25zIGluIHRoZSBhcnJheVxyXG4gICAgICAgIGZvciAobGV0IGkgPSA2OyBpIDw9IDggOyBpKyspIHtcclxuICAgICAgICAgIHRoaXMudmFsdWUgPyBlbGVtc1tpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKSA6IGVsZW1zW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuIFxyXG4gICAgLy8gIVZBIE1lc3NhZ2UgaGFuZGxpbmdcclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBLZXkvdmFsdWUgcGFpcnMgY29udGFpbmluZyB0aGUgdW5pcXVlIHRvb2x0aXAgSUQgZ2VuZXJhdGUgZnJvbSB0YXJnZXQgSUQgb2YgdGhlIG1vdXNlZW50ZXIgZXZlbnQgYW5kIHRoZSBjb3JyZXNwb25kaW5nIHRvb2x0aXAgY29udGVudC5cclxuICAgIGZ1bmN0aW9uIGdldEFwcE1lc3NhZ2VTdHJpbmdzKCBhcHBNZXNzQ29kZSkge1xyXG4gICAgICBsZXQgQXBwZGF0YTtcclxuICAgICAgQXBwZGF0YSA9IGFwcENvbnRyb2xsZXIuaW5pdEdldEFwcGRhdGEoKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ3Rvb2x0aXBTdHJpbmdzIHJ1bm5pbmcnKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ3Rvb2x0aXBpZCBpczogJyArIHRvb2x0aXBpZCk7XHJcbiAgICAgIGxldCBhcHBNZXNzQ29udGVudDtcclxuICAgICAgLy8gIVZBIFNldCB0b29sdGlwQ29udGVudCB0byAnJy4gVGhpcyBvdmVyd3JpdGVzIHRvb2x0aXBDb250ZW50IGJlaW5nIHVuZGVmaW5lZCBpZiB0b29sdGlwaWQgaXMgaW52YWxpZFxyXG4gICAgICBhcHBNZXNzQ29udGVudCA9ICcnO1xyXG4gICAgICAvLyAhVkEgVG9vbHRpcCB1bmlxdWUgY29kZS92YWx1ZSBwYWlycyBkZWZpbmVkIGhlcmVcclxuICAgICAgY29uc3QgZ2V0QXBwTWVzc2FnZVN0cmluZ3MgPSB7XHJcbiAgICAgICAgLy8gIVZBIFNUQVRVU1xyXG4gICAgICAgIG1zZ19jb3BpZWRfMl9DQjogJ0NvZGUgc25pcHBldCBjb3BpZWQgdG8gQ2xpcGJvYXJkIScsXHJcbiAgICAgICAgLy8gIVZBIEVSUk9SU1xyXG4gICAgICAgIGVycl9ub3RfSW50ZWdlcjogJ1RoaXMgdmFsdWUgaGFzIHRvIGJlIGEgcG9zaXRpdmUgd2hvbGUgbnVtYmVyIC0gdHJ5IGFnYWluIG9yIHByZXNzIEVTQy4nLFxyXG4gICAgICAgIGVycl9pbWdXX0dUX3ZpZXdlclc6IGBJbWFnZSB3aWR0aCBtdXN0IGJlIGxlc3MgdGhhbiB0aGUgY3VycmVudCBwYXJlbnQgdGFibGUgd2lkdGggb2YgJHtBcHBkYXRhLnZpZXdlcld9cHguIE1ha2UgdGhlIHBhcmVudCB0YWJsZSB3aWRlciBmaXJzdC5gLFxyXG4gICAgICAgIGVycl90YkJ1dHRvbl9MVF96ZXJvOiAnSW1hZ2UgZGltZW5zaW9uIGNhblxcJ3QgYmUgbGVzcyB0aGFuIDEuJyxcclxuICAgICAgICBlcnJfdGJCdXR0b25fR1Rfdmlld2VyVzogYEltYWdlIGNhbid0IGJlIHdpZGVyIHRoYW4gaXRzIHBhcmVudCB0YWJsZS4gUGFyZW50IHRhYmxlIHdpZHRoIGlzIGN1cnJlbnRseSAke0FwcGRhdGEudmlld2VyV31weGAsXHJcbiAgICAgICAgLy8gIVZBIG1heFZpZXdlcldpZHRoIGlzc3VlIGhlcmUsIHNlZSBtZXNzYWdlIGJlbG93O1xyXG4gICAgICAgIGVycl92aWV3ZXJXX0dUX21heFZpZXdlcldpZHRoOiAnUGFyZW50IHRhYmxlIHdpZHRoIGNhblxcJ3QgZXhjZWVkIGNhblxcJ3QgZXhjZWVkIGFwcCB3aWR0aDogODAwcHguJyxcclxuICAgICAgICBlcnJfbm90X2FuX2ludGVnZXI6ICdOb3QgYW4gaW50ZWdlcjogcGxlYXNlIGVudGVyIGEgcG9zaXRpdmUgd2hvbGUgbnVtYmVyIGZvciB3aWR0aC4nLFxyXG4gICAgICAgIGVycl92bWxidXR0b25fbm9fdmFsdWU6ICdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgZW50ZXJlZCB0byBjcmVhdGUgYSBWTUwgYnV0dG9uLicsXHJcbiAgICAgICAgZXJyX3ZtbGJ1dHRvbl9oZWlnaHRfbWlzbWF0Y2g6ICdJcyB0aGUgY29ycmVjdCBpbWFnZSBsb2FkZWQ/IEltZyBoZWlnaHQgc2hvdWxkIG1hdGNoIGVudHJ5LiBDaGVjayB0aGUgY29kZSBvdXRwdXQuICcsXHJcblxyXG5cclxuICAgICAgICAvLyAhVkEgVE9PTFRJUFNcclxuICAgICAgICB0aXBfaXB0X3Ricl92aWV3ZXJ3OiAnU2V0IHRoZSB3aWR0aCBvZiB0aGUgaW1hZ2VcXCdzIHBhcmVudCB0YWJsZSBmb3IgQ2xpcGJvYXJkIG91dHB1dC48YnIgLz48c3BhbiBzdHlsZT1cIndoaXRlLXNwYWNlOiBub3dyYXBcIj5NYXhpbXVtIHdpZHRoIGlzIDgwMHB4Ljwvc3Bhbj4nLFxyXG4gICAgICAgIHRpcF9idG5fdGJyX2luY3I1MDogJ0luY3JlYXNlIHRoZSBpbWFnZSB3aWR0aCBieSA1MHB4IGFuZCBzZXQgdGhlIGhlaWdodCBwcm9wb3J0aW9uYWxseS4gPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTogbm93cmFwXCI+VGhlIHdpZHRoIGNhblxcJ3QgZXhjZWVkIHBhcmVudCB0YWJsZSB3aWR0aC48L3NwYW4+JyxcclxuICAgICAgICB0aXBfYnRuX3Ricl9pbmNyMTA6ICdJbmNyZWFzZSB0aGUgaW1hZ2Ugd2lkdGggYnkgMTBweCBhbmQgc2V0IHRoZSBoZWlnaHQgcHJvcG9ydGlvbmFsbHkuIDxzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcFwiPlRoZSB3aWR0aCBjYW5cXCd0IGV4Y2VlZCB0aGUgd2lkdGggb2YgdGhlIHBhcmVudCB0YWJsZS48L3NwYW4+JyxcclxuICAgICAgICB0aXBfYnRuX3Ricl9pbmNyMDE6ICdJbmNyZWFzZSB0aGUgaW1hZ2Ugd2lkdGggYnkgMXB4IGFuZCBzZXQgdGhlIGhlaWdodCBwcm9wb3J0aW9uYWxseS4gPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTogbm93cmFwXCI+VGhlIHdpZHRoIGNhblxcJ3QgZXhjZWVkIHRoZSB3aWR0aCBvZiB0aGUgcGFyZW50IHRhYmxlLjwvc3Bhbj4nLFxyXG4gICAgICAgIHRpcF9pcHRfdGJyX2ltZ3dpZHRoOiAnU2V0IHRoZSBpbWFnZSBkaXNwbGF5IHdpZHRoIGFuZCByZXNpemUgaGVpZ2h0IHByb3BvcnRpb25hbGx5LiA8c3BhbiBzdHlsZT1cIndoaXRlLXNwYWNlOiBub3dyYXBcIj5JbWFnZSB3aWR0aCBjYW5cXCd0IGV4Y2VlZCBwYXJlbnQgdGFibGUgd2lkdGguPC9zcGFuPicsXHJcbiAgICAgICAgdGlwX2lwdF90YnJfaW1naGVpZ2h0OiAnU2V0IHRoZSBpbWFnZSBkaXNwbGF5IGhlaWdodCBhbmQgcmVzaXplIHdpZHRoIHByb3BvcnRpb25hbGx5LiA8c3BhbiBzdHlsZT1cIndoaXRlLXNwYWNlOiBub3dyYXBcIj5JbWFnZSB3aWR0aCBjYW5cXCd0IGV4Y2VlZCBwYXJlbnQgdGFibGUgd2lkdGguPC9zcGFuPicsXHJcbiAgICAgICAgdGlwX2J0bl90YnJfZGVjcjAxOiAnRGVjcmVhc2UgdGhlIGltYWdlIHdpZHRoIGJ5IDFweCBhbmQgc2V0IHRoZSBoZWlnaHQgcHJvcG9ydGlvbmFsbHkuJyxcclxuICAgICAgICB0aXBfYnRuX3Ricl9kZWNyMTA6ICdEZWNyZWFzZSB0aGUgaW1hZ2Ugd2lkdGggYnkgMTBweCBhbmQgc2V0IHRoZSBoZWlnaHQgcHJvcG9ydGlvbmFsbHkuJyxcclxuICAgICAgICB0aXBfYnRuX3Ricl9kZWNyNTA6ICdEZWNyZWFzZSB0aGUgaW1hZ2Ugd2lkdGggYnkgNTBweCBhbmQgc2V0IHRoZSBoZWlnaHQgcHJvcG9ydGlvbmFsbHkuJyxcclxuICAgICAgICB0aXBfaXB0X3Ricl9zcGhvbmVzX3dpZHRoOiAnU2V0IHRoZSB3aWR0aCBmb3Igc21hbGwgbW9iaWxlIGRldmljZXMgdG8gYmUgdXNlZCBmb3IgQ1NTIENsaXBib2FyZCBvdXRwdXQuJyxcclxuICAgICAgICB0aXBfaXB0X3Ricl9scGhvbmVzX3dpZHRoOiAnU2V0IHRoZSB3aWR0aCBmb3IgbGFyZ2VyIG1vYmlsZSBkZXZpY2VzIHRvIGJlIHVzZWQgZm9yIENTUyBDbGlwYm9hcmQgb3V0cHV0LicsXHJcbiAgICAgICAgdGlwX2luc19kaXNwbGF5X3NpemVfbGFiZWw6ICdEaXNwbGF5cyB0aGUgc2NhbGVkIGltYWdlIGRpbWVuc2lvbnMgaWYgc21hbGxlciB0aGFuIFNpemUgT24gRGlzay4gU2V0IHdpZHRoIG9yIGhlaWdodCBpbiB0b29sYmFyLiBTaGlmdCtDbGljayB0byBjb3B5IGF0dHJpYnV0ZXMuIEN0cmwrQ2xpY2sgdG8gY29weSBzdHlsZSBwcm9wZXJ0aWVzLicsXHJcbiAgICAgICAgdGlwX2luc19kaXNwbGF5X3NpemVfd2lkdGhfdmFsdWU6ICdDbGljayB0byBjb3B5IHRoZSB3aWR0aCwgU0hJRlQrQ2xpY2sgdG8gY29weSB3aWR0aCBhdHRyaWJ1dGUsIDxzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcFwiPkNUUkwrQ2xpY2sgdG8gY29weSB3aWR0aCBzdHlsZSBwcm9wZXJ0eS48L3NwYW4+JyxcclxuICAgICAgICB0aXBfaW5zX2Rpc3BsYXlfc2l6ZV9oZWlnaHRfdmFsdWU6ICdDbGljayB0byBjb3B5IHRoZSBoZWlnaHQsIFNISUZUK0NsaWNrIHRvIGNvcHkgaGVpZ2h0IGF0dHJpYnV0ZSwgPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTogbm93cmFwXCI+Q1RSTCtDbGljayB0byBjb3B5IGhlaWdodCBzdHlsZSBwcm9wZXJ0eS48L3NwYW4+JyxcclxuICAgICAgICB0aXBfaW5zX2Rpc2tfc2l6ZV9sYWJlbDogJ0Rpc3BsYXlzIHRoZSBhY3R1YWwgcmVzb2x1dGlvbiBvZiB0aGUgaW1hZ2UgYXMgc3RvcmVkIG9uIGRpc2suIEZvciByZXRpbmEgZGV2aWNlcywgdGhlIGZpbGVcXCdzIGFjdHVhbCByZXNvbHV0aW9uIHNob3VsZCBiZSBhdCBsZWFzdCB0d2ljZSB0aGUgZGlzcGxheSBzaXplLicsXHJcbiAgICAgICAgdGlwX2luc19hc3BlY3RfbGFiZWw6ICdEaXNwbGF5cyB0aGUgYXNwZWN0IHJhdGlvICh3aWR0aDogaGVpZ2h0KSBvZiB0aGUgY3VycmVudCBpbWFnZS4nLFxyXG4gICAgICAgIHRpcF9pbnNfc21hbGxfcGhvbmVzX2xhYmVsOiAnU2V0IHRoZSBpbWFnZSB3aWR0aCBmb3Igc21hbGwgbW9iaWxlIGRldmljZXMuIEltYWdlIGhlaWdodCBpcyBjYWxjdWxhdGVkIHByb3BvcnRpb25hbGx5LiBTaGlmdCtDbGljayB0byBjb3B5IGF0dHJpYnV0ZXMuIEN0cmwrQ2xpY2sgdG8gY29weSBzdHlsZSBwcm9wZXJ0aWVzLicsXHJcbiAgICAgICAgdGlwX2luc19zbWFsbF9waG9uZXNfd2lkdGhfdmFsdWU6ICdDbGljayB0byBjb3B5IHRoZSB3aWR0aCwgU0hJRlQrQ2xpY2sgdG8gY29weSB3aWR0aCBhdHRyaWJ1dGUsIDxzcGFuIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcFwiPkNUUkwrQ2xpY2sgdG8gY29weSB3aWR0aCBzdHlsZSBwcm9wZXJ0eS48L3NwYW4+JyxcclxuICAgICAgICB0aXBfaW5zX3NtYWxsX3Bob25lc19oZWlnaHRfdmFsdWU6ICdDbGljayB0byBjb3B5IHRoZSBoZWlnaHQsIFNISUZUK0NsaWNrIHRvIGNvcHkgaGVpZ2h0IGF0dHJpYnV0ZSwgPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTogbm93cmFwXCI+Q1RSTCtDbGljayB0byBjb3B5IGhlaWdodCBzdHlsZSBwcm9wZXJ0eS48L3NwYW4+JyxcclxuICAgICAgICB0aXBfaW5zX2xhcmdlX3Bob25lc19sYWJlbDogJ1NldCB0aGUgaW1hZ2Ugd2lkdGggZm9yIGxhcmdlciBtb2JpbGUgZGV2aWNlcy4gSW1hZ2UgaGVpZ2h0IGlzIGNhbGN1bGF0ZWQgcHJvcG9ydGlvbmFsbHkuIFNoaWZ0K0NsaWNrIHRvIGNvcHkgYXR0cmlidXRlcy4gQ3RybCtDbGljayB0byBjb3B5IHN0eWxlIHByb3BlcnRpZXMuJyxcclxuICAgICAgICB0aXBfaW5zX2xhcmdlX3Bob25lc193aWR0aF92YWx1ZTogJ0NsaWNrIHRvIGNvcHkgdGhlIHdpZHRoLCBTSElGVCtDbGljayB0byBjb3B5IHdpZHRoIGF0dHJpYnV0ZSwgPHNwYW4gc3R5bGU9XCJ3aGl0ZS1zcGFjZTogbm93cmFwXCI+Q1RSTCtDbGljayB0byBjb3B5IHdpZHRoIHN0eWxlIHByb3BlcnR5Ljwvc3Bhbj4nLFxyXG4gICAgICAgIHRpcF9pbnNfbGFyZ2VfcGhvbmVzX2hlaWdodF92YWx1ZTogJ0NsaWNrIHRvIGNvcHkgdGhlIGhlaWdodCwgU0hJRlQrQ2xpY2sgdG8gY29weSBoZWlnaHQgYXR0cmlidXRlLCA8c3BhbiBzdHlsZT1cIndoaXRlLXNwYWNlOiBub3dyYXBcIj5DVFJMK0NsaWNrIHRvIGNvcHkgaGVpZ2h0IHN0eWxlIHByb3BlcnR5Ljwvc3Bhbj4nLFxyXG4gICAgICAgIHRpcF9pbnNfcmV0aW5hX2xhYmVsOiAnRGlzcGxheXMgdGhlIHJlY29tbWVuZGVkIGltYWdlIGZpbGUgcmVzb2x1dGlvbiBhdCB0aGUgY3VycmVudCBkaXNwbGF5IHNpemUuIElmIHRoaXMgdmFsdWUgaXMgbGVzcyB0aGFuIDJYIHRoZSBkaXNwbGF5LCBzbWFsbCBwaG9uZXMgb3IgbGFyZ2UgcGhvbmVzIHZhbHVlcywgdGhvc2UgdmFsdWVzIGFyZSBzaG93biBpbiByZWQuJyxcclxuICAgICAgICB0aXBfYnRuX2NjcF9tYWtlX2ltZ190YWc6ICdPdXRwdXQgYW4gSFRNTCBJTUcgdGFnIHdpdGggdGhlIHNlbGVjdGVkIG9wdGlvbnMgdG8gdGhlIENsaXBib2FyZC4nLFxyXG4gICAgICAgIHRpcF9idG5fY2NwX21ha2VfdGRfdGFnOiAnT3V0cHV0IGFuIEhUTUwgVEQgdGFnIHdpdGggdGhlIHNlbGVjdGVkIG9wdGlvbnMgdG8gdGhlIENsaXBib2FyZC4nLFxyXG4gICAgICAgIHRpcF9idG5fY2NwX21ha2VfdGFibGVfdGFnOiAnT3V0cHV0IGFuZCBIVE1MIFRBQkxFIHRhZyB3aXRoIHRoZSBzZWxlY3RlZCBvcHRpb25zIHRvIHRoZSBDbGlwYm9hcmQnLFxyXG4gICAgICAgIHRpcF9zZWxfY2NwX2ltZ19hbGlnbjogJ1NldCB0aGUgYWxpZ24gYXR0cmlidXRlIG9mIHRoZSBJTUcgdGFnLicsXHJcbiAgICAgICAgdGlwX3NlbF9jY3BfaW1nX2FsaWduX2xhYmVsOiAnU2V0IHRoZSBhbGlnbiBhdHRyaWJ1dGUgb2YgdGhlIElNRyB0YWcuJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF9pbWdfY2xhc3M6ICdBZGQgYSBjbGFzcyBhdHRyaWJ1dGUgdG8gdGhlIElNRyB0YWcuIElmIGEgY2xhc3MgaXMgZW50ZXJlZCwgdGhlIE1ha2UgSW1hZ2UgQ1NTIFJ1bGUgYnV0dG9ucyBhcHBlYXIuJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF9pbWdfY2xhc3NfbGFiZWw6ICdBZGQgYSBjbGFzcyBhdHRyaWJ1dGUgdG8gdGhlIElNRyB0YWcuIElmIGEgY2xhc3MgaXMgZW50ZXJlZCwgdGhlIE1ha2UgSW1hZ2UgQ1NTIFJ1bGUgYnV0dG9ucyBhcHBlYXIuJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF9pbWdfcmVscGF0aDogJ0VudGVyIHRoZSByZWxhdGl2ZSBwYXRoIHRvIHRoZSBpbWFnZSB0byBpbmNsdWRlIGluIHRoZSBzcmMgYXR0cmlidXRlIG9mIHRoZSBDbGlwYm9hcmQgb3V0cHV0LiBUaGUgZGVmYXVsdCBpcyBcXCdpbWdcXCcnLFxyXG4gICAgICAgIHRpcF9pcHRfY2NwX2ltZ19yZWxwYXRoX2xhYmVsOiAnRW50ZXIgdGhlIHJlbGF0aXZlIHBhdGggdG8gdGhlIGltYWdlIHRvIGluY2x1ZGUgaW4gdGhlIHNyYyBhdHRyaWJ1dGUgb2YgdGhlIENsaXBib2FyZCBvdXRwdXQuIFRoZSBkZWZhdWx0IGlzIFxcJ2ltZ1xcJycsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfaW1nX2FsdDogJ0VudGVyIHRleHQgZm9yIHRoZSBBTFQgYXR0cmlidXRlIG9mIHRoZSBDbGlwYm9hcmQgb3V0cHV0LiBZb3UgY2FuIHVzZSBwbGFjZWhvbGRlciB0ZXh0IGFuZCByZXBsYWNlIGl0IGdsb2JhbGx5IGxhdGVyLicsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfaW1nX2FsdF9sYWJlbDogJ0VudGVyIHRleHQgZm9yIHRoZSBBTFQgYXR0cmlidXRlIG9mIHRoZSBDbGlwYm9hcmQgb3V0cHV0LiBZb3UgY2FuIHVzZSBwbGFjZWhvbGRlciB0ZXh0IGFuZCByZXBsYWNlIGl0IGdsb2JhbGx5IGxhdGVyLicsXHJcbiAgICAgICAgdGlwX2NjcF9pbWdfaW5jbHVkZV93aWR0aF9oZWlnaHQ6ICdJZiBjaGVja2VkLCB3aWR0aCBhbmQgaGVpZ2h0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIElNRyB0YWdcXCdzIHN0eWxlIGF0dHJpYnV0ZSBpbiB0aGUgQ2xpcGJvYXJkIG91dHB1dC4nLFxyXG4gICAgICAgIHRpcF9jY3BfaW1nX2luY2x1ZGVfd2lkdGhfaGVpZ2h0X2xhYmVsOiAnSWYgY2hlY2tlZCwgd2lkdGggYW5kIGhlaWdodCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBJTUcgdGFnXFwncyBzdHlsZSBhdHRyaWJ1dGUgaW4gdGhlIENsaXBib2FyZCBvdXRwdXQuJyxcclxuICAgICAgICB0aXBfY2NwX2ltZ19pbmNsdWRlX2FuY2hvcjogJ0lmIGNoZWNrZWQsIHRoZSBJTUcgdGFnIHdpbGwgYmUgd3JhcHBlZCBpbiBhbiBBIHRhZyB3aXRoIHRoZSBIUkVGIGF0dHJpYnV0ZSBzZXQgdG8gIyBpbiB0aGUgQ2xpcGJvYXJkIG91dHB1dCcsXHJcbiAgICAgICAgdGlwX2NjcF9pbWdfaW5jbHVkZV9hbmNob3JfbGFiZWw6ICdJZiBjaGVja2VkLCB0aGUgSU1HIHRhZyB3aWxsIGJlIHdyYXBwZWQgaW4gYW4gQSB0YWcgd2l0aCB0aGUgSFJFRiBhdHRyaWJ1dGUgc2V0IHRvICMgaW4gdGhlIENsaXBib2FyZCBvdXRwdXQnLFxyXG4gICAgICAgIHRpcF9zZWxfY2NwX3RkX2FsaWduOiAnU2V0IHRoZSBURCB0YWdcXCdzIGFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwnbGVmdFxcJycsXHJcbiAgICAgICAgdGlwX3NlbF9jY3BfdGRfYWxpZ25fbGFiZWw6ICdTZXQgdGhlIFREIHRhZ1xcJ3MgYWxpZ24gYXR0cmlidXRlLiBUaGUgZGVmYXVsdCBpcyBcXCdsZWZ0XFwnJyxcclxuICAgICAgICB0aXBfc2VsX2NjcF90ZF92YWxpZ246ICdTZXQgdGhlIFREIHRhZ1xcJ3MgdmFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwndG9wXFwnJyxcclxuICAgICAgICB0aXBfc2VsX2NjcF90ZF92YWxpZ25fbGFiZWw6ICdTZXQgdGhlIFREIHRhZ1xcJ3MgdmFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwndG9wXFwnJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF90ZF9jbGFzczogJ0FkZCBhIGNsYXNzIGF0dHJpYnV0ZSB0byB0aGUgVEQgdGFnLiBJZiBhIGNsYXNzIGlzIGVudGVyZWQsIHRoZSBNYWtlIFREIENTUyBSdWxlIGJ1dHRvbnMgYXBwZWFyLicsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGRfY2xhc3NfbGFiZWw6ICdBZGQgYSBjbGFzcyBhdHRyaWJ1dGUgdG8gdGhlIElNRyB0YWcuIElmIGEgY2xhc3MgaXMgZW50ZXJlZCwgdGhlIE1ha2UgVEQgQ1NTIFJ1bGUgYnV0dG9ucyBhcHBlYXIuJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF90ZF9iZ2NvbG9yOiAnU2V0IHRoZSBiZ2NvbG9yIGF0dHJpYnV0ZSBmb3IgdGhlIFREIHRhZy4gWW91IGNhbiB1c2UgYSBoZXggdmFsdWUsYSB2YWxpZCBDU1MgY29sb3IgYWxpYXMgb3IgYW55IHN0cmluZy4gSGV4IHZhbHVlcyBtdXN0IGJlIHByZXBlbmRlZCB3aXRoIGEgIyBjaGFyYWN0ZXIuJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF90ZF9iZ2NvbG9yX2xhYmVsOiAnU2V0IHRoZSBiZ2NvbG9yIGF0dHJpYnV0ZSBmb3IgdGhlIFREIHRhZy4gWW91IGNhbiB1c2UgYSBoZXggdmFsdWUsIGEgQ1NTIGNvbG9yIGFsaWFzIG9yIGFueSBzdHJpbmcuIEhleCB2YWx1ZXMgbXVzdCBiZSBwcmVwZW5kZWQgd2l0aCBhICMgY2hhcmFjdGVyLicsXHJcbiAgICAgICAgdGlwX3Jkb19jY3BfdGRfYmFzaWM6ICdUQkQnLFxyXG4gICAgICAgIHRpcF9yZG9fY2NwX3RkX2Jhc2ljX2xhYmVsOiAnVEJEJyxcclxuICAgICAgICB0aXBfcmRvX2NjcF90ZF9leGNsdWRlaW1nOiAnVEJEJyxcclxuICAgICAgICB0aXBfcmRvX2NjcF90ZF9leGNsdWRlaW1nX2xhYmVsOiAnVEJEJyxcclxuICAgICAgICB0aXBfcmRvX2NjcF90ZF9wb3Nzd2l0Y2g6ICdUQkQnLFxyXG4gICAgICAgIHRpcF9yZG9fY2NwX3RkX3Bvc3dpdGNoX2xhYmVsOiAnVEJEJyxcclxuICAgICAgICB0aXBfcmRvX2NjcF90ZF9iZ2ltYWdlOiAnVEJEJyxcclxuICAgICAgICB0aXBfcmRvX2NjcF90ZF9iZ2ltYWdlX2xhYmVsOiAnVEJEJyxcclxuICAgICAgICB0aXBfcmRvX2NjcF90ZF92bWxidXR0b246ICdUQkQnLFxyXG4gICAgICAgIHRpcF9yZG9fY2NwX3RkX3ZtbGJ1dHRvbl9sYWJlbDogJ1RCRCcsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGFibGVfY2xhc3M6ICdBZGQgYSBjbGFzcyBhdHRyaWJ1dGUgdG8gdGhlIHBhcmVudCBUQUJMRSB0YWcuIElmIGEgY2xhc3MgaXMgZW50ZXJlZCwgdGhlIE1ha2UgVEFCTEUgQ1NTIFJ1bGUgYnV0dG9ucyBhcHBlYXIuJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF90YWJsZV9jbGFzc19sYWJlbDogJ0FkZCBhIGNsYXNzIGF0dHJpYnV0ZSB0byB0aGUgcGFyZW50IFRBQkxFIHRhZy4gSWYgYSBjbGFzcyBpcyBlbnRlcmVkLCB0aGUgTWFrZSBUQUJMRSBDU1MgUnVsZSBidXR0b25zIGFwcGVhci4nLFxyXG4gICAgICAgIHRpcF9pcHRfY2NwX3RhYmxlX3dpZHRoOiAnVEJEJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF90YWJsZV93aWR0aF9sYWJlbDogJ1RCRCcsXHJcbiAgICAgICAgdGlwX3NlbF9jY3BfdGFibGVfYWxpZ246ICdTZXQgdGhlIHBhcmVudCBUQUJMRSB0YWdcXCdzIGFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwnbGVmdFxcJycsXHJcbiAgICAgICAgdGlwX3NlbF9jY3BfdGFibGVfYWxpZ25fbGFiZWw6ICdTZXQgdGhlIHBhcmVudCBUQUJMRSB0YWdcXCdzIGFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwnbGVmdFxcJycsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGFibGVfYmdjb2xvcjogJ1NldCB0aGUgYmdjb2xvciBhdHRyaWJ1dGUgZm9yIHRoZSBwYXJlbnQgVEFCTEUgdGFnLiBZb3UgY2FuIHVzZSBhIGhleCB2YWx1ZSxhIHZhbGlkIENTUyBjb2xvciBhbGlhcyBvciBhbnkgc3RyaW5nLiBIZXggdmFsdWVzIG11c3QgYmUgcHJlcGVuZGVkIHdpdGggYSAjIGNoYXJhY3Rlci4nLFxyXG4gICAgICAgIHRpcF9pcHRfY2NwX3RhYmxlX2JnY29sb3JfbGFiZWw6ICdTZXQgdGhlIGJnY29sb3IgYXR0cmlidXRlIGZvciB0aGUgcGFyZW50IFRBQkxFIHRhZy4gWW91IGNhbiB1c2UgYSBoZXggdmFsdWUsIGEgQ1NTIGNvbG9yIGFsaWFzIG9yIGFueSBzdHJpbmcuIEhleCB2YWx1ZXMgbXVzdCBiZSBwcmVwZW5kZWQgd2l0aCBhICMgY2hhcmFjdGVyLicsXHJcbiAgICAgICAgdGlwX2NjcF90YWJsZV9pbmNsdWRlX3dyYXBwZXI6ICdUQkQnLFxyXG4gICAgICAgIHRpcF9jY3BfdGFibGVfaW5jbHVkZV93cmFwcGVyX2xhYmVsOiAnVEJEJyxcclxuICAgICAgICB0aXBfaXB0X2NjcF90YWJsZV93cmFwcGVyX2NsYXNzOiAnQWRkIGEgY2xhc3MgYXR0cmlidXRlIHRvIHRoZSB3cmFwcGVyIFRBQkxFIHRhZyBvciBhY2NlcHQgdGhlIGRlZmF1bHQgXFwnZGV2aWNld2lkdGhcXCcuICcsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGFibGVfd3JhcHBlcl9jbGFzc19sYWJlbDogJ0FkZCBhIGNsYXNzIGF0dHJpYnV0ZSB0byB0aGUgd3JhcHBlciBUQUJMRSB0YWcgb3IgYWNjZXB0IHRoZSBkZWZhdWx0IFxcJ2RldmljZXdpZHRoXFwnLicsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGFibGVfd3JhcHBlcl93aWR0aDogJ1RCRCcsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGFibGVfd3JhcHBlcl93aWR0aF9sYWJlbDogJ1RCRCcsXHJcbiAgICAgICAgdGlwX3NlbF9jY3BfdGFibGVfd3JhcHBlcl9hbGlnbjogJ1NldCB0aGUgd3JhcHBlciBUQUJMRSB0YWdcXCdzIGFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwnbGVmdFxcJycsXHJcbiAgICAgICAgdGlwX3NlbF9jY3BfdGFibGVfYWxpZ25fd3JhcHBlcl9sYWJlbDogJ1NldCB0aGUgd3JhcHBlciBUQUJMRSB0YWdcXCdzIGFsaWduIGF0dHJpYnV0ZS4gVGhlIGRlZmF1bHQgaXMgXFwnbGVmdFxcJycsXHJcbiAgICAgICAgdGlwX2lwdF9jY3BfdGFibGVfd3JhcHBlcl9iZ2NvbG9yOiAnU2V0IHRoZSBiZ2NvbG9yIGF0dHJpYnV0ZSBmb3IgdGhlIHdyYXBwZXIgVEFCTEUgdGFnLiBZb3UgY2FuIHVzZSBhIGhleCB2YWx1ZSxhIHZhbGlkIENTUyBjb2xvciBhbGlhcyBvciBhbnkgc3RyaW5nLiBIZXggdmFsdWVzIG11c3QgYmUgcHJlcGVuZGVkIHdpdGggYSAjIGNoYXJhY3Rlci4nLFxyXG4gICAgICAgIHRpcF9pcHRfY2NwX3RhYmxlX2JnY29sb3Jfd3JhcHBlcl9iZ2NvbG9yX2xhYmVsOiAnU2V0IHRoZSBiZ2NvbG9yIGF0dHJpYnV0ZSBmb3IgdGhlIHdyYXBwZXIgVEFCTEUgdGFnLiBZb3UgY2FuIHVzZSBhIGhleCB2YWx1ZSwgYSBDU1MgY29sb3IgYWxpYXMgb3IgYW55IHN0cmluZy4gSGV4IHZhbHVlcyBtdXN0IGJlIHByZXBlbmRlZCB3aXRoIGEgIyBjaGFyYWN0ZXIuJ1xyXG4gICAgICB9O1xyXG4gICAgICAvLyAhVkEgTG9vcCB0aHJvdWdoIHRoZSB0b29sdGlwIHVuaXF1ZSBpZHMgYW5kIGlmIG9uZSBtYXRjaGVzIGV2ZW50J3MgdGFyZ2V0IGlkLCByZXR1cm4gaXQgYXMgdG9vbHRpcENvbnRlbnRcclxuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGdldEFwcE1lc3NhZ2VTdHJpbmdzKSkge1xyXG4gICAgICAgIGlmIChrZXkgID09PSBhcHBNZXNzQ29kZSkge1xyXG4gICAgICAgICAgYXBwTWVzc0NvbnRlbnQgPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFwcE1lc3NDb250ZW50O1xyXG4gICAgfVxyXG4gICAgLy8gIVZBIEVORCBUT09MVElQIEhBTkRMSU5HXHJcblxyXG4gICAgLy8gIVZBIE1JU0MgRlVOQ1RJT05TXHJcblxyXG4gICAgLy8gIVZBIGFwcENvbnRvbGxlciBwcml2YXRlXHJcbiAgICAvLyAhVkEgQ3JlYXRlIHRoZSBpc29sYXRlIHBvcHVwIHdpdGggbm8gZnJpbGxzIGFuZCBhIGZpeGVkIHdpbmRvdyBzaXplZCB0byB0aGUgV2l0dHkgYXBwIGRpbWVuc2lvbnNcclxuICAgIGZ1bmN0aW9uIGlzb2xhdGVBcHAoKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdpc29sYXRlQXBwIHJ1bm5pbmcnKTtcclxuICAgICAgLy8gIVZBIFB1dCBhIHF1ZXJ5IHN0cmluZyBpbiB0aGUgVVJMIHRvIGluZGljYXRlIHRoYXQgdGhlIGNoaWxkIHdpbmRvdyBpcyBpc29sYXRlZFxyXG4gICAgICBsZXQgY3VyVVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWYgKyAnP2lzb2xhdGU9JyArIHRydWU7XHJcbiAgICAgIC8vICFWQSBOT1RFOiB3aW4gaXNuJ3QgYWNjZXNzZWQsIGJ1dCBpdCBtaWdodCBiZSBsYXRlci4gIFxyXG4gICAgICBsZXQgd2luO1xyXG4gICAgICAvLyAhVkEgT3BlbiBhIG5ldyBmaXhlZC1zaXplIHdpbmRvdyB3aXRoIG5vIGJyb3dzZXIgZWxlbWVudHMgZXhjZXB0IHRoZSBVUkwgYmFyXHJcbiAgICAgIC8vICFWQSBOb3QgY3VycmVudGx5IHVzaW5nIHRoZSB3aW5kb3cgb2JqZWN0IHRoYXQgdGhlIG9wZW4gbWV0aG9kIGNyZWF0ZXMsIGJ1dCBsZWF2ZSBpdCBmb3IgcmVmZXJlbmNlXHJcbiAgICAgIHdpbiA9IHdpbmRvdy5vcGVuKGN1clVSTCwndGFyZ2V0V2luZG93JywgIFxyXG4gICAgICAgIGB0b29sYmFyPW5vLFxyXG4gICAgICAgIGxvY2F0aW9uPXllcyxcclxuICAgICAgICBzdGF0dXM9bm8sXHJcbiAgICAgICAgbWVudWJhcj1ubyxcclxuICAgICAgICBzY3JvbGxiYXJzPW5vLFxyXG4gICAgICAgIHJlc2l6YWJsZT1ubyxcclxuICAgICAgICB3aWR0aD04NzAsXHJcbiAgICAgICAgaGVpZ2h0PTc3NWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGFwcENvbnRyb2xsZXIgcHJpdmF0ZSBcclxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlSW50ZWdlcihpbnB1dFZhbCkge1xyXG4gICAgICAvLyAhVkEgU2luY2UgaW50ZWdlciB2YWxpZGF0aW9uIGlzIHVzZWQgZm9yIGFsbCBoZWlnaHQvd2lkdGggaW5wdXQgZmllbGRzLCBpbmNsdWRpbmcgdGhvc2Ugbm90IHlldCBpbXBsZW1lbnRlZFxyXG4gICAgICBsZXQgaXNFcnI7XHJcbiAgICAgIC8vIGxldCBtZXNzO1xyXG4gICAgICBpZiAoIXBhcnNlSW50KGlucHV0VmFsLCAxMCkgfHwgaW5wdXRWYWwgJSAxICE9PSAwIHx8IGlucHV0VmFsIDwgMCkge1xyXG4gICAgICAgIGlzRXJyID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHsgXHJcbiAgICAgICAgLy8gIVZBIElucHV0IGZpZWxkcyByZXR1cm4gc3RyaW5ncywgc28gY29udmVydCB0byBpbnRlZ2VyXHJcbiAgICAgICAgaW5wdXRWYWwgPSBwYXJzZUludChpbnB1dFZhbCk7XHJcbiAgICAgICAgaXNFcnIgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvLyAhVkEgSnVzdCByZXR1cm5pbmcgdHJ1ZSBoZXJlLCB0aGUgZXJyb3IgY29kZSBpcyBzZW50IGJ5IHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIGhhbmRsZVVzZXJBY3Rpb25cclxuICAgICAgcmV0dXJuIGlzRXJyO1xyXG4gICAgfVxyXG4gICAgLy8gICFWQSBFTkQgRVJST1IgSEFORExJTkdcclxuXHJcbiAgICAvLyAhVkEgYXBwQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICAvLyAhVkEgTmVlZCB0byBnZXQgdGhlIEFwcGRhdGEgcHJvcGVydHkgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgSUQgb2YgdGhlIERPTSBpbnB1dCBlbGVtZW50IHRoYXQgc2V0cyBpdC4gSXQncyBlYXNpZXIgdG8ganVzdCBjcmVhdGUgYSBsaXN0IG9mIHRoZXNlIGNvcnJlc3BvbmRlbmNlcyB0aGFuIHRvIHJlbmFtZSB0aGUgd2hvbGUgVUkgZWxlbWVudHMgYW5kIEFwcGRhdGEgcHJvcGVydGllcyBzbyB0aGV5IGNvcnJlc3BvbmQsIG9yIHRvIGNyZWF0ZSBmdW5jdGlvbnMgdGhhdCB1c2Ugc3RyaW5nIG1ldGhvZHMgdG8gZXh0cmFjdCB0aGVtIGZyb20gZWFjaCBvdGhlci5cclxuICAgIGZ1bmN0aW9uIGVsZW1lbnRJZFRvQXBwZGF0YVByb3Aoc3RyKSB7XHJcbiAgICAgIHZhciBJRHRvUHJvcCA9IHtcclxuICAgICAgICB2aWV3ZXJXOiAgJ2lwdC10YnItdmlld2VydycsXHJcbiAgICAgICAgaW1nVzogJ2lwdC10YnItaW1nd2lkdGgnLFxyXG4gICAgICAgIGltZ0g6ICdpcHQtdGJyLWltZ2hlaWdodCcsXHJcbiAgICAgICAgc1Bob25lc1c6ICdpcHQtdGJyLXNwaG9uZXMtd2lkdGgnLFxyXG4gICAgICAgIGxQaG9uZXNXOiAnaXB0LXRici1scGhvbmVzLXdpZHRoJ1xyXG4gICAgICB9O1xyXG4gICAgICAvLyAhVkEgVGhpcyBzaG91bGQgcmV0dXJuIGRpcmVjdGx5IHdpaG91dCBhIHJldCB2YXJpYWJsZSBhcyB0bXAgc3RvcmFnZS5cclxuICAgICAgdmFyIHJldCA9IE9iamVjdC5rZXlzKElEdG9Qcm9wKS5maW5kKGtleSA9PiBJRHRvUHJvcFtrZXldID09PSBzdHIpO1xyXG4gICAgICAvLyBhbGVydChyZXQpO1xyXG4gICAgICByZXR1cm4gcmV0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIGZ1bmN0aW9uIGdldEFzcGVjdFJhdGlvICh2YXIxLCB2YXIyKSB7XHJcbiAgICAgIHZhciBhc3BlY3RSZWFsID0gKHZhcjEgLyB2YXIyKTtcclxuICAgICAgdmFyIGFzcGVjdEludCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vZ2V0IHRoZSBhc3BlY3QgcmF0aW8gYnkgZ2V0dGluZyB0aGUgZ2NkIChncmVhdGVzdCBjb21tb24gZGVub21pbmF0b3IpIGFuZCBkaXZpZGluZyBXIGFuZCBIIGJ5IGl0XHJcbiAgICAgICAgLy9UaGlzIGlzIGEgc2luZ2xlIGxpbmUgZnVuY3Rpb24gdGhhdCB3cmFwcyBvdmVyIHR3byBsaW5lcyBcclxuICAgICAgICBmdW5jdGlvbiBnY2QodmFyMSx2YXIyKSB7aWYgKCB2YXIyID4gdmFyMSApIHsgXHJcbiAgICAgICAgICAvLyAhVkEgQWRkZWQgdmFyaWFibGUgZGVjbGFyYXRpb25cclxuICAgICAgICAgIHZhciB0ZW1wID0gdmFyMTsgXHJcbiAgICAgICAgICB2YXIxID0gdmFyMjsgXHJcbiAgICAgICAgICB2YXIyID0gdGVtcDsgfSB3aGlsZSh2YXIyIT0gMCkgeyBcclxuICAgICAgICAgIC8vICFWQSBBZGRlZCB2YXJpYWJsZSBkZWNsYXJhdGlvblxyXG4gICAgICAgICAgdmFyIG0gPSB2YXIxJXZhcjI7IFxyXG4gICAgICAgICAgdmFyMSA9IHZhcjI7XHJcbiAgICAgICAgICB2YXIyID0gbTsgfSBcclxuICAgICAgICByZXR1cm4gdmFyMTt9XHJcbiAgICAgICAgdmFyIGdjZFZhbCA9IGdjZCggdmFyMSAsIHZhcjIgKTtcclxuICAgICAgICAvL2RpdmlkZSB0aGUgVyBhbmQgSCBieSB0aGUgZ2NkXHJcbiAgICAgICAgdmFyIHcgPSAodmFyMSAvIGdjZFZhbCk7XHJcbiAgICAgICAgdmFyIGggPSAodmFyMiAvIGdjZFZhbCk7XHJcbiAgICAgICAgLy9FeHByZXNzIGFuZCByZXR1cm4gdGhlIGFzcGVjdCByYXRpbyBhcyBhbiBpbnRlZ2VyIHBhaXJcclxuICAgICAgICBhc3BlY3RJbnQgPSAodyArICcgOiAnICsgaCk7XHJcbiAgICAgICAgcmV0dXJuIGFzcGVjdEludDtcclxuICAgICAgfSgpO1xyXG4gICAgICByZXR1cm4gW2FzcGVjdFJlYWwsIGFzcGVjdEludF07ICBcclxuICAgIH1cclxuXHJcbiAgICAvLyAhVkEgYXBwQ29udHJvbGxlciBwcml2YXRlXHJcbiAgICBmdW5jdGlvbiBnZXRBcHBkYXRhKCkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnZ2V0QXBwZGF0YSBydW5uaW5nJyk7XHJcbiAgICAgIHZhciBBcHBkYXRhID0ge307XHJcbiAgICAgIEFwcGRhdGEgPSBVSUNvbnRyb2xsZXIucXVlcnlET01FbGVtZW50cygpO1xyXG5cclxuICAgICAgLy8gIVZBIE5vdyBjb21wdXRlIHRoZSByZXN0IG9mIEFwcGRhdFxyXG4gICAgICBBcHBkYXRhLmFzcGVjdCA9IGdldEFzcGVjdFJhdGlvKEFwcGRhdGEuaW1nTlcsICBBcHBkYXRhLmltZ05IKTtcclxuICAgICAgQXBwZGF0YS5zUGhvbmVzSCA9IE1hdGgucm91bmQoQXBwZGF0YS5zUGhvbmVzVyAqICgxIC8gQXBwZGF0YS5hc3BlY3RbMF0pKTtcclxuICAgICAgQXBwZGF0YS5sUGhvbmVzSCA9IE1hdGgucm91bmQoQXBwZGF0YS5sUGhvbmVzVyAqICgxIC8gQXBwZGF0YS5hc3BlY3RbMF0pKTtcclxuICAgICAgcmV0dXJuIEFwcGRhdGE7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHByaXZhdGVcclxuICAgIC8vICFWQSBQcmVwcm9jZXNzIGVycm9yIG1lc3NhZ2VzIGJlZm9yZSBzZW5kaW5nIHRoZW0gdG8gVUlDb250cm9sbGVyLmRpc3BsYXlBcHBNZXNzYWdlcy4gVGhpcyBpcyB3aGVyZSB0aGUgc2V0VGltZU91dCBmb3IgZXJyIGFuZCBtc2cgbWVzc2FnZXMgbGl2ZXMuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzQXBwTWVzc2FnZXMoYXBwTWVzc1R5cGUsIGFwcE1lc3NDb250ZW50LCBkdXJhdGlvbiApIHtcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdwcmVwcm9jZXNzQXBwRXJycyBydW5uaW5nJyk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdhcHBNZXNzVHlwZSBpczogJyArIGFwcE1lc3NUeXBlKTtcclxuICAgICAgY29uc29sZS5sb2coJ2FwcE1lc3NDb250ZW50IGlzOiAnICsgYXBwTWVzc0NvbnRlbnQpO1xyXG4gICAgICBsZXQgYXBwTWVzc0NvbnRhaW5lcklkLCBhcHBNZXNzQ29udGFpbmVyLCB0aW1lcjtcclxuICAgICAgLy8gIVZBIFxyXG4gICAgICBhcHBNZXNzVHlwZSA9PT0gJ2VycicgPyBhcHBNZXNzQ29udGFpbmVySWQgPSBhcHBNZXNzYWdlRWxlbWVudHMuZXJyQ29udGVudCA6IGFwcE1lc3NDb250YWluZXJJZCA9IGFwcE1lc3NhZ2VFbGVtZW50cy5tc2dDb250ZW50OyBcclxuICAgICAgYXBwTWVzc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXBwTWVzc0NvbnRhaW5lcklkKTtcclxuXHJcbiAgICAgIC8vICFWQSBTZXQgdGhlIGlubmVySFRNTCBvZiB0aGUgcmVzcGVjdGl2ZSBhcHBNZXNzQ29udGFpbmVyLlxyXG4gICAgICBhcHBNZXNzQ29udGFpbmVyLmlubmVySFRNTCA9IGFwcE1lc3NDb250ZW50O1xyXG4gICAgICBVSUNvbnRyb2xsZXIuZGlzcGxheUFwcE1lc3NhZ2VzKCB0cnVlLCBhcHBNZXNzQ29udGFpbmVySWQsIGZhbHNlICk7XHJcbiAgICAgIFxyXG5cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnTk9XJyk7XHJcblxyXG4gICAgICAgIC8vICFWQSBSZWFkIHRoZSBhcHBNZXNzQ29udGVudCBpbnRvIHRoZSB0b29sdGlwIGNvbnRlbnQgZWxlbWVudFxyXG4gICAgICAgIC8vICFWQSBIZXJlIHdlIGNhbGwgVUlDb250cm9sbGVyLnNob3dBcHBNZXNzLiBJdCBuZWVkcyB0d28gcGFyYW1ldGVycyBmb3IgdG9vbHRpcHMgLSB0aGUgdGFyZ2V0RWxlbWVudCB0aGF0IGdldHMgdGhlIGhlbHAgY3Vyc29yIGFuZCB0aGUgYXBwTWVzc0VsZW1lbnQgdGhhdCBnZXRzIHRoZSBhcHBNZXNzQ29udGVudC4gV2UgcHV0IHRoZSB0YXJnZXRpZCBhdCB0aGUgZW5kIGJlY2F1c2UgaXQgd2lsbCBvbmx5IGhhdmUgYSB2YWx1ZSBmb3IgdG9vbHRpcHMgLSBmb3IgdGhlIG90aGVyIHR3byBtZXNzYWdlIHR5cGVzIGl0IHdpbGwgYmUgdW5kZWZpbmVkLlxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhcHBNZXNzQ29udGFpbmVySWQgaXM6ICcgKyBhcHBNZXNzQ29udGFpbmVySWQpO1xyXG4gICAgICAgIFVJQ29udHJvbGxlci5kaXNwbGF5QXBwTWVzc2FnZXMoZmFsc2UsIGFwcE1lc3NDb250YWluZXJJZCwgZmFsc2UgKTtcclxuICAgICAgfSwgZHVyYXRpb24pO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHVibGljIGZ1bmN0aW9uc1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLy8gIVZBIERldiBNb2RlIHBhc3MtdGhydSBwdWJsaWMgZnVuY3Rpb25zIHRvIGV4cG9zZSBjYWxjVmlld2VyU2l6ZSBhbmQgaW5pdENDUCB0byBVSUNvbnRyb2xsZXIuaW5pdFVJXHJcbiAgICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHB1YmxpY1xyXG4gICAgICBpbml0Q2FsY1ZpZXdlclNpemU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNhbGNWaWV3ZXJTaXplKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHB1YmxpY1xyXG4gICAgICAvLyAhVkEgTk9URTogSSdtIG5vdCBzdXJlIHdoeSB0aGlzIGlzIHB1YmxpYyBoZXJlIC0gd2hlbiB3b3VsZCBpbml0Q0NQIGhhdmUgdG8gY3Jvc3MgbW9kdWxlcz9cclxuICAgICAgaW5pdEluaXRDQ1A6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGluaXRDQ1AoKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHB1YmxpY1xyXG4gICAgICAvLyAhVkEgQVBQIE1FU1NBR0VTIFNUQVJUXHJcbiAgICAgIC8vICFWQSBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCB3aGVyZSB3ZSBzb3J0IHRoZSB0aHJlZSB0eXBlcyBvZiBtZXNzYWdlcy4gV2UgaGF2ZSB0aGUgdGFyZ2V0IGlkIGZvciBhbGwgdGhyZWUgdHlwZXMuIEZvciB0b29sdGlwcywgd2UgaGF2ZSBpdCBpbiB0aGUgZXZlbnQgb2JqZWN0IHBhc3NlZCBpbiBmcm9tIHRoZSBldmVudCBoYW5kbGVyLiBGb3IgbXNnIGFuZCBlcnIsIHdlIGNhbid0IGdldCBpdCBiZWNhdXNlIGhhbmRsZUFwcE1lc3NhZ2VzIG9ubHkgdGFrZXMgb25lIHBhcmFtZXRlciAtLSBlaXRoZXIgdGhlIGV2ZW50IGZvciB0b29sdGlwcyBvciB0aGUgYXBwTWVzc0NvZGUgZm9yIG1zZyBhbmQgZXJyLiBcclxuICAgICAgLy8gIVZBIFNvIG5vdyB0aGUgcHJvYmxlbSBpcyB0aGF0IHRvb2x0aXBzIHJlcXVpcmUgdGhlIGNhbGxlciBpZCBiZWNhdXNlIHRoZSB0b29sdGlwIHNob3dzIG9uIG1vdXNlZW50ZXIgYW5kIGhhcyB0byBoaWRlIG9uIG1vdXNlbGVhdmUsIGFuZCB3ZSBuZWVkIHRoZSBpZCBmb3IgdGhlIG1vdXNlbGVhdmUgdG8gY3JlYXRlIHRoZSBldmVudExpc3RlbmVyIGZvciBpdC4gU286XHJcbiAgICAgIC8vICFWQSBDYWxsIHNob3dBcHBNZXNzYWdlcyB3aXRoIHR3byBwYXJhbWV0ZXJzOiB0YXJnZXRpZCwgd2hpY2ggaXMgZWl0aGVyIGEgc3RyaW5nIGZvciB0b29sdGlwcyBvciBmYWxzZSBmb3IgbXNnIGFuZCBlcnIsIGFuZCB0aGUgc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUgYXBwTWVzc0NvbnRlbnQuXHJcbiAgICAgIGhhbmRsZUFwcE1lc3NhZ2VzOiBmdW5jdGlvbiAoIGV2dCApIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnaGFuZGxlQXBwTWVzc2FnZXMgcnVubmluZycpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhcHBDb250cm9sbGVyIHB1YmxpYyBoYW5kbGVBcHBNZXNzYWdlcyBydW5uaW5nJyk7XHJcbiAgICAgICAgbGV0IGFwcE1lc3NDb2RlLCBhcHBNZXNzVHlwZSwgYXBwTWVzc0NvbnRlbnQsIGR1cmF0aW9uLCBhcHBNZXNzQ29udGFpbmVySWQsIHRvb2x0aXBUYXJnZXQsIHRpbWVyO1xyXG4gICAgICAgIC8vICFWQSBEdXBsaWNhdGUgZXZ0IGludG8gYXBwTWVzc0NvZGUgLSB3ZSBjb3VsZCBqdXN0IHJlY2VpdmUgdGhlIGV2ZW50IGFzIGFwcE1lc3NDb2RlIGJ1dCBpdCdzIG1vcmUgdHJhbnNwYXJlbnQgdG8gZG8gaXQgZXhwbGljaXRseVxyXG4gICAgICAgIGFwcE1lc3NDb2RlID0gZXZ0O1xyXG4gICAgICAgIC8vICFWQSBJZiBhcHBNZXNzQ29kZSBpcyBhbiBvYmplY3QsIHRoZW4gaXQgb3JpZ2luYXRlZCBpbiBhbiBhZGRFdmVudExpc3RlbmVyLCBzbyBpdCBtdXN0IGJlIGEgdG9vbHRpcCBiZWNhdXNlIHRob3NlIGFyZSB0aGUgb25seSBhcHBNZXNzYWdlcyB0aGF0IG9yaWdpbmF0ZSB0aGVyZS4gUGFyc2UgdGhlIHRhcmdldCBpZCBmcm9tIHRoZSBldmVudCBhbmQgY29udmVydCBpdCB0byBhIHZhbGlkIGFwcE1lc3NDb2RlLCBpLmUuIHVuZGVyc2NvcmVzIGluc3RlYWQgb2YgaHlwaGVucy5cclxuICAgICAgICBpZiAodHlwZW9mKGFwcE1lc3NDb2RlKSA9PT0gJ29iamVjdCcpIHsgXHJcbiAgICAgICAgICAvLyBldnQgPSBhcHBNZXNzQ29kZTtcclxuICAgICAgICAgIHRvb2x0aXBUYXJnZXQgPSAnIycgKyBldnQudGFyZ2V0LmlkO1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ3RhcmdldGlkIGlzOiAnICsgdGFyZ2V0aWQpO1xyXG4gICAgICAgICAgYXBwTWVzc0NvZGUgPSAndGlwXycgKyBldnQudGFyZ2V0LmlkLnJlcGxhY2UoLy0vZ2ksICdfJyk7IFxyXG4gICAgICAgICAgYXBwTWVzc1R5cGUgPSAndGlwJztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gIVZBIEdldCB0aGUgaWQgb2YgdGhlIGNvbnRhaW5lciBpbiB3aGljaCB0aGUgYXBwTWVzc2FnZSBpcyBkaXNwbGF5ZWQgYmFzZWQgb24gdGhlIGZpcnN0IHRocmVlIGNoYXJzIG9mIGFwcE1lc3NDb2RlLlxyXG4gICAgICAgIGFwcE1lc3NDb250YWluZXJJZCA9ICcjJyArIGFwcE1lc3NDb2RlLnNsaWNlKDAsIDMpICsgJy1jb250ZW50JztcclxuICAgICAgICAvLyAhVkEgR2V0IHRoZSBhcHBNZXNzQ29udGVudCBmcm9tIHRoZSBwYXNzZWQgYXBwTWVzc0NvZGUsIHdoaWNoIGlzIG5vdyBjb25mb3JtYW50IHRvIGFsbCB0aHJlZSBhcHBNZXNzYWdlIHR5cGVzXHJcbiAgICAgICAgYXBwTWVzc0NvbnRlbnQgPSBnZXRBcHBNZXNzYWdlU3RyaW5ncyhhcHBNZXNzQ29kZSk7IFxyXG4gICAgICAgIC8vICFWQSBHZXQgdGhlIGZpcnN0IHRocmVlIGNoYXJhY3RlcnMgb2YgdGhlIGFwcE1lc3NDb2RlIHRvIGRldGVybWluZSB0aGUgYXBwTWVzc1R5cGUuIElmIHRob3NlIGNoYXJzIGFyZSAnZXJyJyBvciAnbXNnJywgc2V0IHRoZSBkdXJhdGlvbi4gT3RoZXJ3aXNlLCBpdCdzIGEgdG9vbHRpcCwgYW5kIG5vIGR1cmF0aW9uIGlzIHJlcXVpcmVkIHNpbmNlIHRoZSB1c2VyIG1hbnVhbGx5IHVuZGlzcGxheXMgdGhlIG1lc3NhZ2UgYnkgcmVsZWFzaW5nIEN0cmwgKyBBbHQuXHJcbiAgICAgICAgLy8gIVZBIFNldCB0aGUgZHVyYXRpb24gb2YgZXJyIGFuZCBtc2cgYXBwTWVzc2FnZXNcclxuICAgICAgICBpZiAoIGFwcE1lc3NDb2RlLnNsaWNlKDAsIDMpID09PSAnZXJyJyApIHtcclxuICAgICAgICAgIGR1cmF0aW9uID0gMjUwMDtcclxuICAgICAgICAgIGFwcE1lc3NUeXBlID0gJ2Vycic7XHJcbiAgICAgICAgfSBlbHNlIGlmICggYXBwTWVzc0NvZGUuc2xpY2UoMCwzICkgPT09ICdtc2cnICkge1xyXG4gICAgICAgICAgZHVyYXRpb24gPSA3NTA7XHJcbiAgICAgICAgICBhcHBNZXNzVHlwZSA9ICdtc2cnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnVG9vbHRpcDogbm8gZHVyYXRpb24gc2V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICFWQSBTZXQgdGhlIGlubmVySFRNTCBvZiB0aGUgYXBwTWVzc0NvbnRhaW5lciB0byB0aGUgY3VycmVudCBhcHBNZXNzQ29udGVudFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXBwTWVzc0NvbnRhaW5lcklkKS5pbm5lckhUTUwgPSBhcHBNZXNzQ29udGVudDtcclxuICAgICAgICAvLyAhVkEgZGlzcGxheUFwcE1lc3NhZ2VzIHdpdGggdGhlIGlzU2hvdyBwYXJhbWV0ZXIgPSB0cnVlIHRvIGRpc3BsYXkgdGhlIGFwcE1lc3NhZ2UuIFxyXG4gICAgICAgIGlmIChhcHBNZXNzVHlwZSA9PT0gJ3RpcCcpIHtcclxuICAgICAgICAgIC8vICFWQSBEaXNwbGF5IHRoZSBtZXNzYWdlIC0tIGlmIGl0J3MgYSB0b29sdGlwIGluY2x1ZGUgdGhlIHRhcmdldCBJRCBvZiB0aGUgdG9vbHRpcCB0YXJnZXQsIFxyXG4gICAgICAgICAgVUlDb250cm9sbGVyLmRpc3BsYXlBcHBNZXNzYWdlcyggdHJ1ZSwgYXBwTWVzc0NvbnRhaW5lcklkLCB0b29sdGlwVGFyZ2V0ICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vICFWQSBvdGhlcndpc2Ugc2V0IHRoYXQgcGFyYW1ldGVyIHRvIGZhbHNlIC0gaXQncyBub3QgbmVlZGVkXHJcbiAgICAgICAgICBVSUNvbnRyb2xsZXIuZGlzcGxheUFwcE1lc3NhZ2VzKCB0cnVlLCBhcHBNZXNzQ29udGFpbmVySWQsIGZhbHNlICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICFWQSBJZiBhcHBNZXNzVHlwZSBpcyBlcnIgb3IgbXNnLCBjYWxsIHNldFRpbWVvdXQgdG8gc2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgbWVzc2FnZSwgaS5lLiB0aW1lIGRlbGF5IGJlZm9yZSB0aGUgbWVzc2FnZSBpcyB1bmRpc3BsYXllZC5cclxuICAgICAgICBpZiAoIGFwcE1lc3NUeXBlID09PSAnZXJyJyB8fCBhcHBNZXNzVHlwZSA9PT0gJ21zZycpIHtcclxuICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICFWQSBSZWFkIHRoZSBhcHBNZXNzQ29udGVudCBpbnRvIHRoZSB0b29sdGlwIGNvbnRlbnQgZWxlbWVudFxyXG4gICAgICAgICAgICAvLyAhVkEgQ2FsbCBkaXNwbGF5QXBwTWVzc2FnZXMgd2l0aCB0aGUgaXNUcnVlIHBhcmFtZXRlciA9IGZhbHNlIHRvIHVuZGlzcGxheSB0aGUgbWVzc2FnZSBhZnRlciB0aGUgdGltZW91dC4gXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhcHBNZXNzQ29udGFpbmVySWQgaXM6ICcgKyBhcHBNZXNzQ29udGFpbmVySWQpO1xyXG4gICAgICAgICAgICBVSUNvbnRyb2xsZXIuZGlzcGxheUFwcE1lc3NhZ2VzKGZhbHNlLCBhcHBNZXNzQ29udGFpbmVySWQsIGZhbHNlICk7XHJcbiAgICAgICAgICB9LCBkdXJhdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgIC8vICFWQSBUaGlzIGlzIGEgcGFzcy10aHJ1IHRvIGFjY2VzcyBxdWVyeURPTUVsZW1lbnRzIChwdWJsaWMgVUlDb250cm9sbGVyKSAgdG8gZ2V0IHRoZSBjdXJyZW50IGRpbWVuc2lvbnMgb2YgdGhlIGR5bmFtaWMgRE9NIGVsZW1lbnRzIGFuZCBkYXRhIGF0dHJpYnV0ZXMsIGFuZCBnZXRBcHBkYXRhIChwcml2YXRlIGFwcENvbnRyb2xsZXIpIHRvIGNhbGN1bGF0ZSB0aGUgbm9uLURPTSBBcHBkYXRhIHByb3BlcnRpZXMuIFdlIGRvIHRoaXMgaGVyZSBiZWNhdXNlIEFwcGRhdGEgaGFzIHRvIGJlIHF1ZXJpZWQgaW4gYWxsIHRocmVlIG1vZHVsZXMsIHNvIGl0IGhhcyB0byBiZSBhY2Nlc3NpYmxlIGluIGFsbCBvZiB0aGVtLCBhbmQgYmVjYXVzZSBnZXRBcHBkYXRhIG5lZWRzIGdldEFzcGVjdFJhdGlvIHdoaWNoIGJlbG9uZ3MgaW4gYXBwQ29udHJvbGxlci5cclxuICAgICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHVibGljXHJcbiAgICAgIGluaXRHZXRBcHBkYXRhOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgQXBwZGF0YSA9IGdldEFwcGRhdGEoKTtcclxuICAgICAgICByZXR1cm4gQXBwZGF0YTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vICFWQSBRdWVyeSB3aGV0aGVyIGxvY2FsU3RvcmFnZSBpcyBjdXJyZW50bHkgc2V0IGZvciB2aWV3ZXJXLCBzUGhvbmVzVyBhbmQgbFBob25lc1dcclxuICAgICAgLy8gIVZBIGFwcENvbnRyb2xsZXIgcHVibGljXHJcbiAgICAgIGdldExvY2FsU3RvcmFnZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gIVZBIEdldCBsb2NhbFN0b3JhZ2UgZm9yIHZpZXdlclcgaGVyZS4gbG9jYWxTdG9yYWdlIGlzIHNldCBpbiB1cGRhdGVBcHBkYXRhIGFmdGVyIHRoZSB1c2VyIGlucHV0IGhhcyBiZWVuIHBhcnNlZCBmb3IgZXJyb3JzLiBcclxuICAgICAgICBsZXQgYXJyID0gW10sIGN1ckxvY2FsU3RvcmFnZSA9IFtdO1xyXG4gICAgICAgIC8vICFWQSBDbGVhciBsb2NhbFN0b3JhZ2UgZm9yIHRlc3Rpbmcgb25seS5cclxuICAgICAgICAvLyBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAvLyAhVkEgSWYgbG9jYWxTdG9yYWdlIGlzIHNldCBmb3Igdmlld2VyVywgc1Bob25lc1cgb3IgbGdQaG9uZXMsIGFkZCB0aGUgbG9jYWxTdG9yYWdlIHZhbHVlIHRvIGN1ckxvY2FsU3RvcmFnZSBhbmQgcmV0dXJuIGl0XHJcbiAgICAgICAgYXJyID0gWyAndmlld2VyVycsICdzUGhvbmVzVycsICdsUGhvbmVzVycgXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oYXJyW2ldKSA/IGN1ckxvY2FsU3RvcmFnZS5wdXNoKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGFycltpXSkpIDogY3VyTG9jYWxTdG9yYWdlLnB1c2goZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY3VyTG9jYWxTdG9yYWdlOicpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUuZGlyKGN1ckxvY2FsU3RvcmFnZSk7XHJcbiAgICAgICAgcmV0dXJuIGN1ckxvY2FsU3RvcmFnZTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vICFWQSBhcHBDb250cm9sbGVyIHB1YmxpY1xyXG4gICAgICBpbml0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdBcHAgaW5pdGlhbGl6ZWQuJyk7XHJcblxyXG4gICAgICAgIC8vICFWQSBEZXRlcm1pbmUgaWYgdGhlIHdpbmRvdyBpcyBhbiBpc29sYXRlIHdpbmRvdywgaS5lLiBzaG91bGQgYmUgZGlzcGxheWVkIHdpdGgganVzdCB0aGUgV2l0dHkgYXBwIGluIHdpbmRvdyB3aXRoIGZpeGVkIGRpbWVuc2lvbnMgd2l0aG91dCBoZWFkZXIgb3IgdHV0b3JpYWwgY29udGVudC5cclxuICAgICAgICBsZXQgY3VyVXJsLCBpbml0TW9kZTtcclxuICAgICAgICAvLyAhVkEgSWYgdGhlIHZhbHVlIG9mIHRoZSBxdWVyeSBzdHJpbmcgaXMgdHJ1ZSwgdGhlbiByZW1vdmUgdGhlIGhlYWRlci1jb250YWluZXIsIGlzb2xhdGUgYnV0dG9uIGFuZCBjb250ZW50IGZyb20gdGhlIERPTVxyXG4gICAgICAgIGN1clVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG5cclxuICAgICAgICBpZiAoY3VyVXJsLnN1YnN0cmluZyhjdXJVcmwubGVuZ3RoIC0gNCkgPT09ICd0cnVlJykgIHtcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItaXNvbGF0ZS1hcHAnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQtc2VjdGlvbicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgLy8gIVZBIEhpZGUgdGhlIENDUFxyXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc3RhdGljUmVnaW9ucy5jY3BDb250YWluZXIpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgIHNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyAhVkEgIFRlc3QgaWYgdGhlcmUgaXMgY3VycmVudGx5ICNjdXItaW1nIGVsZW1lbnQgd2l0aCBhbiBpbWFnZS5JZiB0aGVyZSBpcywgaXQncyBoYXJkY29kZWQgaW4gdGhlIEhUTUwgYW5kIHdlJ3JlIGluIERFViBNT0RFLiBJZiB0aGVyZSdzIG5vdCwgdGhlIGFwcCBpcyBiZWluZyBpbml0aWFsaXplZCBpbiBVU0VSIE1PREUuXHJcbiAgICAgICAgdmFyIGN1ckltZ0V4aXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZHluYW1pY1JlZ2lvbnMuY3VySW1nKTtcclxuXHJcbiAgICAgICAgaWYgKGN1ckltZ0V4aXN0cykge1xyXG4gICAgICAgICAgaW5pdE1vZGUgPSAnZGV2bW9kZSc7XHJcbiAgICAgICAgICBVSUN0cmwuaW5pdFVJKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGluaXRNb2RlID0gJ3ByZG1vZGUnO1xyXG4gICAgICAgICAgLy8gIVZBICAtIEluaXRpYWxpemUgdGhlIGFwcCBVSSBhbmQgd2FpdCBmb3IgaW5wdXRcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVJQ3RybC5pbml0VUkoaW5pdE1vZGUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICB9KShDQkNvbnRyb2xsZXIsIFVJQ29udHJvbGxlcik7XHJcblxyXG4gIGFwcENvbnRyb2xsZXIuaW5pdCgpO1xyXG5cclxuLy9OYW1lc3BhY2UgY2xvc3VyZVxyXG59KSgpOyIsIndpbmRvdy5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICB2YXIgcG9wdXBzO1xyXG4gIGlmIChldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSBcImJ0biBidG4tbGlua1wiKSB7XHJcbiAgICAvLyBHZXQgYSBjb2xsZWN0aW9uIG9mIGFsbCB0aGUgcG9wdXBzIHdpdGggdGhlIGNsYXNzIG5hbWUgJ292ZXJsYXknXHJcbiAgICBwb3B1cHMgID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnb3ZlcmxheScpO1xyXG4gICAgLy8gTG9vcCB0aHJvdWdoIGVhY2ggcG9wdXAgYW5kIGFwcGx5IHRoZSBkaXNwbGF5IHByb3BlcnR5ICdibG9jaycuIFlvdSBkb24ndCBoYXZlIHRvIGdldCBlYWNoIG9uZSBpbmRpdmlkdWFsbHkgYnkgdGhlIGlkLlxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb3B1cHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgcG9wdXBzW2ldLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChldmVudC50YXJnZXQuY2xhc3NOYW1lID09PSBcIm92ZXJsYXlcIikge1xyXG4gICAgZXZlbnQudGFyZ2V0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICB9XHJcbn07XHJcblxyXG5cclxuIl19
